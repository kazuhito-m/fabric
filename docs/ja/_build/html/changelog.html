

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Changelog &mdash; Fabric 1.8 documentation</title>
    
    <link rel="stylesheet" href="_static/rtd.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     '1.8',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="Fabric 1.8 documentation" href="index.html" />
 
<script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-18486793-1']);
  _gaq.push(['_setDomainName', '.fabfile.org']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>


  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li><a href="index.html">Fabric 1.8 documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="changelog">
<h1>Changelog<a class="headerlink" href="#changelog" title="Permalink to this headline">¶</a></h1>
<div class="section" id="1.8.0">
<h2><a class="reference external" href="https://github.com/fabric/fabric/tree/1.8.0">1.8.0</a><span> </span><span style="font-size: 75%;">2013-09-20</span><a class="headerlink" href="#1.8.0" title="Permalink to this headline">¶</a></h2>
<li>[<span style="color: #40A056;">Feature</span>]<span> </span><a class="reference external" href="https://github.com/fabric/fabric/issues/910">#910</a><span>:</span> Added a keyword argument to rsync_project to configure the
default options. Thanks to <tt class="docutils literal"><span class="pre">&#64;moorepants</span></tt> for the patch.</li>
<li>[<span style="color: #4070A0;">Support</span>]<span> </span><a class="reference external" href="https://github.com/fabric/fabric/issues/984">#984</a><span>:</span> Make this changelog easier to read! Now with
per-release sections, generated automatically from the old timeline source
format.</li>
<li>[<span style="color: #40A056;">Feature</span>]<span> </span><a class="reference external" href="https://github.com/fabric/fabric/issues/931">#931</a><span>:</span> Allow overriding of <a class="reference internal" href="api/core/utils.html#fabric.utils.abort" title="fabric.utils.abort"><tt class="xref py py-obj docutils literal"><span class="pre">abort</span></tt></a> behavior via a custom
exception-returning callable set as <a class="reference internal" href="usage/env.html#abort-exception"><em>env.abort_exception</em></a>. Thanks to Chris Rose for the patch.</li>
</div>
<div class="section" id="1.7.0">
<h2><a class="reference external" href="https://github.com/fabric/fabric/tree/1.7.0">1.7.0</a><span> </span><span style="font-size: 75%;">2013-07-26</span><a class="headerlink" href="#1.7.0" title="Permalink to this headline">¶</a></h2>
<li>[<span style="color: #40A056;">Feature</span>]<span> </span><a class="reference external" href="https://github.com/fabric/fabric/issues/845">#845</a><span>:</span> Downstream synchronization option implemented for
<a class="reference internal" href="api/contrib/project.html#fabric.contrib.project.rsync_project" title="fabric.contrib.project.rsync_project"><tt class="xref py py-obj docutils literal"><span class="pre">rsync_project</span></tt></a>. Thanks to Antonio Barrero for the
patch.</li>
<li>[<span style="color: #A04040;">Bug</span>]<span> </span><a class="reference external" href="https://github.com/fabric/fabric/issues/84">#84</a><span>:</span> Fixed problem with missing -r flag in Mac OS X sed version.
Thanks to Konrad Hałas for the patch.</li>
<li>[<span style="color: #A04040;">Bug</span>]<span> </span><a class="reference external" href="https://github.com/fabric/fabric/issues/864">#864</a><span>:</span> Allow users to disable Fabric&#8217;s auto-escaping in
<a class="reference internal" href="api/core/operations.html#fabric.operations.run" title="fabric.operations.run"><tt class="xref py py-obj docutils literal"><span class="pre">run</span></tt></a>/<a class="reference internal" href="api/core/operations.html#fabric.operations.sudo" title="fabric.operations.sudo"><tt class="xref py py-obj docutils literal"><span class="pre">sudo</span></tt></a>.  Thanks to Christian Long and Michael McHugh for the patch.</li>
<li>[<span style="color: #40A056;">Feature</span>]<span> </span><a class="reference external" href="https://github.com/fabric/fabric/issues/812">#812</a><span>:</span> Add <tt class="docutils literal"><span class="pre">use_glob</span></tt> option to <a class="reference internal" href="api/core/operations.html#fabric.operations.put" title="fabric.operations.put"><tt class="xref py py-obj docutils literal"><span class="pre">put</span></tt></a> so users trying to upload
real filenames containing glob patterns (<tt class="docutils literal"><span class="pre">*</span></tt>, <tt class="docutils literal"><span class="pre">[</span></tt> etc) can disable the
default globbing behavior. Thanks to Michael McHugh for the patch.</li>
<li>[<span style="color: #A04040;">Bug</span>]<span> </span><a class="reference external" href="https://github.com/fabric/fabric/issues/694">#694</a><span>:</span> Allow users to work around ownership issues in the default
remote login directory: add <tt class="docutils literal"><span class="pre">temp_dir</span></tt> kwarg for explicit specification of
which &#8220;bounce&#8221; folder to use when calling <a class="reference internal" href="api/core/operations.html#fabric.operations.put" title="fabric.operations.put"><tt class="xref py py-obj docutils literal"><span class="pre">put</span></tt></a> with <tt class="docutils literal"><span class="pre">use_sudo=True</span></tt>.
Thanks to Devin Bayer for the report &amp; Dieter Plaetinck / Jesse Myers for
suggesting the workaround.</li>
<li>[<span style="color: #40A056;">Feature</span>]<span> </span><a class="reference external" href="https://github.com/fabric/fabric/issues/826">#826</a><span>:</span> Enable sudo extraction of compressed archive via <tt class="xref py py-obj docutils literal"><span class="pre">use_sudo</span></tt>
kwarg in <a class="reference internal" href="api/contrib/project.html#fabric.contrib.project.upload_project" title="fabric.contrib.project.upload_project"><tt class="xref py py-obj docutils literal"><span class="pre">upload_project</span></tt></a>. Thanks to <tt class="docutils literal"><span class="pre">&#64;abec</span></tt> for the patch.</li>
<li>[<span style="color: #40A056;">Feature</span>]<span> </span><a class="reference external" href="https://github.com/fabric/fabric/issues/908">#908</a><span>:</span> Support loading SSH keys from memory. Thanks to Caleb Groom
for the patch.</li>
<li>[<span style="color: #40A056;">Feature</span>]<span> </span><a class="reference external" href="https://github.com/fabric/fabric/issues/924">#924</a><span>:</span> Add new env var option <a class="reference internal" href="usage/env.html#colorize-errors"><em>colorize_errors</em></a> to enable coloring errors and
warnings. Thanks to Aaron Meurer for the patch.</li>
<li>[<span style="color: #40A056;">Feature</span>]<span> </span><a class="reference external" href="https://github.com/fabric/fabric/issues/922">#922</a><span>:</span> Task argument strings are now displayed when using
<a class="reference internal" href="usage/fab.html#cmdoption-d"><em class="xref std std-option">fab -d</em></a>. Thanks to Kevin Qiu for the patch.</li>
<li>[<span style="color: #40A056;">Feature</span>]<span> </span><a class="reference external" href="https://github.com/fabric/fabric/issues/925">#925</a><span>:</span> Added <a class="reference internal" href="api/contrib/files.html#fabric.contrib.files.is_link" title="fabric.contrib.files.is_link"><tt class="xref py py-obj docutils literal"><span class="pre">contrib.files.is_link</span></tt></a>. Thanks to <tt class="xref py py-obj docutils literal"><span class="pre">&#64;jtangas</span></tt>
for the patch.</li>
</div>
<div class="section" id="1.6.2">
<h2><a class="reference external" href="https://github.com/fabric/fabric/tree/1.6.2">1.6.2</a><span> </span><span style="font-size: 75%;">2013-07-26</span><a class="headerlink" href="#1.6.2" title="Permalink to this headline">¶</a></h2>
<li>[<span style="color: #A04040;">Bug</span>]<span> </span><a class="reference external" href="https://github.com/fabric/fabric/issues/882">#882</a><span>:</span> Fix a <a class="reference internal" href="api/core/operations.html#fabric.operations.get" title="fabric.operations.get"><tt class="xref py py-obj docutils literal"><span class="pre">get</span></tt></a> bug regarding spaces in remote working directory
names. Thanks to Chris Rose for catch &amp; patch.</li>
<li>[<span style="color: #A04040;">Bug</span>]<span> </span><a class="reference external" href="https://github.com/fabric/fabric/issues/884">#884</a><span>:</span> The password cache feature was not working correctly with
password-requiring SSH gateway connections. That&#8217;s fixed now. Thanks to Marco
Nenciarini for the catch.</li>
<li>[<span style="color: #A04040;">Bug</span>]<span> </span><a class="reference external" href="https://github.com/fabric/fabric/issues/171">#171</a><span>:</span> Added missing cross-references from <tt class="docutils literal"><span class="pre">env</span></tt> variables documentation
to corresponding command-line options. Thanks to Daniel D. Beck for the
contribution.</li>
<li>[<span style="color: #A04040;">Bug</span>]<span> </span><a class="reference external" href="https://github.com/fabric/fabric/issues/593">#593</a><span>:</span> Non-ASCII character sets in Jinja templates rendered within
<a class="reference internal" href="api/contrib/files.html#fabric.contrib.files.upload_template" title="fabric.contrib.files.upload_template"><tt class="xref py py-obj docutils literal"><span class="pre">upload_template</span></tt></a> would cause <tt class="docutils literal"><span class="pre">UnicodeDecodeError</span></tt> when uploaded. This has
been addressed by encoding as <tt class="docutils literal"><span class="pre">utf-8</span></tt> prior to upload. Thanks to Sébastien
Fievet for the catch.</li>
<li>[<span style="color: #A04040;">Bug</span>]<span> </span><a class="reference external" href="https://github.com/fabric/fabric/issues/912">#912</a><span>:</span> Leaving <tt class="docutils literal"><span class="pre">template_dir</span></tt> un-specified when using
<a class="reference internal" href="api/contrib/files.html#fabric.contrib.files.upload_template" title="fabric.contrib.files.upload_template"><tt class="xref py py-obj docutils literal"><span class="pre">upload_template</span></tt></a> in Jinja mode used to cause <tt class="docutils literal"><span class="pre">'NoneType'</span> <span class="pre">has</span> <span class="pre">no</span> <span class="pre">attribute</span>
<span class="pre">'startswith'</span></tt> errors. This has been fixed. Thanks to Erick Yellott for catch
&amp; to Erick Yellott + Kevin Williams for patches.</li>
</div>
<div class="section" id="1.6.1">
<h2><a class="reference external" href="https://github.com/fabric/fabric/tree/1.6.1">1.6.1</a><span> </span><span style="font-size: 75%;">2013-05-23</span><a class="headerlink" href="#1.6.1" title="Permalink to this headline">¶</a></h2>
<li>[<span style="color: #40A056;">Feature</span>]<span> </span><a class="reference external" href="https://github.com/fabric/fabric/issues/845">#845</a><span>:</span> Downstream synchronization option implemented for
<a class="reference internal" href="api/contrib/project.html#fabric.contrib.project.rsync_project" title="fabric.contrib.project.rsync_project"><tt class="xref py py-obj docutils literal"><span class="pre">rsync_project</span></tt></a>. Thanks to Antonio Barrero for the
patch.</li>
<li>[<span style="color: #A04040;">Bug</span>]<span> </span><a class="reference external" href="https://github.com/fabric/fabric/issues/367">#367</a><span>:</span> Expand paths with tilde inside (<tt class="docutils literal"><span class="pre">contrib.files</span></tt>). Thanks to
Konrad Hałas for catch &amp; patch.</li>
<li>[<span style="color: #A04040;">Bug</span>]<span> </span><a class="reference external" href="https://github.com/fabric/fabric/issues/861">#861</a><span>:</span> Gracefully handle situations where users give a single string
literal to <tt class="docutils literal"><span class="pre">env.hosts</span></tt>. Thanks to Bill Tucker for catch &amp; patch.</li>
<li>[<span style="color: #A04040;">Bug</span>]<span> </span><a class="reference external" href="https://github.com/fabric/fabric/issues/871">#871</a><span>:</span> Use of string mode values in <a class="reference internal" href="api/core/operations.html#fabric.operations.put" title="fabric.operations.put"><tt class="xref py py-obj docutils literal"><span class="pre">put(local,</span> <span class="pre">remote,</span> <span class="pre">mode=&quot;NNNN&quot;)</span></tt></a> would sometimes cause <tt class="docutils literal"><span class="pre">Unsupported</span> <span class="pre">operand</span></tt> errors. This has been
fixed.</li>
<li>[<span style="color: #A04040;">Bug</span>]<span> </span><a class="reference external" href="https://github.com/fabric/fabric/issues/870">#870</a><span>:</span> Changes to shell env var escaping highlighted some extraneous and
now damaging whitespace in <a class="reference internal" href="api/core/context_managers.html#fabric.context_managers.path" title="fabric.context_managers.path"><tt class="xref py py-obj docutils literal"><span class="pre">with</span> <span class="pre">path():</span></tt></a>. This has been removed and
a regression test added.</li>
<li>[<span style="color: #A04040;">Bug</span>]<span> </span><a class="reference external" href="https://github.com/fabric/fabric/issues/328">#328</a><span>:</span> <a class="reference internal" href="api/core/context_managers.html#fabric.context_managers.lcd" title="fabric.context_managers.lcd"><tt class="xref py py-obj docutils literal"><span class="pre">lcd</span></tt></a> was no longer being correctly applied to
<a class="reference internal" href="api/contrib/files.html#fabric.contrib.files.upload_template" title="fabric.contrib.files.upload_template"><tt class="xref py py-obj docutils literal"><span class="pre">upload_template</span></tt></a>; this has been fixed. Thanks to Joseph Lawson for the
catch.</li>
<li>[<span style="color: #A04040;">Bug</span>]<span> </span><a class="reference external" href="https://github.com/fabric/fabric/issues/868">#868</a><span>:</span> Substantial speedup of parallel tasks by removing an unnecessary
blocking timeout in the <tt class="docutils literal"><span class="pre">JobQueue</span></tt> loop. Thanks to Simo Kinnunen for the
patch.</li>
</div>
<div class="section" id="1.6.0">
<h2><a class="reference external" href="https://github.com/fabric/fabric/tree/1.6.0">1.6.0</a><span> </span><span style="font-size: 75%;">2013-03-01</span><a class="headerlink" href="#1.6.0" title="Permalink to this headline">¶</a></h2>
<li>[<span style="color: #40A056;">Feature</span>]<span> </span><a class="reference external" href="https://github.com/fabric/fabric/issues/249">#249</a><span>:</span> Allow specification of remote command timeout value by
setting <a class="reference internal" href="usage/env.html#command-timeout"><em>env.command_timeout</em></a>. Thanks to Paul
McMillan for suggestion &amp; initial patch.</li>
<li>[<span style="color: #40A056;">Feature</span>]<span> </span><a class="reference external" href="https://github.com/fabric/fabric/issues/787">#787</a><span>:</span> Utilize new Paramiko feature allowing us to skip the use of
temporary local files when using file-like objects in
<a class="reference internal" href="api/core/operations.html#fabric.operations.get" title="fabric.operations.get"><tt class="xref py py-obj docutils literal"><span class="pre">get</span></tt></a>/<a class="reference internal" href="api/core/operations.html#fabric.operations.put" title="fabric.operations.put"><tt class="xref py py-obj docutils literal"><span class="pre">put</span></tt></a>.</li>
<li>[<span style="color: #40A056;">Feature</span>]<span> </span><a class="reference external" href="https://github.com/fabric/fabric/issues/735">#735</a><span>:</span> Add <tt class="docutils literal"><span class="pre">ok_ret_codes</span></tt> option to <tt class="docutils literal"><span class="pre">env</span></tt> to allow alternate
return codes to be treated os &#8220;ok&#8221;. Thanks to Andy Kraut for the pull request.</li>
<li>[<span style="color: #40A056;">Feature</span>]<span> </span><a class="reference external" href="https://github.com/fabric/fabric/issues/706">#706</a><span>:</span> Added <a class="reference internal" href="usage/env.html#env-tasks"><em>env.tasks</em></a>, returning list of tasks to
be executed by current <tt class="docutils literal"><span class="pre">fab</span></tt> command.</li>
<li>[<span style="color: #40A056;">Feature</span>]<span> </span><a class="reference external" href="https://github.com/fabric/fabric/issues/818">#818</a><span>:</span> Added <a class="reference internal" href="usage/env.html#eagerly-disconnect"><em>env.eagerly_disconnect</em></a>
option to help prevent pile-up of many open connections.</li>
<li>[<span style="color: #40A056;">Feature</span>]<span> </span><a class="reference external" href="https://github.com/fabric/fabric/issues/730">#730</a><span>:</span> Add <a class="reference internal" href="usage/env.html#system-known-hosts"><em>env.system_known_hosts/&#8211;system-known-hosts</em></a> to allow loading a user-specified system-level SSH
<tt class="docutils literal"><span class="pre">known_hosts</span></tt> file. Thanks to Roy Smith for the patch.</li>
<li>[<span style="color: #A04040;">Bug</span>]<span> </span><a class="reference external" href="https://github.com/fabric/fabric/issues/703">#703</a><span>:</span> Add a <tt class="docutils literal"><span class="pre">shell</span></tt> kwarg to many methods in
<a class="reference internal" href="api/contrib/files.html#module-fabric.contrib.files" title="fabric.contrib.files"><tt class="xref py py-obj docutils literal"><span class="pre">files</span></tt></a> to help avoid conflicts with
<a class="reference internal" href="api/core/context_managers.html#fabric.context_managers.cd" title="fabric.context_managers.cd"><tt class="xref py py-obj docutils literal"><span class="pre">cd</span></tt></a> and similar.  Thanks to <tt class="xref py py-obj docutils literal"><span class="pre">&#64;mikek</span></tt> for the patch.</li>
<li>[<span style="color: #40A056;">Feature</span>]<span> </span><a class="reference external" href="https://github.com/fabric/fabric/issues/402">#402</a><span>:</span> Attempt to detect stale SSH sessions and reconnect when they
arise. Thanks to <tt class="xref py py-obj docutils literal"><span class="pre">&#64;webengineer</span></tt> for the patch.</li>
<li>[<span style="color: #40A056;">Feature</span>]<span> </span><a class="reference external" href="https://github.com/fabric/fabric/issues/823">#823</a><span>:</span> Add <a class="reference internal" href="usage/env.html#remote-interrupt"><em>env.remote_interrupt</em></a> which
controls whether Ctrl-C is forwarded to the remote end or is captured locally
(previously, only the latter behavior was implemented). Thanks to Geert
Jansen for the patch.</li>
<li>[<span style="color: #40A056;">Feature</span>]<span> </span><a class="reference external" href="https://github.com/fabric/fabric/issues/821">#821</a><span>:</span> Add <a class="reference internal" href="api/core/context_managers.html#fabric.context_managers.remote_tunnel" title="fabric.context_managers.remote_tunnel"><tt class="xref py py-obj docutils literal"><span class="pre">remote_tunnel</span></tt></a> to allow reverse
SSH tunneling (exposing locally-visible network ports to the remote end).
Thanks to Giovanni Bajo for the patch.</li>
</div>
<div class="section" id="1.5.4">
<h2><a class="reference external" href="https://github.com/fabric/fabric/tree/1.5.4">1.5.4</a><span> </span><span style="font-size: 75%;">2013-03-01</span><a class="headerlink" href="#1.5.4" title="Permalink to this headline">¶</a></h2>
<li>[<span style="color: #A04040;">Bug</span>]<span> </span><a class="reference external" href="https://github.com/fabric/fabric/issues/587">#587</a><span>:</span> Warn instead of aborting when <a class="reference internal" href="usage/env.html#use-ssh-config"><em>env.use_ssh_config</em></a> is True but the configured SSH conf file doesn&#8217;t exist.
This allows multi-user fabfiles to enable SSH config without causing hard
stops for users lacking SSH configs. Thanks to Rodrigo Pimentel for the
report.</li>
<li>[<span style="color: #A04040;">Bug</span>]<span> </span><a class="reference external" href="https://github.com/fabric/fabric/issues/839">#839</a><span>:</span> Fix bug in <a class="reference internal" href="api/contrib/project.html#fabric.contrib.project.rsync_project" title="fabric.contrib.project.rsync_project"><tt class="xref py py-obj docutils literal"><span class="pre">rsync_project</span></tt></a> where IPv6
address were not always correctly detected. Thanks to Antonio Barrero for
catch &amp; patch.</li>
<li>[<span style="color: #A04040;">Bug</span>]<span> </span><a class="reference external" href="https://github.com/fabric/fabric/issues/843">#843</a><span>:</span> Ensure string <tt class="docutils literal"><span class="pre">pool_size</span></tt> values get run through <tt class="docutils literal"><span class="pre">int()</span></tt>
before deriving final result (stdlib <tt class="docutils literal"><span class="pre">min()</span></tt> has odd behavior here...).
Thanks to Chris Kastorff for the catch.</li>
<li>[<span style="color: #A04040;">Bug</span>]<span> </span><a class="reference external" href="https://github.com/fabric/fabric/issues/844">#844</a><span>:</span> Account for SSH config overhaul in Paramiko 1.10 by e.g. updating
treatment of <tt class="docutils literal"><span class="pre">IdentityFile</span></tt> to handle multiple values. <strong>This and related
SSH config parsing changes are backwards incompatible</strong>; we are including
them in this release because they do fix incorrect, off-spec behavior.</li>
</div>
<div class="section" id="1.5.3">
<h2><a class="reference external" href="https://github.com/fabric/fabric/tree/1.5.3">1.5.3</a><span> </span><span style="font-size: 75%;">2013-01-28</span><a class="headerlink" href="#1.5.3" title="Permalink to this headline">¶</a></h2>
<li>[<span style="color: #A04040;">Bug</span>]<span> </span><a class="reference external" href="https://github.com/fabric/fabric/issues/791">#791</a><span>:</span> Cast <a class="reference internal" href="api/core/operations.html#fabric.operations.reboot" title="fabric.operations.reboot"><tt class="xref py py-obj docutils literal"><span class="pre">reboot</span></tt></a>&#8216;s <tt class="docutils literal"><span class="pre">wait</span></tt> parameter to a numeric
type in case the caller submitted a string by mistake. Thanks to Thomas
Schreiber for the patch.</li>
<li>[<span style="color: #A04040;">Bug</span>]<span> </span><a class="reference external" href="https://github.com/fabric/fabric/issues/654">#654</a><span>:</span> Parallel runs whose sum total of returned data was large (e.g.
large return values from the task, or simply a large number of hosts in the
host list) were causing frustrating hangs. This has been fixed.</li>
<li>[<span style="color: #A04040;">Bug</span>]<span> </span><a class="reference external" href="https://github.com/fabric/fabric/issues/805">#805</a><span>:</span> Update <a class="reference internal" href="api/core/context_managers.html#fabric.context_managers.shell_env" title="fabric.context_managers.shell_env"><tt class="xref py py-obj docutils literal"><span class="pre">shell_env</span></tt></a> to play nice with
Windows (7, at least) systems and <a class="reference internal" href="api/core/operations.html#fabric.operations.local" title="fabric.operations.local"><tt class="xref py py-obj docutils literal"><span class="pre">local</span></tt></a>. Thanks to
Fernando Macedo for the patch.</li>
<li>[<span style="color: #A04040;">Bug</span>]<span> </span><a class="reference external" href="https://github.com/fabric/fabric/issues/806">#806</a><span>:</span> Force strings given to <tt class="docutils literal"><span class="pre">getpass</span></tt> during password prompts to be
ASCII, to prevent issues on some platforms when Unicode is encountered.
Thanks to Alex Louden for the patch.</li>
</div>
<div class="section" id="1.5.2">
<h2><a class="reference external" href="https://github.com/fabric/fabric/tree/1.5.2">1.5.2</a><span> </span><span style="font-size: 75%;">2013-01-15</span><a class="headerlink" href="#1.5.2" title="Permalink to this headline">¶</a></h2>
<li>[<span style="color: #A04040;">Bug</span>]<span>:</span><span> </span>Added current host string to prompt abort error messages.</li>
<li>[<span style="color: #A04040;">Bug</span>]<span> </span><a class="reference external" href="https://github.com/fabric/fabric/issues/775">#775</a><span>:</span> Shell escaping was incorrectly applied to the value of <tt class="docutils literal"><span class="pre">$PATH</span></tt>
updates in our shell environment handling, causing (at the very least)
<a class="reference internal" href="api/core/operations.html#fabric.operations.local" title="fabric.operations.local"><tt class="xref py py-obj docutils literal"><span class="pre">local</span></tt></a> binary paths to become inoperable in certain
situations.  This has been fixed.</li>
<li>[<span style="color: #A04040;">Bug</span>]<span> </span><a class="reference external" href="https://github.com/fabric/fabric/issues/792">#792</a><span>:</span> The newish <a class="reference internal" href="api/core/context_managers.html#fabric.context_managers.shell_env" title="fabric.context_managers.shell_env"><tt class="xref py py-obj docutils literal"><span class="pre">shell_env</span></tt></a> context manager
was incorrectly omitted from the <tt class="docutils literal"><span class="pre">fabric.api</span></tt> import endpoint. This has
been remedied. Thanks to Vishal Rana for the catch.</li>
<li>[<span style="color: #A04040;">Bug</span>]<span> </span><a class="reference external" href="https://github.com/fabric/fabric/issues/604">#604</a><span>:</span> Fixed wrong treatment of backslashes in put operation when uploading
directory tree on Windows. Thanks to Jason Coombs for the catch and
<tt class="xref py py-obj docutils literal"><span class="pre">&#64;diresys</span></tt> &amp; Oliver Janik for the patch.
for the patch.</li>
<li>[<span style="color: #A04040;">Bug</span>]<span> </span><a class="reference external" href="https://github.com/fabric/fabric/issues/766">#766</a><span>:</span> Use the variable name of a new-style <tt class="docutils literal"><span class="pre">fabric.tasks.Task</span></tt>
subclass object when the object name attribute is undefined.  Thanks to
<tt class="xref py py-obj docutils literal"><span class="pre">&#64;todddeluca</span></tt> for the patch.</li>
</div>
<div class="section" id="1.5.1">
<h2><a class="reference external" href="https://github.com/fabric/fabric/tree/1.5.1">1.5.1</a><span> </span><span style="font-size: 75%;">2012-11-15</span><a class="headerlink" href="#1.5.1" title="Permalink to this headline">¶</a></h2>
<li>[<span style="color: #A04040;">Bug</span>]<span> </span><a class="reference external" href="https://github.com/fabric/fabric/issues/771">#771</a><span>:</span> Sphinx autodoc helper <a class="reference internal" href="api/core/docs.html#fabric.docs.unwrap_tasks" title="fabric.docs.unwrap_tasks"><tt class="xref py py-obj docutils literal"><span class="pre">unwrap_tasks</span></tt></a> didn&#8217;t play nice
with <tt class="docutils literal"><span class="pre">&#64;task(name=xxx)</span></tt> in some situations. This has been fixed.</li>
<li>[<span style="color: #A04040;">Bug</span>]<span> </span><a class="reference external" href="https://github.com/fabric/fabric/issues/776">#776</a><span>:</span> Fixed serious-but-non-obvious bug in direct-tcpip driven
gatewaying (e.g. that triggered by <tt class="docutils literal"><span class="pre">-g</span></tt> or <tt class="docutils literal"><span class="pre">env.gateway</span></tt>.) Should work
correctly now.</li>
</div>
<div class="section" id="1.5.0">
<h2><a class="reference external" href="https://github.com/fabric/fabric/tree/1.5.0">1.5.0</a><span> </span><span style="font-size: 75%;">2012-11-06</span><a class="headerlink" href="#1.5.0" title="Permalink to this headline">¶</a></h2>
<li>[<span style="color: #40A056;">Feature</span>]<span> </span><a class="reference external" href="https://github.com/fabric/fabric/issues/615">#615</a><span>:</span> Updated <a class="reference internal" href="api/core/operations.html#fabric.operations.sudo" title="fabric.operations.sudo"><tt class="xref py py-obj docutils literal"><span class="pre">sudo</span></tt></a> to honor the new setting
<a class="reference internal" href="usage/env.html#sudo-user"><em>env.sudo_user</em></a> as a default for its <tt class="docutils literal"><span class="pre">user</span></tt> kwarg.</li>
<li>[<span style="color: #4070A0;">Support</span>]<span> </span><a class="reference external" href="https://github.com/fabric/fabric/issues/626">#626</a><span>:</span> Clarity updates to the tutorial. Thanks to GitHub
user <tt class="xref py py-obj docutils literal"><span class="pre">m4z</span></tt> for the patches.</li>
<li>[<span style="color: #4070A0;">Support</span>]<span> </span><a class="reference external" href="https://github.com/fabric/fabric/issues/634">#634</a><span>:</span> Clarified that <a class="reference internal" href="api/core/context_managers.html#fabric.context_managers.lcd" title="fabric.context_managers.lcd"><tt class="xref py py-obj docutils literal"><span class="pre">lcd</span></tt></a> does
no special handling re: the user&#8217;s current working directory, and thus
relative paths given to it will be relative to <tt class="docutils literal"><span class="pre">os.getcwd()</span></tt>. Thanks to
<a class="reference external" href="https://github.com/techtonik">&#64;techtonik</a> for the catch.</li>
<li>[<span style="color: #40A056;">Feature</span>]<span> </span><a class="reference external" href="https://github.com/fabric/fabric/issues/633">#633</a><span>:</span> Allow users to turn off host list deduping by setting
<a class="reference internal" href="usage/env.html#dedupe-hosts"><em>env.dedupe_hosts</em></a> to <tt class="docutils literal"><span class="pre">False</span></tt>. This enables running the
same task multiple times on a single host, which was previously not possible.</li>
<li>[<span style="color: #40A056;">Feature</span>]<span> </span><a class="reference external" href="https://github.com/fabric/fabric/issues/627">#627</a><span>:</span> Added convenient <tt class="docutils literal"><span class="pre">quiet</span></tt> and <tt class="docutils literal"><span class="pre">warn_only</span></tt> keyword arguments
to <a class="reference internal" href="api/core/operations.html#fabric.operations.run" title="fabric.operations.run"><tt class="xref py py-obj docutils literal"><span class="pre">run</span></tt></a>/<a class="reference internal" href="api/core/operations.html#fabric.operations.sudo" title="fabric.operations.sudo"><tt class="xref py py-obj docutils literal"><span class="pre">sudo</span></tt></a> which are aliases for
<tt class="docutils literal"><span class="pre">settings(hide('everything'),</span> <span class="pre">warn_only=True)</span></tt> and
<tt class="docutils literal"><span class="pre">settings(warn_only=True)</span></tt>, respectively. (Also added corresponding
<a class="reference internal" href="api/core/context_managers.html#fabric.context_managers.quiet" title="fabric.context_managers.quiet"><tt class="xref py py-obj docutils literal"><span class="pre">context</span></tt></a> <a class="reference internal" href="api/core/context_managers.html#fabric.context_managers.warn_only" title="fabric.context_managers.warn_only"><tt class="xref py py-obj docutils literal"><span class="pre">managers</span></tt></a>.) Useful for remote program calls which
are expected to fail and/or whose output doesn&#8217;t need to be shown to users.</li>
<li>[<span style="color: #4070A0;">Support</span>]<span> </span><a class="reference external" href="https://github.com/fabric/fabric/issues/640">#640</a><span>:</span> (also <a class="reference external" href="https://github.com/fabric/fabric/issues/644">#644</a>) Update packaging manifest so
sdist tarballs include all necessary test &amp; doc files. Thanks to Mike Gilbert
and <tt class="xref py py-obj docutils literal"><span class="pre">&#64;Arfrever</span></tt> for catch &amp; patch.</li>
<li>[<span style="color: #4070A0;">Support</span>]<span> </span><a class="reference external" href="https://github.com/fabric/fabric/issues/645">#645</a><span>:</span> Update Sphinx docs to work well when run out of a
source tarball as opposed to a Git checkout. Thanks again to <tt class="xref py py-obj docutils literal"><span class="pre">&#64;Arfrever</span></tt> for
the catch.</li>
<li>[<span style="color: #40A056;">Feature</span>]<span> </span><a class="reference external" href="https://github.com/fabric/fabric/issues/646">#646</a><span>:</span> Allow specification of which local streams to use when
<a class="reference internal" href="api/core/operations.html#fabric.operations.run" title="fabric.operations.run"><tt class="xref py py-obj docutils literal"><span class="pre">run</span></tt></a>/<a class="reference internal" href="api/core/operations.html#fabric.operations.sudo" title="fabric.operations.sudo"><tt class="xref py py-obj docutils literal"><span class="pre">sudo</span></tt></a> print the remote
stdout/stderr, via e.g. <tt class="docutils literal"><span class="pre">run(&quot;command&quot;,</span> <span class="pre">stderr=sys.stdout)</span></tt>.</li>
<li>[<span style="color: #40A056;">Feature</span>]<span> </span><a class="reference external" href="https://github.com/fabric/fabric/issues/241">#241</a><span>:</span> Add the command executed as a <tt class="docutils literal"><span class="pre">.command</span></tt> attribute to the
return value of <a class="reference internal" href="api/core/operations.html#fabric.operations.run" title="fabric.operations.run"><tt class="xref py py-obj docutils literal"><span class="pre">run</span></tt></a>/<a class="reference internal" href="api/core/operations.html#fabric.operations.sudo" title="fabric.operations.sudo"><tt class="xref py py-obj docutils literal"><span class="pre">sudo</span></tt></a>. (Also
includes a second attribute containing the &#8220;real&#8221; command executed, including
the shell wrapper and any escaping.)</li>
<li>[<span style="color: #4070A0;">Support</span>]<span> </span><a class="reference external" href="https://github.com/fabric/fabric/issues/651">#651</a><span>:</span> Added note about nesting <tt class="docutils literal"><span class="pre">with</span></tt> statements on
Python 2.6+.  Thanks to Jens Rantil for the patch.</li>
<li>[<span style="color: #40A056;">Feature</span>]<span> </span><a class="reference external" href="https://github.com/fabric/fabric/issues/669">#669</a><span>:</span> Updates to our Windows compatibility to rely more heavily on
cross-platform Python stdlib implementations. Thanks to Alexey Diyan for the
patch.</li>
<li>[<span style="color: #40A056;">Feature</span>]<span> </span><a class="reference external" href="https://github.com/fabric/fabric/issues/263">#263</a><span>:</span> Shell environment variable support for
<a class="reference internal" href="api/core/operations.html#fabric.operations.run" title="fabric.operations.run"><tt class="xref py py-obj docutils literal"><span class="pre">run</span></tt></a>/<a class="reference internal" href="api/core/operations.html#fabric.operations.sudo" title="fabric.operations.sudo"><tt class="xref py py-obj docutils literal"><span class="pre">sudo</span></tt></a> added in the form of the
<a class="reference internal" href="api/core/context_managers.html#fabric.context_managers.shell_env" title="fabric.context_managers.shell_env"><tt class="xref py py-obj docutils literal"><span class="pre">shell_env</span></tt></a> context manager. Thanks to Oliver
Tonnhofer for the original pull request, and to Kamil Kisiel for the final
implementation.</li>
<li>[<span style="color: #4070A0;">Support</span>]<span> </span><a class="reference external" href="https://github.com/fabric/fabric/issues/681">#681</a><span>:</span> Fixed outdated docstring for
<a class="reference internal" href="api/core/decorators.html#fabric.decorators.runs_once" title="fabric.decorators.runs_once"><tt class="xref py py-obj docutils literal"><span class="pre">runs_once</span></tt></a> which claimed it would get run multiple times
in parallel mode. That behavior was fixed in an earlier release but the docs
were not updated. Thanks to Jan Brauer for the catch.</li>
<li>[<span style="color: #A04040;">Bug</span>]<span> </span><a class="reference external" href="https://github.com/fabric/fabric/issues/702">#702</a><span>:</span> <a class="reference internal" href="api/core/operations.html#fabric.operations.require" title="fabric.operations.require"><tt class="xref py py-obj docutils literal"><span class="pre">require</span></tt></a> failed to test for &#8220;empty&#8221;
values in the env keys it checks (e.g.
<tt class="docutils literal"><span class="pre">require('a-key-whose-value-is-an-empty-list')</span></tt> would register a successful
result instead of alerting that the value was in fact empty. This has been
fixed, thanks to Rich Schumacher.</li>
<li>[<span style="color: #A04040;">Bug</span>]<span> </span><a class="reference external" href="https://github.com/fabric/fabric/issues/711">#711</a><span>:</span> <tt class="xref py py-obj docutils literal"><span class="pre">get</span></tt> would fail when filenames had % in their
path.  Thanks to John Begeman</li>
<li>[<span style="color: #40A056;">Feature</span>]<span> </span><a class="reference external" href="https://github.com/fabric/fabric/issues/699">#699</a><span>:</span> Allow <tt class="xref py py-obj docutils literal"><span class="pre">name</span></tt> attribute on file-like objects for get/put. Thanks
to Peter Lyons for the pull request.</li>
<li>[<span style="color: #40A056;">Feature</span>]<span> </span><a class="reference external" href="https://github.com/fabric/fabric/issues/491">#491</a><span>:</span> (also [<span style="color: #40A056;">Feature</span>]<span> </span><a class="reference external" href="https://github.com/fabric/fabric/issues/385">#385</a><span>:</span>) IPv6 host string support. Thanks to Max
Arnold for the patch.</li>
<li>[<span style="color: #A04040;">Bug</span>]<span> </span><a class="reference external" href="https://github.com/fabric/fabric/issues/704">#704</a><span>:</span> Fix up a bunch of Python 2.x style <tt class="docutils literal"><span class="pre">print</span></tt> statements to
be forwards compatible. Thanks to Francesco Del Degan for the patch.</li>
<li>[<span style="color: #40A056;">Feature</span>]<span> </span><a class="reference external" href="https://github.com/fabric/fabric/issues/725">#725</a><span>:</span> Updated <a class="reference internal" href="api/core/operations.html#fabric.operations.local" title="fabric.operations.local"><tt class="xref py py-obj docutils literal"><span class="pre">local</span></tt></a> to allow override
of which local shell is used. Thanks to Mustafa Khattab.</li>
<li>[<span style="color: #40A056;">Feature</span>]<span> </span><a class="reference external" href="https://github.com/fabric/fabric/issues/723">#723</a><span>:</span> Add the <tt class="docutils literal"><span class="pre">group=</span></tt> argument to
<a class="reference internal" href="api/core/operations.html#fabric.operations.sudo" title="fabric.operations.sudo"><tt class="xref py py-obj docutils literal"><span class="pre">sudo</span></tt></a>. Thanks to Antti Kaihola for the pull request.</li>
<li>[<span style="color: #40A056;">Feature</span>]<span> </span><a class="reference external" href="https://github.com/fabric/fabric/issues/761">#761</a><span>:</span> Allow advanced users to parameterize <tt class="docutils literal"><span class="pre">fabric.main.main()</span></tt> to
force loading of specific fabfiles.</li>
<li>[<span style="color: #40A056;">Feature</span>]<span> </span><a class="reference external" href="https://github.com/fabric/fabric/issues/578">#578</a><span>:</span> Add <tt class="docutils literal"><span class="pre">name</span></tt> argument to <a class="reference internal" href="api/core/decorators.html#fabric.decorators.task" title="fabric.decorators.task"><tt class="xref py py-obj docutils literal"><span class="pre">task</span></tt></a> (<a class="reference internal" href="usage/tasks.html#task-decorator-arguments"><em>docs</em></a>) to allow overriding of the default &#8220;function
name is task name&#8221; behavior. Thanks to Daniel Simmons for catch &amp; patch.</li>
<li>[<span style="color: #40A056;">Feature</span>]<span> </span><a class="reference external" href="https://github.com/fabric/fabric/issues/665">#665</a><span>:</span> (and #629) Update <a class="reference internal" href="api/contrib/files.html#fabric.contrib.files.upload_template" title="fabric.contrib.files.upload_template"><tt class="xref py py-obj docutils literal"><span class="pre">upload_template</span></tt></a> to
have a more useful return value, namely that of its internal
<a class="reference internal" href="api/core/operations.html#fabric.operations.put" title="fabric.operations.put"><tt class="xref py py-obj docutils literal"><span class="pre">put</span></tt></a> call. Thanks to Miquel Torres for the catch &amp;
Rodrigue Alcazar for the patch.</li>
<li>[<span style="color: #40A056;">Feature</span>]<span> </span><a class="reference external" href="https://github.com/fabric/fabric/issues/763">#763</a><span>:</span> Add <a class="reference internal" href="usage/fab.html#cmdoption-I"><em class="xref std std-option">--initial-password-prompt</em></a> to allow
prefilling the password cache at the start of a run. Great for sudo-powered
parallel runs.</li>
<li>[<span style="color: #A04040;">Bug</span>]<span> </span><a class="reference external" href="https://github.com/fabric/fabric/issues/736">#736</a><span>:</span> Ensure context managers that build env vars play nice with
<tt class="docutils literal"><span class="pre">contextlib.nested</span></tt> by deferring env var reference to entry time, not call
time. Thanks to Matthew Tretter for catch &amp; patch.</li>
<li>[<span style="color: #A04040;">Bug</span>]<span> </span><a class="reference external" href="https://github.com/fabric/fabric/issues/767">#767</a><span>:</span> Fix (and add test for) regression re: having linewise output
automatically activate when parallelism is in effect. Thanks to Alexander
Fortin and Dustin McQuay for the bug reports.</li>
<li>[<span style="color: #4070A0;">Support</span>]<span> </span><a class="reference external" href="https://github.com/fabric/fabric/issues/103">#103</a><span>:</span> (via <a class="reference external" href="https://github.com/fabric/fabric/issues/748">#748</a>) Long standing Sphinx autodoc issue requiring
error-prone duplication of function signatures in our API docs has been
fixed. Thanks to Alex Morega for the patch.</li>
<li>[<span style="color: #40A056;">Feature</span>]<span> </span><a class="reference external" href="https://github.com/fabric/fabric/issues/684">#684</a><span>:</span> (also <a class="reference external" href="https://github.com/fabric/fabric/issues/569">#569</a>) Update how
<a class="reference internal" href="api/core/decorators.html#fabric.decorators.task" title="fabric.decorators.task"><tt class="xref py py-obj docutils literal"><span class="pre">task</span></tt></a> wraps task functions to preserve additional
metadata; this allows decorated functions to play nice with Sphinx autodoc.
Thanks to Jaka Hudoklin for catch &amp; patch.</li>
<li>[<span style="color: #40A056;">Feature</span>]<span> </span><a class="reference external" href="https://github.com/fabric/fabric/issues/38">#38</a><span>:</span> (also <a class="reference external" href="https://github.com/fabric/fabric/issues/698">#698</a>) Implement both SSH-level and
<tt class="docutils literal"><span class="pre">ProxyCommand</span></tt>-based gatewaying for SSH traffic. (This is distinct from
tunneling non-SSH traffic over the SSH connection, which is <a class="reference external" href="https://github.com/fabric/fabric/issues/78">#78</a> and
not implemented yet.)</li>
</div>
<div class="section" id="1.4.4">
<h2><a class="reference external" href="https://github.com/fabric/fabric/tree/1.4.4">1.4.4</a><span> </span><span style="font-size: 75%;">2012-11-06</span><a class="headerlink" href="#1.4.4" title="Permalink to this headline">¶</a></h2>
<li>[<span style="color: #4070A0;">Support</span>]<span> </span><a class="reference external" href="https://github.com/fabric/fabric/issues/681">#681</a><span>:</span> Fixed outdated docstring for
<a class="reference internal" href="api/core/decorators.html#fabric.decorators.runs_once" title="fabric.decorators.runs_once"><tt class="xref py py-obj docutils literal"><span class="pre">runs_once</span></tt></a> which claimed it would get run multiple times
in parallel mode. That behavior was fixed in an earlier release but the docs
were not updated. Thanks to Jan Brauer for the catch.</li>
<li>[<span style="color: #A04040;">Bug</span>]<span> </span><a class="reference external" href="https://github.com/fabric/fabric/issues/693">#693</a><span>:</span> Fixed edge case where <tt class="docutils literal"><span class="pre">abort</span></tt> driven failures within parallel
tasks could result in a top level exception (a <tt class="docutils literal"><span class="pre">KeyError</span></tt>) regarding error
handling. Thanks to Marcin Kuźmiński for the report.</li>
<li>[<span style="color: #A04040;">Bug</span>]<span> </span><a class="reference external" href="https://github.com/fabric/fabric/issues/718">#718</a><span>:</span> <tt class="docutils literal"><span class="pre">isinstance(foo,</span> <span class="pre">Bar)</span></tt> is used in <tt class="xref py py-obj docutils literal"><span class="pre">main</span></tt> instead
of <tt class="docutils literal"><span class="pre">type(foo)</span> <span class="pre">==</span> <span class="pre">Bar</span></tt> in order to fix some edge cases.
Thanks to Mikhail Korobov.</li>
<li>[<span style="color: #A04040;">Bug</span>]<span> </span><a class="reference external" href="https://github.com/fabric/fabric/issues/749">#749</a><span>:</span> Gracefully work around calls to <tt class="docutils literal"><span class="pre">fabric.version</span></tt> on systems
lacking <tt class="docutils literal"><span class="pre">/bin/sh</span></tt> (which causes an <tt class="docutils literal"><span class="pre">OSError</span></tt> in <tt class="docutils literal"><span class="pre">subprocess.Popen</span></tt>
calls.)</li>
<li>[<span style="color: #40A056;">Feature</span>]<span> </span><a class="reference external" href="https://github.com/fabric/fabric/issues/684">#684</a><span>:</span> (also <a class="reference external" href="https://github.com/fabric/fabric/issues/569">#569</a>) Update how
<a class="reference internal" href="api/core/decorators.html#fabric.decorators.task" title="fabric.decorators.task"><tt class="xref py py-obj docutils literal"><span class="pre">task</span></tt></a> wraps task functions to preserve additional
metadata; this allows decorated functions to play nice with Sphinx autodoc.
Thanks to Jaka Hudoklin for catch &amp; patch.</li>
</div>
<div class="section" id="1.4.3">
<h2><a class="reference external" href="https://github.com/fabric/fabric/tree/1.4.3">1.4.3</a><span> </span><span style="font-size: 75%;">2012-07-06</span><a class="headerlink" href="#1.4.3" title="Permalink to this headline">¶</a></h2>
<li>[<span style="color: #4070A0;">Support</span>]<span> </span><a class="reference external" href="https://github.com/fabric/fabric/issues/634">#634</a><span>:</span> Clarified that <a class="reference internal" href="api/core/context_managers.html#fabric.context_managers.lcd" title="fabric.context_managers.lcd"><tt class="xref py py-obj docutils literal"><span class="pre">lcd</span></tt></a> does
no special handling re: the user&#8217;s current working directory, and thus
relative paths given to it will be relative to <tt class="docutils literal"><span class="pre">os.getcwd()</span></tt>. Thanks to
<a class="reference external" href="https://github.com/techtonik">&#64;techtonik</a> for the catch.</li>
<li>[<span style="color: #4070A0;">Support</span>]<span> </span><a class="reference external" href="https://github.com/fabric/fabric/issues/640">#640</a><span>:</span> (also <a class="reference external" href="https://github.com/fabric/fabric/issues/644">#644</a>) Update packaging manifest so
sdist tarballs include all necessary test &amp; doc files. Thanks to Mike Gilbert
and <tt class="xref py py-obj docutils literal"><span class="pre">&#64;Arfrever</span></tt> for catch &amp; patch.</li>
<li>[<span style="color: #4070A0;">Support</span>]<span> </span><a class="reference external" href="https://github.com/fabric/fabric/issues/645">#645</a><span>:</span> Update Sphinx docs to work well when run out of a
source tarball as opposed to a Git checkout. Thanks again to <tt class="xref py py-obj docutils literal"><span class="pre">&#64;Arfrever</span></tt> for
the catch.</li>
<li>[<span style="color: #A04040;">Bug</span>]<span> </span><a class="reference external" href="https://github.com/fabric/fabric/issues/649">#649</a><span>:</span> Don&#8217;t swallow non-<tt class="docutils literal"><span class="pre">abort</span></tt>-driven exceptions in parallel mode.
Fabric correctly printed such exceptions, and returned them from
<a class="reference internal" href="api/core/tasks.html#fabric.tasks.execute" title="fabric.tasks.execute"><tt class="xref py py-obj docutils literal"><span class="pre">execute</span></tt></a>, but did not actually cause the child or parent
processes to halt with a nonzero status. This has been fixed.
<a class="reference internal" href="api/core/tasks.html#fabric.tasks.execute" title="fabric.tasks.execute"><tt class="xref py py-obj docutils literal"><span class="pre">execute</span></tt></a> now also honors <a class="reference internal" href="usage/env.html#warn-only"><em>env.warn_only</em></a> so
users may still opt to call it by hand and inspect the returned exceptions,
instead of encountering a hard stop. Thanks to Matt Robenolt for the catch.</li>
<li>[<span style="color: #4070A0;">Support</span>]<span> </span><a class="reference external" href="https://github.com/fabric/fabric/issues/651">#651</a><span>:</span> Added note about nesting <tt class="docutils literal"><span class="pre">with</span></tt> statements on
Python 2.6+.  Thanks to Jens Rantil for the patch.</li>
<li>[<span style="color: #A04040;">Bug</span>]<span> </span><a class="reference external" href="https://github.com/fabric/fabric/issues/652">#652</a><span>:</span> Show available commands when aborting on invalid command names.</li>
<li>[<span style="color: #A04040;">Bug</span>]<span> </span><a class="reference external" href="https://github.com/fabric/fabric/issues/659">#659</a><span>:</span> Update docs to reflect that <a class="reference internal" href="api/core/operations.html#fabric.operations.local" title="fabric.operations.local"><tt class="xref py py-obj docutils literal"><span class="pre">local</span></tt></a> currently
honors <a class="reference internal" href="usage/env.html#env-path"><em>env.path</em></a>. Thanks to <a class="reference external" href="https://github.com/floledermann">&#64;floledermann</a> for the catch.</li>
<li>[<span style="color: #A04040;">Bug</span>]<span> </span><a class="reference external" href="https://github.com/fabric/fabric/issues/671">#671</a><span>:</span> <a class="reference internal" href="usage/env.html#reject-unknown-hosts"><em>reject_unknown_hosts</em></a> sometimes resulted in a password
prompt instead of an abort. This has been fixed. Thanks to Roy Smith for the
report.</li>
</div>
<div class="section" id="1.3.8">
<h2><a class="reference external" href="https://github.com/fabric/fabric/tree/1.3.8">1.3.8</a><span> </span><span style="font-size: 75%;">2012-07-06</span><a class="headerlink" href="#1.3.8" title="Permalink to this headline">¶</a></h2>
<li>[<span style="color: #4070A0;">Support</span>]<span> </span><a class="reference external" href="https://github.com/fabric/fabric/issues/634">#634</a><span>:</span> Clarified that <a class="reference internal" href="api/core/context_managers.html#fabric.context_managers.lcd" title="fabric.context_managers.lcd"><tt class="xref py py-obj docutils literal"><span class="pre">lcd</span></tt></a> does
no special handling re: the user&#8217;s current working directory, and thus
relative paths given to it will be relative to <tt class="docutils literal"><span class="pre">os.getcwd()</span></tt>. Thanks to
<a class="reference external" href="https://github.com/techtonik">&#64;techtonik</a> for the catch.</li>
<li>[<span style="color: #4070A0;">Support</span>]<span> </span><a class="reference external" href="https://github.com/fabric/fabric/issues/640">#640</a><span>:</span> (also <a class="reference external" href="https://github.com/fabric/fabric/issues/644">#644</a>) Update packaging manifest so
sdist tarballs include all necessary test &amp; doc files. Thanks to Mike Gilbert
and <tt class="xref py py-obj docutils literal"><span class="pre">&#64;Arfrever</span></tt> for catch &amp; patch.</li>
<li>[<span style="color: #4070A0;">Support</span>]<span> </span><a class="reference external" href="https://github.com/fabric/fabric/issues/645">#645</a><span>:</span> Update Sphinx docs to work well when run out of a
source tarball as opposed to a Git checkout. Thanks again to <tt class="xref py py-obj docutils literal"><span class="pre">&#64;Arfrever</span></tt> for
the catch.</li>
<li>[<span style="color: #A04040;">Bug</span>]<span> </span><a class="reference external" href="https://github.com/fabric/fabric/issues/649">#649</a><span>:</span> Don&#8217;t swallow non-<tt class="docutils literal"><span class="pre">abort</span></tt>-driven exceptions in parallel mode.
Fabric correctly printed such exceptions, and returned them from
<a class="reference internal" href="api/core/tasks.html#fabric.tasks.execute" title="fabric.tasks.execute"><tt class="xref py py-obj docutils literal"><span class="pre">execute</span></tt></a>, but did not actually cause the child or parent
processes to halt with a nonzero status. This has been fixed.
<a class="reference internal" href="api/core/tasks.html#fabric.tasks.execute" title="fabric.tasks.execute"><tt class="xref py py-obj docutils literal"><span class="pre">execute</span></tt></a> now also honors <a class="reference internal" href="usage/env.html#warn-only"><em>env.warn_only</em></a> so
users may still opt to call it by hand and inspect the returned exceptions,
instead of encountering a hard stop. Thanks to Matt Robenolt for the catch.</li>
<li>[<span style="color: #4070A0;">Support</span>]<span> </span><a class="reference external" href="https://github.com/fabric/fabric/issues/651">#651</a><span>:</span> Added note about nesting <tt class="docutils literal"><span class="pre">with</span></tt> statements on
Python 2.6+.  Thanks to Jens Rantil for the patch.</li>
<li>[<span style="color: #A04040;">Bug</span>]<span> </span><a class="reference external" href="https://github.com/fabric/fabric/issues/652">#652</a><span>:</span> Show available commands when aborting on invalid command names.</li>
<li>[<span style="color: #A04040;">Bug</span>]<span> </span><a class="reference external" href="https://github.com/fabric/fabric/issues/659">#659</a><span>:</span> Update docs to reflect that <a class="reference internal" href="api/core/operations.html#fabric.operations.local" title="fabric.operations.local"><tt class="xref py py-obj docutils literal"><span class="pre">local</span></tt></a> currently
honors <a class="reference internal" href="usage/env.html#env-path"><em>env.path</em></a>. Thanks to <a class="reference external" href="https://github.com/floledermann">&#64;floledermann</a> for the catch.</li>
<li>[<span style="color: #A04040;">Bug</span>]<span> </span><a class="reference external" href="https://github.com/fabric/fabric/issues/671">#671</a><span>:</span> <a class="reference internal" href="usage/env.html#reject-unknown-hosts"><em>reject_unknown_hosts</em></a> sometimes resulted in a password
prompt instead of an abort. This has been fixed. Thanks to Roy Smith for the
report.</li>
</div>
<div class="section" id="1.4.2">
<h2><a class="reference external" href="https://github.com/fabric/fabric/tree/1.4.2">1.4.2</a><span> </span><span style="font-size: 75%;">2012-05-07</span><a class="headerlink" href="#1.4.2" title="Permalink to this headline">¶</a></h2>
<li>[<span style="color: #A04040;">Bug</span>]<span> </span><a class="reference external" href="https://github.com/fabric/fabric/issues/610">#610</a><span>:</span> Change detection of <tt class="docutils literal"><span class="pre">env.key_filename</span></tt>&#8216;s type (added as part of
SSH config support in 1.4) so it supports arbitrary iterables. Thanks to
Brandon Rhodes for the catch.</li>
<li>[<span style="color: #A04040;">Bug</span>]<span> </span><a class="reference external" href="https://github.com/fabric/fabric/issues/609">#609</a><span>:</span> (and <a class="reference external" href="https://github.com/fabric/fabric/issues/564">#564</a>) Document and clean up <a class="reference internal" href="usage/env.html#sudo-prefix"><em>env.sudo_prefix</em></a> so it can be more easily modified by users facing uncommon
use cases. Thanks to GitHub users <tt class="xref py py-obj docutils literal"><span class="pre">3point2</span></tt> for the cleanup and <tt class="xref py py-obj docutils literal"><span class="pre">SirScott</span></tt>
for the documentation catch.</li>
<li>[<span style="color: #A04040;">Bug</span>]<span> </span><a class="reference external" href="https://github.com/fabric/fabric/issues/616">#616</a><span>:</span> Add port number to the error message displayed upon connection
failures.</li>
<li>[<span style="color: #A04040;">Bug</span>]<span> </span><a class="reference external" href="https://github.com/fabric/fabric/issues/617">#617</a><span>:</span> Fix the <tt class="docutils literal"><span class="pre">clean_revert</span></tt> behavior of
<a class="reference internal" href="api/core/context_managers.html#fabric.context_managers.settings" title="fabric.context_managers.settings"><tt class="xref py py-obj docutils literal"><span class="pre">settings</span></tt></a> so it doesn&#8217;t <tt class="docutils literal"><span class="pre">KeyError</span></tt> for newly
created settings keys. Thanks to Chris Streeter for the catch.</li>
<li>[<span style="color: #A04040;">Bug</span>]<span> </span><a class="reference external" href="https://github.com/fabric/fabric/issues/624">#624</a><span>:</span> Login password prompts did not always display the username being
authenticated for. This has been fixed. Thanks to Nick Zalutskiy for catch &amp;
patch.</li>
<li>[<span style="color: #A04040;">Bug</span>]<span> </span><a class="reference external" href="https://github.com/fabric/fabric/issues/625">#625</a><span>:</span> <a class="reference internal" href="api/core/context_managers.html#fabric.context_managers.hide" title="fabric.context_managers.hide"><tt class="xref py py-obj docutils literal"><span class="pre">hide</span></tt></a>/<a class="reference internal" href="api/core/context_managers.html#fabric.context_managers.show" title="fabric.context_managers.show"><tt class="xref py py-obj docutils literal"><span class="pre">show</span></tt></a>
did not correctly restore prior display settings if an exception was raised
inside the block. This has been fixed.</li>
<li>[<span style="color: #4070A0;">Support</span>]<span> </span><a class="reference external" href="https://github.com/fabric/fabric/issues/626">#626</a><span>:</span> Clarity updates to the tutorial. Thanks to GitHub
user <tt class="xref py py-obj docutils literal"><span class="pre">m4z</span></tt> for the patches.</li>
<li>[<span style="color: #A04040;">Bug</span>]<span> </span><a class="reference external" href="https://github.com/fabric/fabric/issues/562">#562</a><span>:</span> Agent forwarding would error out or freeze when multiple uses of
the forwarded agent were used per remote invocation (e.g. a single
<a class="reference internal" href="api/core/operations.html#fabric.operations.run" title="fabric.operations.run"><tt class="xref py py-obj docutils literal"><span class="pre">run</span></tt></a> command resulting in multiple Git or SVN checkouts.)
This has been fixed thanks to Steven McDonald and GitHub user <tt class="xref py py-obj docutils literal"><span class="pre">&#64;lynxis</span></tt>.</li>
</div>
<div class="section" id="1.3.7">
<h2><a class="reference external" href="https://github.com/fabric/fabric/tree/1.3.7">1.3.7</a><span> </span><span style="font-size: 75%;">2012-05-07</span><a class="headerlink" href="#1.3.7" title="Permalink to this headline">¶</a></h2>
<li>[<span style="color: #A04040;">Bug</span>]<span> </span><a class="reference external" href="https://github.com/fabric/fabric/issues/610">#610</a><span>:</span> Change detection of <tt class="docutils literal"><span class="pre">env.key_filename</span></tt>&#8216;s type (added as part of
SSH config support in 1.4) so it supports arbitrary iterables. Thanks to
Brandon Rhodes for the catch.</li>
<li>[<span style="color: #A04040;">Bug</span>]<span> </span><a class="reference external" href="https://github.com/fabric/fabric/issues/609">#609</a><span>:</span> (and <a class="reference external" href="https://github.com/fabric/fabric/issues/564">#564</a>) Document and clean up <a class="reference internal" href="usage/env.html#sudo-prefix"><em>env.sudo_prefix</em></a> so it can be more easily modified by users facing uncommon
use cases. Thanks to GitHub users <tt class="xref py py-obj docutils literal"><span class="pre">3point2</span></tt> for the cleanup and <tt class="xref py py-obj docutils literal"><span class="pre">SirScott</span></tt>
for the documentation catch.</li>
<li>[<span style="color: #A04040;">Bug</span>]<span> </span><a class="reference external" href="https://github.com/fabric/fabric/issues/616">#616</a><span>:</span> Add port number to the error message displayed upon connection
failures.</li>
<li>[<span style="color: #A04040;">Bug</span>]<span> </span><a class="reference external" href="https://github.com/fabric/fabric/issues/617">#617</a><span>:</span> Fix the <tt class="docutils literal"><span class="pre">clean_revert</span></tt> behavior of
<a class="reference internal" href="api/core/context_managers.html#fabric.context_managers.settings" title="fabric.context_managers.settings"><tt class="xref py py-obj docutils literal"><span class="pre">settings</span></tt></a> so it doesn&#8217;t <tt class="docutils literal"><span class="pre">KeyError</span></tt> for newly
created settings keys. Thanks to Chris Streeter for the catch.</li>
<li>[<span style="color: #A04040;">Bug</span>]<span> </span><a class="reference external" href="https://github.com/fabric/fabric/issues/624">#624</a><span>:</span> Login password prompts did not always display the username being
authenticated for. This has been fixed. Thanks to Nick Zalutskiy for catch &amp;
patch.</li>
<li>[<span style="color: #A04040;">Bug</span>]<span> </span><a class="reference external" href="https://github.com/fabric/fabric/issues/625">#625</a><span>:</span> <a class="reference internal" href="api/core/context_managers.html#fabric.context_managers.hide" title="fabric.context_managers.hide"><tt class="xref py py-obj docutils literal"><span class="pre">hide</span></tt></a>/<a class="reference internal" href="api/core/context_managers.html#fabric.context_managers.show" title="fabric.context_managers.show"><tt class="xref py py-obj docutils literal"><span class="pre">show</span></tt></a>
did not correctly restore prior display settings if an exception was raised
inside the block. This has been fixed.</li>
<li>[<span style="color: #4070A0;">Support</span>]<span> </span><a class="reference external" href="https://github.com/fabric/fabric/issues/626">#626</a><span>:</span> Clarity updates to the tutorial. Thanks to GitHub
user <tt class="xref py py-obj docutils literal"><span class="pre">m4z</span></tt> for the patches.</li>
<li>[<span style="color: #A04040;">Bug</span>]<span> </span><a class="reference external" href="https://github.com/fabric/fabric/issues/562">#562</a><span>:</span> Agent forwarding would error out or freeze when multiple uses of
the forwarded agent were used per remote invocation (e.g. a single
<a class="reference internal" href="api/core/operations.html#fabric.operations.run" title="fabric.operations.run"><tt class="xref py py-obj docutils literal"><span class="pre">run</span></tt></a> command resulting in multiple Git or SVN checkouts.)
This has been fixed thanks to Steven McDonald and GitHub user <tt class="xref py py-obj docutils literal"><span class="pre">&#64;lynxis</span></tt>.</li>
</div>
<div class="section" id="1.4.1">
<h2><a class="reference external" href="https://github.com/fabric/fabric/tree/1.4.1">1.4.1</a><span> </span><span style="font-size: 75%;">2012-04-04</span><a class="headerlink" href="#1.4.1" title="Permalink to this headline">¶</a></h2>
<li>[<span style="color: #A04040;">Bug</span>]<span> </span><a class="reference external" href="https://github.com/fabric/fabric/issues/306">#306</a><span>:</span> Remote paths now use posixpath for a separator. Thanks to Jason
Coombs for the patch.</li>
<li>[<span style="color: #A04040;">Bug</span>]<span> </span><a class="reference external" href="https://github.com/fabric/fabric/issues/572">#572</a><span>:</span> Parallel task aborts (as oppposed to unhandled exceptions) now
correctly print their abort messages instead of tracebacks, and cause the
parent process to exit with the correct (nonzero) return code. Thanks to Ian
Langworth for the catch.</li>
<li>[<span style="color: #A04040;">Bug</span>]<span> </span><a class="reference external" href="https://github.com/fabric/fabric/issues/551">#551</a><span>:</span> <a class="reference internal" href="usage/fab.html#cmdoption-l"><em class="xref std std-option">--list</em></a> output now detects terminal window size
and truncates (or doesn&#8217;t truncate) accordingly. Thanks to Horacio G. de Oro
for the initial pull request.</li>
<li>[<span style="color: #A04040;">Bug</span>]<span> </span><a class="reference external" href="https://github.com/fabric/fabric/issues/499">#499</a><span>:</span> <a class="reference internal" href="api/contrib/files.html#fabric.contrib.files.first" title="fabric.contrib.files.first"><tt class="xref py py-obj docutils literal"><span class="pre">contrib.files.first</span></tt></a> used an
outdated function signature in its wrapped <a class="reference internal" href="api/contrib/files.html#fabric.contrib.files.exists" title="fabric.contrib.files.exists"><tt class="xref py py-obj docutils literal"><span class="pre">exists</span></tt></a>
call. This has been fixed. Thanks to Massimiliano Torromeo for catch &amp; patch.</li>
<li>[<span style="color: #A04040;">Bug</span>]<span> </span><a class="reference external" href="https://github.com/fabric/fabric/issues/458">#458</a><span>:</span> <a class="reference internal" href="api/core/decorators.html#fabric.decorators.with_settings" title="fabric.decorators.with_settings"><tt class="xref py py-obj docutils literal"><span class="pre">with_settings</span></tt></a> did not perfectly match
<a class="reference internal" href="api/core/context_managers.html#fabric.context_managers.settings" title="fabric.context_managers.settings"><tt class="xref py py-obj docutils literal"><span class="pre">settings</span></tt></a>, re: ability to inline additional context
managers. This has been corrected. Thanks to Rory Geoghegan for the patch.</li>
<li>[<span style="color: #A04040;">Bug</span>]<span> </span><a class="reference external" href="https://github.com/fabric/fabric/issues/584">#584</a><span>:</span> <a class="reference internal" href="api/contrib/project.html#fabric.contrib.project.upload_project" title="fabric.contrib.project.upload_project"><tt class="xref py py-obj docutils literal"><span class="pre">upload_project</span></tt></a> did not take explicit
remote directory location into account when untarring, and now uses
<a class="reference internal" href="api/core/context_managers.html#fabric.context_managers.cd" title="fabric.context_managers.cd"><tt class="xref py py-obj docutils literal"><span class="pre">cd</span></tt></a> to address this. Thanks to Ben Burry for the
patch.</li>
<li>[<span style="color: #A04040;">Bug</span>]<span> </span><a class="reference external" href="https://github.com/fabric/fabric/issues/568">#568</a><span>:</span> <a class="reference internal" href="api/core/tasks.html#fabric.tasks.execute" title="fabric.tasks.execute"><tt class="xref py py-obj docutils literal"><span class="pre">execute</span></tt></a> allowed too much of its internal state
changes (to variables such as <tt class="docutils literal"><span class="pre">env.host_string</span></tt> and <tt class="docutils literal"><span class="pre">env.parallel</span></tt>) to
persist after execution completed; this caused a number of different
incorrect behaviors. <a class="reference internal" href="api/core/tasks.html#fabric.tasks.execute" title="fabric.tasks.execute"><tt class="xref py py-obj docutils literal"><span class="pre">execute</span></tt></a> has been overhauled to clean up
its own state changes &#8211; while preserving any state changes made by the task
being executed.</li>
<li>[<span style="color: #A04040;">Bug</span>]<span> </span><a class="reference external" href="https://github.com/fabric/fabric/issues/395">#395</a><span>:</span> Added <a class="reference internal" href="faq.html#init-scripts-pty"><em>an FAQ entry</em></a> detailing how to
handle init scripts which misbehave when a pseudo-tty is allocated.</li>
<li>[<span style="color: #A04040;">Bug</span>]<span> </span><a class="reference external" href="https://github.com/fabric/fabric/issues/607">#607</a><span>:</span> Allow <a class="reference internal" href="api/core/operations.html#fabric.operations.local" title="fabric.operations.local"><tt class="xref py py-obj docutils literal"><span class="pre">local</span></tt></a> to display stdout/stderr when it
warns/aborts, if it was capturing them.</li>
<li>[<span style="color: #A04040;">Bug</span>]<span> </span><a class="reference external" href="https://github.com/fabric/fabric/issues/608">#608</a><span>:</span> Add <tt class="docutils literal"><span class="pre">capture</span></tt> kwarg to <a class="reference internal" href="api/contrib/project.html#fabric.contrib.project.rsync_project" title="fabric.contrib.project.rsync_project"><tt class="xref py py-obj docutils literal"><span class="pre">rsync_project</span></tt></a>
to aid in debugging rsync problems.</li>
</div>
<div class="section" id="1.3.6">
<h2><a class="reference external" href="https://github.com/fabric/fabric/tree/1.3.6">1.3.6</a><span> </span><span style="font-size: 75%;">2012-04-04</span><a class="headerlink" href="#1.3.6" title="Permalink to this headline">¶</a></h2>
<li>[<span style="color: #A04040;">Bug</span>]<span> </span><a class="reference external" href="https://github.com/fabric/fabric/issues/306">#306</a><span>:</span> Remote paths now use posixpath for a separator. Thanks to Jason
Coombs for the patch.</li>
<li>[<span style="color: #A04040;">Bug</span>]<span> </span><a class="reference external" href="https://github.com/fabric/fabric/issues/572">#572</a><span>:</span> Parallel task aborts (as oppposed to unhandled exceptions) now
correctly print their abort messages instead of tracebacks, and cause the
parent process to exit with the correct (nonzero) return code. Thanks to Ian
Langworth for the catch.</li>
<li>[<span style="color: #A04040;">Bug</span>]<span> </span><a class="reference external" href="https://github.com/fabric/fabric/issues/551">#551</a><span>:</span> <a class="reference internal" href="usage/fab.html#cmdoption-l"><em class="xref std std-option">--list</em></a> output now detects terminal window size
and truncates (or doesn&#8217;t truncate) accordingly. Thanks to Horacio G. de Oro
for the initial pull request.</li>
<li>[<span style="color: #A04040;">Bug</span>]<span> </span><a class="reference external" href="https://github.com/fabric/fabric/issues/499">#499</a><span>:</span> <a class="reference internal" href="api/contrib/files.html#fabric.contrib.files.first" title="fabric.contrib.files.first"><tt class="xref py py-obj docutils literal"><span class="pre">contrib.files.first</span></tt></a> used an
outdated function signature in its wrapped <a class="reference internal" href="api/contrib/files.html#fabric.contrib.files.exists" title="fabric.contrib.files.exists"><tt class="xref py py-obj docutils literal"><span class="pre">exists</span></tt></a>
call. This has been fixed. Thanks to Massimiliano Torromeo for catch &amp; patch.</li>
<li>[<span style="color: #A04040;">Bug</span>]<span> </span><a class="reference external" href="https://github.com/fabric/fabric/issues/458">#458</a><span>:</span> <a class="reference internal" href="api/core/decorators.html#fabric.decorators.with_settings" title="fabric.decorators.with_settings"><tt class="xref py py-obj docutils literal"><span class="pre">with_settings</span></tt></a> did not perfectly match
<a class="reference internal" href="api/core/context_managers.html#fabric.context_managers.settings" title="fabric.context_managers.settings"><tt class="xref py py-obj docutils literal"><span class="pre">settings</span></tt></a>, re: ability to inline additional context
managers. This has been corrected. Thanks to Rory Geoghegan for the patch.</li>
<li>[<span style="color: #A04040;">Bug</span>]<span> </span><a class="reference external" href="https://github.com/fabric/fabric/issues/584">#584</a><span>:</span> <a class="reference internal" href="api/contrib/project.html#fabric.contrib.project.upload_project" title="fabric.contrib.project.upload_project"><tt class="xref py py-obj docutils literal"><span class="pre">upload_project</span></tt></a> did not take explicit
remote directory location into account when untarring, and now uses
<a class="reference internal" href="api/core/context_managers.html#fabric.context_managers.cd" title="fabric.context_managers.cd"><tt class="xref py py-obj docutils literal"><span class="pre">cd</span></tt></a> to address this. Thanks to Ben Burry for the
patch.</li>
<li>[<span style="color: #A04040;">Bug</span>]<span> </span><a class="reference external" href="https://github.com/fabric/fabric/issues/568">#568</a><span>:</span> <a class="reference internal" href="api/core/tasks.html#fabric.tasks.execute" title="fabric.tasks.execute"><tt class="xref py py-obj docutils literal"><span class="pre">execute</span></tt></a> allowed too much of its internal state
changes (to variables such as <tt class="docutils literal"><span class="pre">env.host_string</span></tt> and <tt class="docutils literal"><span class="pre">env.parallel</span></tt>) to
persist after execution completed; this caused a number of different
incorrect behaviors. <a class="reference internal" href="api/core/tasks.html#fabric.tasks.execute" title="fabric.tasks.execute"><tt class="xref py py-obj docutils literal"><span class="pre">execute</span></tt></a> has been overhauled to clean up
its own state changes &#8211; while preserving any state changes made by the task
being executed.</li>
<li>[<span style="color: #A04040;">Bug</span>]<span> </span><a class="reference external" href="https://github.com/fabric/fabric/issues/395">#395</a><span>:</span> Added <a class="reference internal" href="faq.html#init-scripts-pty"><em>an FAQ entry</em></a> detailing how to
handle init scripts which misbehave when a pseudo-tty is allocated.</li>
<li>[<span style="color: #A04040;">Bug</span>]<span> </span><a class="reference external" href="https://github.com/fabric/fabric/issues/607">#607</a><span>:</span> Allow <a class="reference internal" href="api/core/operations.html#fabric.operations.local" title="fabric.operations.local"><tt class="xref py py-obj docutils literal"><span class="pre">local</span></tt></a> to display stdout/stderr when it
warns/aborts, if it was capturing them.</li>
<li>[<span style="color: #A04040;">Bug</span>]<span> </span><a class="reference external" href="https://github.com/fabric/fabric/issues/608">#608</a><span>:</span> Add <tt class="docutils literal"><span class="pre">capture</span></tt> kwarg to <a class="reference internal" href="api/contrib/project.html#fabric.contrib.project.rsync_project" title="fabric.contrib.project.rsync_project"><tt class="xref py py-obj docutils literal"><span class="pre">rsync_project</span></tt></a>
to aid in debugging rsync problems.</li>
</div>
<div class="section" id="1.4.0">
<h2><a class="reference external" href="https://github.com/fabric/fabric/tree/1.4.0">1.4.0</a><span> </span><span style="font-size: 75%;">2012-02-13</span><a class="headerlink" href="#1.4.0" title="Permalink to this headline">¶</a></h2>
<li>[<span style="color: #4070A0;">Support</span>]<span> </span><a class="reference external" href="https://github.com/fabric/fabric/issues/467">#467</a><span>:</span> (also <a class="reference external" href="https://github.com/fabric/fabric/issues/468">#468</a>, <a class="reference external" href="https://github.com/fabric/fabric/issues/469">#469</a>) Handful of
documentation clarification tweaks. Thanks to Paul Hoffman for the patches.</li>
<li>[<span style="color: #4070A0;">Support</span>]<span> </span><a class="reference external" href="https://github.com/fabric/fabric/issues/459">#459</a><span>:</span> Update our <tt class="xref py py-obj docutils literal"><span class="pre">setup.py</span></tt> files to note that PyCrypto
released 2.4.1, which fixes the setuptools problems.</li>
<li>[<span style="color: #40A056;">Feature</span>]<span> </span><a class="reference external" href="https://github.com/fabric/fabric/issues/72">#72</a><span>:</span> SSH agent forwarding support has made it into Fabric&#8217;s SSH
library, and hooks for using it have been added (disabled by default; use
<a class="reference internal" href="usage/fab.html#cmdoption-A"><em class="xref std std-option">-A</em></a> or <a class="reference internal" href="usage/env.html#forward-agent"><em>env.forward_agent</em></a> to enable.) Thanks
to Ben Davis for porting an existing Paramiko patch to <tt class="xref py py-obj docutils literal"><span class="pre">ssh</span></tt> and providing
the necessary tweak to Fabric.</li>
<li>[<span style="color: #40A056;">Feature</span>]<span> </span><a class="reference external" href="https://github.com/fabric/fabric/issues/506">#506</a><span>:</span> A new <a class="reference internal" href="usage/output_controls.html#output-aliases"><em>output alias</em></a>, <tt class="docutils literal"><span class="pre">commands</span></tt>, has
been added, which allows hiding remote stdout and local &#8220;running command X&#8221;
output lines.</li>
<li>[<span style="color: #40A056;">Feature</span>]<span> </span><a class="reference external" href="https://github.com/fabric/fabric/issues/13">#13</a><span>:</span> Env vars may now be set at runtime via the new <a class="reference internal" href="usage/fab.html#cmdoption--set"><em class="xref std std-option">--set</em></a>
command-line flag.</li>
<li>[<span style="color: #40A056;">Feature</span>]<span> </span><a class="reference external" href="https://github.com/fabric/fabric/issues/8">#8</a><span>:</span> Added <a class="reference internal" href="usage/fab.html#cmdoption--skip-bad-hosts"><em class="xref std std-option">--skip-bad-hosts</em></a>/<a class="reference internal" href="usage/env.html#skip-bad-hosts"><em>env.skip_bad_hosts</em></a> option to allow skipping past temporarily down/unreachable
hosts.</li>
<li>[<span style="color: #4070A0;">Support</span>]<span> </span><a class="reference external" href="https://github.com/fabric/fabric/issues/532">#532</a><span>:</span> Reorganized and cleaned up the output of <tt class="docutils literal"><span class="pre">fab</span> <span class="pre">--help</span></tt>.</li>
<li>[<span style="color: #A04040;">Bug</span>]<span> </span><a class="reference external" href="https://github.com/fabric/fabric/issues/487">#487</a><span>:</span> Overhauled the regular expression escaping performed in
<a class="reference internal" href="api/contrib/files.html#fabric.contrib.files.append" title="fabric.contrib.files.append"><tt class="xref py py-obj docutils literal"><span class="pre">append</span></tt></a> and <a class="reference internal" href="api/contrib/files.html#fabric.contrib.files.contains" title="fabric.contrib.files.contains"><tt class="xref py py-obj docutils literal"><span class="pre">contains</span></tt></a> to try
and handle more corner cases. Thanks to Neilen Marais for the patch.</li>
<li>[<span style="color: #40A056;">Feature</span>]<span> </span><a class="reference external" href="https://github.com/fabric/fabric/issues/474">#474</a><span>:</span> <a class="reference internal" href="api/core/tasks.html#fabric.tasks.execute" title="fabric.tasks.execute"><tt class="xref py py-obj docutils literal"><span class="pre">execute</span></tt></a> now allows you to access the executed
task&#8217;s return values, by itself returning a dictionary whose keys are the
host strings executed against.</li>
<li>[<span style="color: #40A056;">Feature</span>]<span> </span><a class="reference external" href="https://github.com/fabric/fabric/issues/12">#12</a><span>:</span> Added the ability to try connecting multiple times to
temporarily-down remote systems, instead of immediately failing. (Default
behavior is still to only try once.) See <a class="reference internal" href="usage/env.html#timeout"><em>env.timeout</em></a> and
<a class="reference internal" href="usage/env.html#connection-attempts"><em>env.connection_attempts</em></a> for controlling both
connection timeouts and total number of attempts. <a class="reference internal" href="api/core/operations.html#fabric.operations.reboot" title="fabric.operations.reboot"><tt class="xref py py-obj docutils literal"><span class="pre">reboot</span></tt></a>
has also been overhauled (but practically deprecated &#8211; see its updated
docs.)</li>
<li>[<span style="color: #40A056;">Feature</span>]<span> </span><a class="reference external" href="https://github.com/fabric/fabric/issues/3">#3</a><span>:</span> Fabric can now load a subset of SSH config functionality
directly from your local <tt class="docutils literal"><span class="pre">~/.ssh/config</span></tt> if <a class="reference internal" href="usage/env.html#use-ssh-config"><em>env.use_ssh_config</em></a> is set to <tt class="docutils literal"><span class="pre">True</span></tt>. See <a class="reference internal" href="usage/execution.html#ssh-config"><em>Leveraging native SSH config files</em></a> for details.
Thanks to Kirill Pinchuk for the initial patch.</li>
<li>[<span style="color: #40A056;">Feature</span>]<span> </span><a class="reference external" href="https://github.com/fabric/fabric/issues/138">#138</a><span>:</span> <a class="reference internal" href="usage/env.html#port"><em>env.port</em></a> may now be written to at fabfile module
level to set a default nonstandard port number. Previously this value was
read-only.</li>
<li>[<span style="color: #40A056;">Feature</span>]<span> </span><a class="reference external" href="https://github.com/fabric/fabric/issues/559">#559</a><span>:</span> <a class="reference internal" href="api/contrib/project.html#fabric.contrib.project.rsync_project" title="fabric.contrib.project.rsync_project"><tt class="xref py py-obj docutils literal"><span class="pre">rsync_project</span></tt></a> now allows users to
append extra SSH-specific arguments to <tt class="docutils literal"><span class="pre">rsync</span></tt>&#8216;s <tt class="docutils literal"><span class="pre">--rsh</span></tt> flag.</li>
</div>
<div class="section" id="1.3.5">
<h2><a class="reference external" href="https://github.com/fabric/fabric/tree/1.3.5">1.3.5</a><span> </span><span style="font-size: 75%;">2012-02-13</span><a class="headerlink" href="#1.3.5" title="Permalink to this headline">¶</a></h2>
<li>[<span style="color: #A04040;">Bug</span>]<span> </span><a class="reference external" href="https://github.com/fabric/fabric/issues/410">#410</a><span>:</span> Fixed a bug where using the <a class="reference internal" href="api/core/decorators.html#fabric.decorators.task" title="fabric.decorators.task"><tt class="xref py py-obj docutils literal"><span class="pre">task</span></tt></a> decorator
inside/under another decorator such as <a class="reference internal" href="api/core/decorators.html#fabric.decorators.hosts" title="fabric.decorators.hosts"><tt class="xref py py-obj docutils literal"><span class="pre">hosts</span></tt></a> could cause
that task to become invalid when invoked by name (due to how old-style vs
new-style tasks are detected.) Thanks to Dan Colish for the initial patch.</li>
<li>[<span style="color: #A04040;">Bug</span>]<span> </span><a class="reference external" href="https://github.com/fabric/fabric/issues/495">#495</a><span>:</span> Fixed documentation example showing how to subclass
<a class="reference internal" href="api/core/tasks.html#fabric.tasks.Task" title="fabric.tasks.Task"><tt class="xref py py-obj docutils literal"><span class="pre">Task</span></tt></a>. Thanks to Brett Haydon for the catch and Mark Merritt
for the patch.</li>
</div>
<div class="section" id="1.2.6">
<h2><a class="reference external" href="https://github.com/fabric/fabric/tree/1.2.6">1.2.6</a><span> </span><span style="font-size: 75%;">2012-02-13</span><a class="headerlink" href="#1.2.6" title="Permalink to this headline">¶</a></h2>
<li>[<span style="color: #A04040;">Bug</span>]<span> </span><a class="reference external" href="https://github.com/fabric/fabric/issues/339">#339</a><span>:</span> Don&#8217;t show imported <a class="reference internal" href="api/core/colors.html#module-fabric.colors" title="fabric.colors"><tt class="xref py py-obj docutils literal"><span class="pre">colors</span></tt></a> members in <a class="reference internal" href="usage/fab.html#cmdoption-l"><em class="xref std std-option">--list</em></a> output.  Thanks to Nick Trew for the report.</li>
<li>[<span style="color: #A04040;">Bug</span>]<span> </span><a class="reference external" href="https://github.com/fabric/fabric/issues/494">#494</a><span>:</span> Fixed regression bug affecting some <tt class="xref py py-obj docutils literal"><span class="pre">env</span></tt> values such as
<tt class="xref py py-obj docutils literal"><span class="pre">env.port</span></tt> under parallel mode. Symptoms included
<a class="reference internal" href="api/contrib/project.html#fabric.contrib.project.rsync_project" title="fabric.contrib.project.rsync_project"><tt class="xref py py-obj docutils literal"><span class="pre">rsync_project</span></tt></a> bailing out due to a None port value
when run under <a class="reference internal" href="api/core/decorators.html#fabric.decorators.parallel" title="fabric.decorators.parallel"><tt class="xref py py-obj docutils literal"><span class="pre">&#64;parallel</span></tt></a>. Thanks to Rob
Terhaar for the report.</li>
<li>[<span style="color: #A04040;">Bug</span>]<span> </span><a class="reference external" href="https://github.com/fabric/fabric/issues/510">#510</a><span>:</span> Parallel mode is incompatible with user input, such as
password/hostname prompts, and was causing cryptic <tt class="xref py py-obj docutils literal"><span class="pre">Operation</span> <span class="pre">not</span> <span class="pre">supported</span>
<span class="pre">by</span> <span class="pre">device</span></tt> errors when such prompts needed to be displayed. This behavior has
been updated to cleanly and obviously <tt class="docutils literal"><span class="pre">abort</span></tt> instead.</li>
<li>[<span style="color: #A04040;">Bug</span>]<span> </span><a class="reference external" href="https://github.com/fabric/fabric/issues/492">#492</a><span>:</span> <a class="reference internal" href="api/core/decorators.html#fabric.decorators.parallel" title="fabric.decorators.parallel"><tt class="xref py py-obj docutils literal"><span class="pre">&#64;parallel</span></tt></a> did not automatically
trigger <a class="reference internal" href="usage/parallel.html#linewise-output"><em>linewise output</em></a>, as was intended. This has
been fixed. Thanks to Brandon Huey for the catch.</li>
<li>[<span style="color: #A04040;">Bug</span>]<span> </span><a class="reference external" href="https://github.com/fabric/fabric/issues/410">#410</a><span>:</span> Fixed a bug where using the <a class="reference internal" href="api/core/decorators.html#fabric.decorators.task" title="fabric.decorators.task"><tt class="xref py py-obj docutils literal"><span class="pre">task</span></tt></a> decorator
inside/under another decorator such as <a class="reference internal" href="api/core/decorators.html#fabric.decorators.hosts" title="fabric.decorators.hosts"><tt class="xref py py-obj docutils literal"><span class="pre">hosts</span></tt></a> could cause
that task to become invalid when invoked by name (due to how old-style vs
new-style tasks are detected.) Thanks to Dan Colish for the initial patch.</li>
<li>[<span style="color: #A04040;">Bug</span>]<span> </span><a class="reference external" href="https://github.com/fabric/fabric/issues/495">#495</a><span>:</span> Fixed documentation example showing how to subclass
<a class="reference internal" href="api/core/tasks.html#fabric.tasks.Task" title="fabric.tasks.Task"><tt class="xref py py-obj docutils literal"><span class="pre">Task</span></tt></a>. Thanks to Brett Haydon for the catch and Mark Merritt
for the patch.</li>
</div>
<div class="section" id="1.1.8">
<h2><a class="reference external" href="https://github.com/fabric/fabric/tree/1.1.8">1.1.8</a><span> </span><span style="font-size: 75%;">2012-02-13</span><a class="headerlink" href="#1.1.8" title="Permalink to this headline">¶</a></h2>
<li>[<span style="color: #A04040;">Bug</span>]<span> </span><a class="reference external" href="https://github.com/fabric/fabric/issues/339">#339</a><span>:</span> Don&#8217;t show imported <a class="reference internal" href="api/core/colors.html#module-fabric.colors" title="fabric.colors"><tt class="xref py py-obj docutils literal"><span class="pre">colors</span></tt></a> members in <a class="reference internal" href="usage/fab.html#cmdoption-l"><em class="xref std std-option">--list</em></a> output.  Thanks to Nick Trew for the report.</li>
<li>[<span style="color: #A04040;">Bug</span>]<span> </span><a class="reference external" href="https://github.com/fabric/fabric/issues/494">#494</a><span>:</span> Fixed regression bug affecting some <tt class="xref py py-obj docutils literal"><span class="pre">env</span></tt> values such as
<tt class="xref py py-obj docutils literal"><span class="pre">env.port</span></tt> under parallel mode. Symptoms included
<a class="reference internal" href="api/contrib/project.html#fabric.contrib.project.rsync_project" title="fabric.contrib.project.rsync_project"><tt class="xref py py-obj docutils literal"><span class="pre">rsync_project</span></tt></a> bailing out due to a None port value
when run under <a class="reference internal" href="api/core/decorators.html#fabric.decorators.parallel" title="fabric.decorators.parallel"><tt class="xref py py-obj docutils literal"><span class="pre">&#64;parallel</span></tt></a>. Thanks to Rob
Terhaar for the report.</li>
<li>[<span style="color: #A04040;">Bug</span>]<span> </span><a class="reference external" href="https://github.com/fabric/fabric/issues/510">#510</a><span>:</span> Parallel mode is incompatible with user input, such as
password/hostname prompts, and was causing cryptic <tt class="xref py py-obj docutils literal"><span class="pre">Operation</span> <span class="pre">not</span> <span class="pre">supported</span>
<span class="pre">by</span> <span class="pre">device</span></tt> errors when such prompts needed to be displayed. This behavior has
been updated to cleanly and obviously <tt class="docutils literal"><span class="pre">abort</span></tt> instead.</li>
<li>[<span style="color: #A04040;">Bug</span>]<span> </span><a class="reference external" href="https://github.com/fabric/fabric/issues/492">#492</a><span>:</span> <a class="reference internal" href="api/core/decorators.html#fabric.decorators.parallel" title="fabric.decorators.parallel"><tt class="xref py py-obj docutils literal"><span class="pre">&#64;parallel</span></tt></a> did not automatically
trigger <a class="reference internal" href="usage/parallel.html#linewise-output"><em>linewise output</em></a>, as was intended. This has
been fixed. Thanks to Brandon Huey for the catch.</li>
<li>[<span style="color: #A04040;">Bug</span>]<span> </span><a class="reference external" href="https://github.com/fabric/fabric/issues/410">#410</a><span>:</span> Fixed a bug where using the <a class="reference internal" href="api/core/decorators.html#fabric.decorators.task" title="fabric.decorators.task"><tt class="xref py py-obj docutils literal"><span class="pre">task</span></tt></a> decorator
inside/under another decorator such as <a class="reference internal" href="api/core/decorators.html#fabric.decorators.hosts" title="fabric.decorators.hosts"><tt class="xref py py-obj docutils literal"><span class="pre">hosts</span></tt></a> could cause
that task to become invalid when invoked by name (due to how old-style vs
new-style tasks are detected.) Thanks to Dan Colish for the initial patch.</li>
<li>[<span style="color: #A04040;">Bug</span>]<span> </span><a class="reference external" href="https://github.com/fabric/fabric/issues/495">#495</a><span>:</span> Fixed documentation example showing how to subclass
<a class="reference internal" href="api/core/tasks.html#fabric.tasks.Task" title="fabric.tasks.Task"><tt class="xref py py-obj docutils literal"><span class="pre">Task</span></tt></a>. Thanks to Brett Haydon for the catch and Mark Merritt
for the patch.</li>
</div>
<div class="section" id="1.3.4">
<h2><a class="reference external" href="https://github.com/fabric/fabric/tree/1.3.4">1.3.4</a><span> </span><span style="font-size: 75%;">2012-01-12</span><a class="headerlink" href="#1.3.4" title="Permalink to this headline">¶</a></h2>
<li>[<span style="color: #A04040;">Bug</span>]<span> </span><a class="reference external" href="https://github.com/fabric/fabric/issues/339">#339</a><span>:</span> Don&#8217;t show imported <a class="reference internal" href="api/core/colors.html#module-fabric.colors" title="fabric.colors"><tt class="xref py py-obj docutils literal"><span class="pre">colors</span></tt></a> members in <a class="reference internal" href="usage/fab.html#cmdoption-l"><em class="xref std std-option">--list</em></a> output.  Thanks to Nick Trew for the report.</li>
<li>[<span style="color: #A04040;">Bug</span>]<span> </span><a class="reference external" href="https://github.com/fabric/fabric/issues/494">#494</a><span>:</span> Fixed regression bug affecting some <tt class="xref py py-obj docutils literal"><span class="pre">env</span></tt> values such as
<tt class="xref py py-obj docutils literal"><span class="pre">env.port</span></tt> under parallel mode. Symptoms included
<a class="reference internal" href="api/contrib/project.html#fabric.contrib.project.rsync_project" title="fabric.contrib.project.rsync_project"><tt class="xref py py-obj docutils literal"><span class="pre">rsync_project</span></tt></a> bailing out due to a None port value
when run under <a class="reference internal" href="api/core/decorators.html#fabric.decorators.parallel" title="fabric.decorators.parallel"><tt class="xref py py-obj docutils literal"><span class="pre">&#64;parallel</span></tt></a>. Thanks to Rob
Terhaar for the report.</li>
<li>[<span style="color: #A04040;">Bug</span>]<span> </span><a class="reference external" href="https://github.com/fabric/fabric/issues/510">#510</a><span>:</span> Parallel mode is incompatible with user input, such as
password/hostname prompts, and was causing cryptic <tt class="xref py py-obj docutils literal"><span class="pre">Operation</span> <span class="pre">not</span> <span class="pre">supported</span>
<span class="pre">by</span> <span class="pre">device</span></tt> errors when such prompts needed to be displayed. This behavior has
been updated to cleanly and obviously <tt class="docutils literal"><span class="pre">abort</span></tt> instead.</li>
<li>[<span style="color: #A04040;">Bug</span>]<span> </span><a class="reference external" href="https://github.com/fabric/fabric/issues/492">#492</a><span>:</span> <a class="reference internal" href="api/core/decorators.html#fabric.decorators.parallel" title="fabric.decorators.parallel"><tt class="xref py py-obj docutils literal"><span class="pre">&#64;parallel</span></tt></a> did not automatically
trigger <a class="reference internal" href="usage/parallel.html#linewise-output"><em>linewise output</em></a>, as was intended. This has
been fixed. Thanks to Brandon Huey for the catch.</li>
</div>
<div class="section" id="1.3.3">
<h2><a class="reference external" href="https://github.com/fabric/fabric/tree/1.3.3">1.3.3</a><span> </span><span style="font-size: 75%;">2011-11-23</span><a class="headerlink" href="#1.3.3" title="Permalink to this headline">¶</a></h2>
<li>[<span style="color: #A04040;">Bug</span>]<span> </span><a class="reference external" href="https://github.com/fabric/fabric/issues/230">#230</a><span>:</span> Fix regression re: combo of no fabfile &amp; arbitrary command use.
Thanks to Ali Saifee for the catch.</li>
<li>[<span style="color: #A04040;">Bug</span>]<span> </span><a class="reference external" href="https://github.com/fabric/fabric/issues/482">#482</a><span>:</span> Parallel mode should imply linewise output; omission of this
behavior was an oversight.</li>
<li>[<span style="color: #A04040;">Bug</span>]<span> </span><a class="reference external" href="https://github.com/fabric/fabric/issues/342">#342</a><span>:</span> Combining <a class="reference internal" href="api/core/context_managers.html#fabric.context_managers.cd" title="fabric.context_managers.cd"><tt class="xref py py-obj docutils literal"><span class="pre">cd</span></tt></a> with
<a class="reference internal" href="api/core/operations.html#fabric.operations.put" title="fabric.operations.put"><tt class="xref py py-obj docutils literal"><span class="pre">put</span></tt></a> and its <tt class="docutils literal"><span class="pre">use_sudo</span></tt> keyword caused an unrecoverable
error. This has been fixed. Thanks to Egor M for the report.</li>
<li>[<span style="color: #A04040;">Bug</span>]<span> </span><a class="reference external" href="https://github.com/fabric/fabric/issues/341">#341</a><span>:</span> <a class="reference internal" href="api/contrib/files.html#fabric.contrib.files.append" title="fabric.contrib.files.append"><tt class="xref py py-obj docutils literal"><span class="pre">append</span></tt></a> incorrectly failed to detect that
the line(s) given already existed in files hidden to the remote user, and
continued appending every time it ran. This has been fixed. Thanks to
Dominique Peretti for the catch and Martin Vilcans for the patch.</li>
<li>[<span style="color: #A04040;">Bug</span>]<span> </span><a class="reference external" href="https://github.com/fabric/fabric/issues/397">#397</a><span>:</span> Some poorly behaved objects in third party modules triggered
exceptions during Fabric&#8217;s &#8220;classic or new-style task?&#8221; test. A fix has been
added which tries to work around these.</li>
<li>[<span style="color: #A04040;">Bug</span>]<span> </span><a class="reference external" href="https://github.com/fabric/fabric/issues/400">#400</a><span>:</span> Handle corner case of systems where <tt class="docutils literal"><span class="pre">pwd.getpwuid</span></tt> raises
<tt class="docutils literal"><span class="pre">KeyError</span></tt> for the user&#8217;s UID instead of returning a valid string. Thanks
to Dougal Matthews for the catch.</li>
<li>[<span style="color: #A04040;">Bug</span>]<span> </span><a class="reference external" href="https://github.com/fabric/fabric/issues/437">#437</a><span>:</span> <a class="reference internal" href="api/core/decorators.html#fabric.decorators.with_settings" title="fabric.decorators.with_settings"><tt class="xref py py-obj docutils literal"><span class="pre">with_settings</span></tt></a> now correctly preserves the
wrapped function&#8217;s docstring and other attributes. Thanks to Eric Buckley for
the catch and Luke Plant for the patch.</li>
<li>[<span style="color: #A04040;">Bug</span>]<span> </span><a class="reference external" href="https://github.com/fabric/fabric/issues/443">#443</a><span>:</span> <a class="reference internal" href="api/contrib/files.html#fabric.contrib.files.exists" title="fabric.contrib.files.exists"><tt class="xref py py-obj docutils literal"><span class="pre">exists</span></tt></a> didn&#8217;t expand tildes; now it does.
Thanks to Riccardo Magliocchetti for the patch.</li>
<li>[<span style="color: #A04040;">Bug</span>]<span> </span><a class="reference external" href="https://github.com/fabric/fabric/issues/446">#446</a><span>:</span> Add QNX to list of secondary-case <a class="reference internal" href="api/contrib/files.html#fabric.contrib.files.sed" title="fabric.contrib.files.sed"><tt class="xref py py-obj docutils literal"><span class="pre">sed</span></tt></a>
targets. Thanks to Rodrigo Madruga for the tip.</li>
<li>[<span style="color: #A04040;">Bug</span>]<span> </span><a class="reference external" href="https://github.com/fabric/fabric/issues/450">#450</a><span>:</span> Improve traceback display when handling <tt class="docutils literal"><span class="pre">ImportError</span></tt> for
dependencies. Thanks to David Wolever for the patches.</li>
<li>[<span style="color: #A04040;">Bug</span>]<span> </span><a class="reference external" href="https://github.com/fabric/fabric/issues/475">#475</a><span>:</span> Allow escaping of equals signs in per-task args/kwargs.</li>
<li>[<span style="color: #A04040;">Bug</span>]<span> </span><a class="reference external" href="https://github.com/fabric/fabric/issues/441">#441</a><span>:</span> Specifying a task module as a task on the command line no longer
blows up but presents the usual &#8220;no task by that name&#8221; error message instead.
Thanks to Mitchell Hashimoto for the catch.</li>
</div>
<div class="section" id="1.2.5">
<h2><a class="reference external" href="https://github.com/fabric/fabric/tree/1.2.5">1.2.5</a><span> </span><span style="font-size: 75%;">2011-11-23</span><a class="headerlink" href="#1.2.5" title="Permalink to this headline">¶</a></h2>
<li>[<span style="color: #A04040;">Bug</span>]<span> </span><a class="reference external" href="https://github.com/fabric/fabric/issues/230">#230</a><span>:</span> Fix regression re: combo of no fabfile &amp; arbitrary command use.
Thanks to Ali Saifee for the catch.</li>
<li>[<span style="color: #A04040;">Bug</span>]<span> </span><a class="reference external" href="https://github.com/fabric/fabric/issues/482">#482</a><span>:</span> Parallel mode should imply linewise output; omission of this
behavior was an oversight.</li>
<li>[<span style="color: #A04040;">Bug</span>]<span> </span><a class="reference external" href="https://github.com/fabric/fabric/issues/342">#342</a><span>:</span> Combining <a class="reference internal" href="api/core/context_managers.html#fabric.context_managers.cd" title="fabric.context_managers.cd"><tt class="xref py py-obj docutils literal"><span class="pre">cd</span></tt></a> with
<a class="reference internal" href="api/core/operations.html#fabric.operations.put" title="fabric.operations.put"><tt class="xref py py-obj docutils literal"><span class="pre">put</span></tt></a> and its <tt class="docutils literal"><span class="pre">use_sudo</span></tt> keyword caused an unrecoverable
error. This has been fixed. Thanks to Egor M for the report.</li>
<li>[<span style="color: #A04040;">Bug</span>]<span> </span><a class="reference external" href="https://github.com/fabric/fabric/issues/341">#341</a><span>:</span> <a class="reference internal" href="api/contrib/files.html#fabric.contrib.files.append" title="fabric.contrib.files.append"><tt class="xref py py-obj docutils literal"><span class="pre">append</span></tt></a> incorrectly failed to detect that
the line(s) given already existed in files hidden to the remote user, and
continued appending every time it ran. This has been fixed. Thanks to
Dominique Peretti for the catch and Martin Vilcans for the patch.</li>
<li>[<span style="color: #A04040;">Bug</span>]<span> </span><a class="reference external" href="https://github.com/fabric/fabric/issues/397">#397</a><span>:</span> Some poorly behaved objects in third party modules triggered
exceptions during Fabric&#8217;s &#8220;classic or new-style task?&#8221; test. A fix has been
added which tries to work around these.</li>
<li>[<span style="color: #A04040;">Bug</span>]<span> </span><a class="reference external" href="https://github.com/fabric/fabric/issues/400">#400</a><span>:</span> Handle corner case of systems where <tt class="docutils literal"><span class="pre">pwd.getpwuid</span></tt> raises
<tt class="docutils literal"><span class="pre">KeyError</span></tt> for the user&#8217;s UID instead of returning a valid string. Thanks
to Dougal Matthews for the catch.</li>
<li>[<span style="color: #A04040;">Bug</span>]<span> </span><a class="reference external" href="https://github.com/fabric/fabric/issues/437">#437</a><span>:</span> <a class="reference internal" href="api/core/decorators.html#fabric.decorators.with_settings" title="fabric.decorators.with_settings"><tt class="xref py py-obj docutils literal"><span class="pre">with_settings</span></tt></a> now correctly preserves the
wrapped function&#8217;s docstring and other attributes. Thanks to Eric Buckley for
the catch and Luke Plant for the patch.</li>
<li>[<span style="color: #A04040;">Bug</span>]<span> </span><a class="reference external" href="https://github.com/fabric/fabric/issues/443">#443</a><span>:</span> <a class="reference internal" href="api/contrib/files.html#fabric.contrib.files.exists" title="fabric.contrib.files.exists"><tt class="xref py py-obj docutils literal"><span class="pre">exists</span></tt></a> didn&#8217;t expand tildes; now it does.
Thanks to Riccardo Magliocchetti for the patch.</li>
<li>[<span style="color: #A04040;">Bug</span>]<span> </span><a class="reference external" href="https://github.com/fabric/fabric/issues/446">#446</a><span>:</span> Add QNX to list of secondary-case <a class="reference internal" href="api/contrib/files.html#fabric.contrib.files.sed" title="fabric.contrib.files.sed"><tt class="xref py py-obj docutils literal"><span class="pre">sed</span></tt></a>
targets. Thanks to Rodrigo Madruga for the tip.</li>
<li>[<span style="color: #A04040;">Bug</span>]<span> </span><a class="reference external" href="https://github.com/fabric/fabric/issues/450">#450</a><span>:</span> Improve traceback display when handling <tt class="docutils literal"><span class="pre">ImportError</span></tt> for
dependencies. Thanks to David Wolever for the patches.</li>
<li>[<span style="color: #A04040;">Bug</span>]<span> </span><a class="reference external" href="https://github.com/fabric/fabric/issues/475">#475</a><span>:</span> Allow escaping of equals signs in per-task args/kwargs.</li>
<li>[<span style="color: #A04040;">Bug</span>]<span> </span><a class="reference external" href="https://github.com/fabric/fabric/issues/441">#441</a><span>:</span> Specifying a task module as a task on the command line no longer
blows up but presents the usual &#8220;no task by that name&#8221; error message instead.
Thanks to Mitchell Hashimoto for the catch.</li>
</div>
<div class="section" id="1.1.7">
<h2><a class="reference external" href="https://github.com/fabric/fabric/tree/1.1.7">1.1.7</a><span> </span><span style="font-size: 75%;">2011-11-23</span><a class="headerlink" href="#1.1.7" title="Permalink to this headline">¶</a></h2>
<li>[<span style="color: #A04040;">Bug</span>]<span> </span><a class="reference external" href="https://github.com/fabric/fabric/issues/230">#230</a><span>:</span> Fix regression re: combo of no fabfile &amp; arbitrary command use.
Thanks to Ali Saifee for the catch.</li>
<li>[<span style="color: #A04040;">Bug</span>]<span> </span><a class="reference external" href="https://github.com/fabric/fabric/issues/482">#482</a><span>:</span> Parallel mode should imply linewise output; omission of this
behavior was an oversight.</li>
<li>[<span style="color: #A04040;">Bug</span>]<span> </span><a class="reference external" href="https://github.com/fabric/fabric/issues/342">#342</a><span>:</span> Combining <a class="reference internal" href="api/core/context_managers.html#fabric.context_managers.cd" title="fabric.context_managers.cd"><tt class="xref py py-obj docutils literal"><span class="pre">cd</span></tt></a> with
<a class="reference internal" href="api/core/operations.html#fabric.operations.put" title="fabric.operations.put"><tt class="xref py py-obj docutils literal"><span class="pre">put</span></tt></a> and its <tt class="docutils literal"><span class="pre">use_sudo</span></tt> keyword caused an unrecoverable
error. This has been fixed. Thanks to Egor M for the report.</li>
<li>[<span style="color: #A04040;">Bug</span>]<span> </span><a class="reference external" href="https://github.com/fabric/fabric/issues/341">#341</a><span>:</span> <a class="reference internal" href="api/contrib/files.html#fabric.contrib.files.append" title="fabric.contrib.files.append"><tt class="xref py py-obj docutils literal"><span class="pre">append</span></tt></a> incorrectly failed to detect that
the line(s) given already existed in files hidden to the remote user, and
continued appending every time it ran. This has been fixed. Thanks to
Dominique Peretti for the catch and Martin Vilcans for the patch.</li>
<li>[<span style="color: #A04040;">Bug</span>]<span> </span><a class="reference external" href="https://github.com/fabric/fabric/issues/397">#397</a><span>:</span> Some poorly behaved objects in third party modules triggered
exceptions during Fabric&#8217;s &#8220;classic or new-style task?&#8221; test. A fix has been
added which tries to work around these.</li>
<li>[<span style="color: #A04040;">Bug</span>]<span> </span><a class="reference external" href="https://github.com/fabric/fabric/issues/400">#400</a><span>:</span> Handle corner case of systems where <tt class="docutils literal"><span class="pre">pwd.getpwuid</span></tt> raises
<tt class="docutils literal"><span class="pre">KeyError</span></tt> for the user&#8217;s UID instead of returning a valid string. Thanks
to Dougal Matthews for the catch.</li>
<li>[<span style="color: #A04040;">Bug</span>]<span> </span><a class="reference external" href="https://github.com/fabric/fabric/issues/437">#437</a><span>:</span> <a class="reference internal" href="api/core/decorators.html#fabric.decorators.with_settings" title="fabric.decorators.with_settings"><tt class="xref py py-obj docutils literal"><span class="pre">with_settings</span></tt></a> now correctly preserves the
wrapped function&#8217;s docstring and other attributes. Thanks to Eric Buckley for
the catch and Luke Plant for the patch.</li>
<li>[<span style="color: #A04040;">Bug</span>]<span> </span><a class="reference external" href="https://github.com/fabric/fabric/issues/443">#443</a><span>:</span> <a class="reference internal" href="api/contrib/files.html#fabric.contrib.files.exists" title="fabric.contrib.files.exists"><tt class="xref py py-obj docutils literal"><span class="pre">exists</span></tt></a> didn&#8217;t expand tildes; now it does.
Thanks to Riccardo Magliocchetti for the patch.</li>
<li>[<span style="color: #A04040;">Bug</span>]<span> </span><a class="reference external" href="https://github.com/fabric/fabric/issues/446">#446</a><span>:</span> Add QNX to list of secondary-case <a class="reference internal" href="api/contrib/files.html#fabric.contrib.files.sed" title="fabric.contrib.files.sed"><tt class="xref py py-obj docutils literal"><span class="pre">sed</span></tt></a>
targets. Thanks to Rodrigo Madruga for the tip.</li>
<li>[<span style="color: #A04040;">Bug</span>]<span> </span><a class="reference external" href="https://github.com/fabric/fabric/issues/450">#450</a><span>:</span> Improve traceback display when handling <tt class="docutils literal"><span class="pre">ImportError</span></tt> for
dependencies. Thanks to David Wolever for the patches.</li>
<li>[<span style="color: #A04040;">Bug</span>]<span> </span><a class="reference external" href="https://github.com/fabric/fabric/issues/475">#475</a><span>:</span> Allow escaping of equals signs in per-task args/kwargs.</li>
<li>[<span style="color: #A04040;">Bug</span>]<span> </span><a class="reference external" href="https://github.com/fabric/fabric/issues/441">#441</a><span>:</span> Specifying a task module as a task on the command line no longer
blows up but presents the usual &#8220;no task by that name&#8221; error message instead.
Thanks to Mitchell Hashimoto for the catch.</li>
</div>
<div class="section" id="1.3.2">
<h2><a class="reference external" href="https://github.com/fabric/fabric/tree/1.3.2">1.3.2</a><span> </span><span style="font-size: 75%;">2011-11-07</span><a class="headerlink" href="#1.3.2" title="Permalink to this headline">¶</a></h2>
<li>[<span style="color: #4070A0;">Support</span>]<span> </span><a class="reference external" href="https://github.com/fabric/fabric/issues/467">#467</a><span>:</span> (also <a class="reference external" href="https://github.com/fabric/fabric/issues/468">#468</a>, <a class="reference external" href="https://github.com/fabric/fabric/issues/469">#469</a>) Handful of
documentation clarification tweaks. Thanks to Paul Hoffman for the patches.</li>
<li>[<span style="color: #4070A0;">Support</span>]<span> </span><a class="reference external" href="https://github.com/fabric/fabric/issues/459">#459</a><span>:</span> Update our <tt class="xref py py-obj docutils literal"><span class="pre">setup.py</span></tt> files to note that PyCrypto
released 2.4.1, which fixes the setuptools problems.</li>
</div>
<div class="section" id="1.2.4">
<h2><a class="reference external" href="https://github.com/fabric/fabric/tree/1.2.4">1.2.4</a><span> </span><span style="font-size: 75%;">2011-11-07</span><a class="headerlink" href="#1.2.4" title="Permalink to this headline">¶</a></h2>
<li>[<span style="color: #A04040;">Bug</span>]<span> </span><a class="reference external" href="https://github.com/fabric/fabric/issues/457">#457</a><span>:</span> Ensured that Fabric fast-fails parallel tasks if any child
processes encountered errors. Previously, multi-task invocations would
continue to the 2nd, etc task when failures occurred, which does not fit with
how Fabric usually behaves. Thanks to Github user <tt class="docutils literal"><span class="pre">sdcooke</span></tt> for the report
and Morgan Goose for the fix.</li>
<li>[<span style="color: #4070A0;">Support</span>]<span> </span><a class="reference external" href="https://github.com/fabric/fabric/issues/467">#467</a><span>:</span> (also <a class="reference external" href="https://github.com/fabric/fabric/issues/468">#468</a>, <a class="reference external" href="https://github.com/fabric/fabric/issues/469">#469</a>) Handful of
documentation clarification tweaks. Thanks to Paul Hoffman for the patches.</li>
<li>[<span style="color: #4070A0;">Support</span>]<span> </span><a class="reference external" href="https://github.com/fabric/fabric/issues/459">#459</a><span>:</span> Update our <tt class="xref py py-obj docutils literal"><span class="pre">setup.py</span></tt> files to note that PyCrypto
released 2.4.1, which fixes the setuptools problems.</li>
</div>
<div class="section" id="1.1.6">
<h2><a class="reference external" href="https://github.com/fabric/fabric/tree/1.1.6">1.1.6</a><span> </span><span style="font-size: 75%;">2011-11-07</span><a class="headerlink" href="#1.1.6" title="Permalink to this headline">¶</a></h2>
<li>[<span style="color: #A04040;">Bug</span>]<span> </span><a class="reference external" href="https://github.com/fabric/fabric/issues/457">#457</a><span>:</span> Ensured that Fabric fast-fails parallel tasks if any child
processes encountered errors. Previously, multi-task invocations would
continue to the 2nd, etc task when failures occurred, which does not fit with
how Fabric usually behaves. Thanks to Github user <tt class="docutils literal"><span class="pre">sdcooke</span></tt> for the report
and Morgan Goose for the fix.</li>
<li>[<span style="color: #4070A0;">Support</span>]<span> </span><a class="reference external" href="https://github.com/fabric/fabric/issues/467">#467</a><span>:</span> (also <a class="reference external" href="https://github.com/fabric/fabric/issues/468">#468</a>, <a class="reference external" href="https://github.com/fabric/fabric/issues/469">#469</a>) Handful of
documentation clarification tweaks. Thanks to Paul Hoffman for the patches.</li>
<li>[<span style="color: #4070A0;">Support</span>]<span> </span><a class="reference external" href="https://github.com/fabric/fabric/issues/459">#459</a><span>:</span> Update our <tt class="xref py py-obj docutils literal"><span class="pre">setup.py</span></tt> files to note that PyCrypto
released 2.4.1, which fixes the setuptools problems.</li>
</div>
<div class="section" id="1.3.1">
<h2><a class="reference external" href="https://github.com/fabric/fabric/tree/1.3.1">1.3.1</a><span> </span><span style="font-size: 75%;">2011-10-24</span><a class="headerlink" href="#1.3.1" title="Permalink to this headline">¶</a></h2>
<li>[<span style="color: #A04040;">Bug</span>]<span> </span><a class="reference external" href="https://github.com/fabric/fabric/issues/457">#457</a><span>:</span> Ensured that Fabric fast-fails parallel tasks if any child
processes encountered errors. Previously, multi-task invocations would
continue to the 2nd, etc task when failures occurred, which does not fit with
how Fabric usually behaves. Thanks to Github user <tt class="docutils literal"><span class="pre">sdcooke</span></tt> for the report
and Morgan Goose for the fix.</li>
</div>
<div class="section" id="1.3.0">
<h2><a class="reference external" href="https://github.com/fabric/fabric/tree/1.3.0">1.3.0</a><span> </span><span style="font-size: 75%;">2011-10-23</span><a class="headerlink" href="#1.3.0" title="Permalink to this headline">¶</a></h2>
<li>[<span style="color: #4070A0;">Support</span>]<span> </span><a class="reference external" href="https://github.com/fabric/fabric/issues/416">#416</a><span>:</span> Updated documentation to reflect move from Redmine
to Github.</li>
<li>[<span style="color: #4070A0;">Support</span>]<span> </span><a class="reference external" href="https://github.com/fabric/fabric/issues/393">#393</a><span>:</span> Fixed a typo in an example code snippet in the task
docs.  Thanks to Hugo Garza for the catch.</li>
<li>[<span style="color: #40A056;">Feature</span>]<span> </span><a class="reference external" href="https://github.com/fabric/fabric/issues/19">#19</a><span>:</span> Tasks may now be optionally executed in parallel. Please see
the <a class="reference internal" href="usage/parallel.html"><em>parallel execution docs</em></a> for details. Major
thanks to Morgan Goose for the initial implementation.</li>
<li>[<span style="color: #40A056;">Feature</span>]<span> </span><a class="reference external" href="https://github.com/fabric/fabric/issues/21">#21</a><span>:</span> It is now possible, using the new <a class="reference internal" href="api/core/tasks.html#fabric.tasks.execute" title="fabric.tasks.execute"><tt class="xref py py-obj docutils literal"><span class="pre">execute</span></tt></a> API
call, to execute task objects (by reference or by name) from within other
tasks or in library mode. <a class="reference internal" href="api/core/tasks.html#fabric.tasks.execute" title="fabric.tasks.execute"><tt class="xref py py-obj docutils literal"><span class="pre">execute</span></tt></a> honors the other tasks&#8217;
<a class="reference internal" href="api/core/decorators.html#fabric.decorators.hosts" title="fabric.decorators.hosts"><tt class="xref py py-obj docutils literal"><span class="pre">hosts</span></tt></a>/<a class="reference internal" href="api/core/decorators.html#fabric.decorators.roles" title="fabric.decorators.roles"><tt class="xref py py-obj docutils literal"><span class="pre">roles</span></tt></a> decorators, and also
supports passing in explicit host and/or role arguments.</li>
<li>[<span style="color: #4070A0;">Support</span>]<span> </span><a class="reference external" href="https://github.com/fabric/fabric/issues/275">#275</a><span>:</span> To support an edge use case of the features released in
<a class="reference external" href="https://github.com/fabric/fabric/issues/19">#19</a>, and to lay the foundation for <a class="reference external" href="https://github.com/fabric/fabric/issues/275">#275</a>, we have forked
Paramiko into the <a class="reference external" href="http://pypi.python.org/pypi/ssh/">Python &#8216;ssh&#8217; library</a>
and changed our dependency to it for Fabric 1.3 and higher. This may have
implications for the more uncommon install use cases, and package
maintainers, but we hope to iron out any issues as they come up.</li>
</div>
<div class="section" id="1.2.3">
<h2><a class="reference external" href="https://github.com/fabric/fabric/tree/1.2.3">1.2.3</a><span> </span><span style="font-size: 75%;">2011-10-23</span><a class="headerlink" href="#1.2.3" title="Permalink to this headline">¶</a></h2>
<li>[<span style="color: #A04040;">Bug</span>]<span> </span><a class="reference external" href="https://github.com/fabric/fabric/issues/430">#430</a><span>:</span> Tasks decorated with <a class="reference internal" href="api/core/decorators.html#fabric.decorators.runs_once" title="fabric.decorators.runs_once"><tt class="xref py py-obj docutils literal"><span class="pre">runs_once</span></tt></a> printed
extraneous &#8216;Executing...&#8217; status lines on subsequent invocations. This is
noisy at best and misleading at worst, and has been corrected. Thanks to
Jacob Kaplan-Moss for the report.</li>
<li>[<span style="color: #A04040;">Bug</span>]<span> </span><a class="reference external" href="https://github.com/fabric/fabric/issues/182">#182</a><span>:</span> During display of remote stdout/stderr, Fabric occasionally
printed extraneous line prefixes (which in turn sometimes overwrote wrapped
text.) This has been fixed.</li>
<li>[<span style="color: #A04040;">Bug</span>]<span> </span><a class="reference external" href="https://github.com/fabric/fabric/issues/323">#323</a><span>:</span> <a class="reference internal" href="api/core/operations.html#fabric.operations.put" title="fabric.operations.put"><tt class="xref py py-obj docutils literal"><span class="pre">put</span></tt></a> forgot how to expand leading tildes in
the remote file path. This has been corrected. Thanks to Piet Delport for the
catch.</li>
</div>
<div class="section" id="1.1.5">
<h2><a class="reference external" href="https://github.com/fabric/fabric/tree/1.1.5">1.1.5</a><span> </span><span style="font-size: 75%;">2011-10-23</span><a class="headerlink" href="#1.1.5" title="Permalink to this headline">¶</a></h2>
<li>[<span style="color: #A04040;">Bug</span>]<span> </span><a class="reference external" href="https://github.com/fabric/fabric/issues/430">#430</a><span>:</span> Tasks decorated with <a class="reference internal" href="api/core/decorators.html#fabric.decorators.runs_once" title="fabric.decorators.runs_once"><tt class="xref py py-obj docutils literal"><span class="pre">runs_once</span></tt></a> printed
extraneous &#8216;Executing...&#8217; status lines on subsequent invocations. This is
noisy at best and misleading at worst, and has been corrected. Thanks to
Jacob Kaplan-Moss for the report.</li>
<li>[<span style="color: #A04040;">Bug</span>]<span> </span><a class="reference external" href="https://github.com/fabric/fabric/issues/182">#182</a><span>:</span> During display of remote stdout/stderr, Fabric occasionally
printed extraneous line prefixes (which in turn sometimes overwrote wrapped
text.) This has been fixed.</li>
<li>[<span style="color: #A04040;">Bug</span>]<span> </span><a class="reference external" href="https://github.com/fabric/fabric/issues/323">#323</a><span>:</span> <a class="reference internal" href="api/core/operations.html#fabric.operations.put" title="fabric.operations.put"><tt class="xref py py-obj docutils literal"><span class="pre">put</span></tt></a> forgot how to expand leading tildes in
the remote file path. This has been corrected. Thanks to Piet Delport for the
catch.</li>
</div>
<div class="section" id="1.0.5">
<h2><a class="reference external" href="https://github.com/fabric/fabric/tree/1.0.5">1.0.5</a><span> </span><span style="font-size: 75%;">2011-10-23</span><a class="headerlink" href="#1.0.5" title="Permalink to this headline">¶</a></h2>
<li>[<span style="color: #A04040;">Bug</span>]<span> </span><a class="reference external" href="https://github.com/fabric/fabric/issues/430">#430</a><span>:</span> Tasks decorated with <a class="reference internal" href="api/core/decorators.html#fabric.decorators.runs_once" title="fabric.decorators.runs_once"><tt class="xref py py-obj docutils literal"><span class="pre">runs_once</span></tt></a> printed
extraneous &#8216;Executing...&#8217; status lines on subsequent invocations. This is
noisy at best and misleading at worst, and has been corrected. Thanks to
Jacob Kaplan-Moss for the report.</li>
<li>[<span style="color: #A04040;">Bug</span>]<span> </span><a class="reference external" href="https://github.com/fabric/fabric/issues/182">#182</a><span>:</span> During display of remote stdout/stderr, Fabric occasionally
printed extraneous line prefixes (which in turn sometimes overwrote wrapped
text.) This has been fixed.</li>
<li>[<span style="color: #A04040;">Bug</span>]<span> </span><a class="reference external" href="https://github.com/fabric/fabric/issues/323">#323</a><span>:</span> <a class="reference internal" href="api/core/operations.html#fabric.operations.put" title="fabric.operations.put"><tt class="xref py py-obj docutils literal"><span class="pre">put</span></tt></a> forgot how to expand leading tildes in
the remote file path. This has been corrected. Thanks to Piet Delport for the
catch.</li>
</div>
<div class="section" id="1.2.2">
<h2><a class="reference external" href="https://github.com/fabric/fabric/tree/1.2.2">1.2.2</a><span> </span><span style="font-size: 75%;">2011-09-01</span><a class="headerlink" href="#1.2.2" title="Permalink to this headline">¶</a></h2>
<li>[<span style="color: #A04040;">Bug</span>]<span> </span><a class="reference external" href="https://github.com/fabric/fabric/issues/303">#303</a><span>:</span> Updated terminal size detection to correctly skip over non-tty
stdout, such as when running <tt class="docutils literal"><span class="pre">fab</span> <span class="pre">taskname</span> <span class="pre">|</span> <span class="pre">other_command</span></tt>.</li>
<li>[<span style="color: #A04040;">Bug</span>]<span> </span><a class="reference external" href="https://github.com/fabric/fabric/issues/373">#373</a><span>:</span> Re-added missing functionality preventing <a class="reference internal" href="usage/execution.html#excluding-hosts"><em>host exclusion</em></a> from working correctly.</li>
<li>[<span style="color: #A04040;">Bug</span>]<span> </span><a class="reference external" href="https://github.com/fabric/fabric/issues/396">#396</a><span>:</span> <a class="reference internal" href="usage/fab.html#cmdoption--shortlist"><em class="xref std std-option">--shortlist</em></a> broke after the addition of
<a class="reference internal" href="usage/fab.html#cmdoption-F"><em class="xref std std-option">--list-format</em></a> and no longer displayed the short list format
correctly. This has been fixed.</li>
<li>[<span style="color: #4070A0;">Support</span>]<span> </span><a class="reference external" href="https://github.com/fabric/fabric/issues/393">#393</a><span>:</span> Fixed a typo in an example code snippet in the task
docs.  Thanks to Hugo Garza for the catch.</li>
<li>[<span style="color: #A04040;">Bug</span>]<span> </span><a class="reference external" href="https://github.com/fabric/fabric/issues/252">#252</a><span>:</span> <a class="reference internal" href="api/core/context_managers.html#fabric.context_managers.settings" title="fabric.context_managers.settings"><tt class="xref py py-obj docutils literal"><span class="pre">settings</span></tt></a> would silently fail to set
<tt class="docutils literal"><span class="pre">env</span></tt> values for keys which did not exist outside the context manager
block.  It now works as expected. Thanks to Will Maier for the catch and
suggested solution.</li>
</div>
<div class="section" id="1.1.4">
<h2><a class="reference external" href="https://github.com/fabric/fabric/tree/1.1.4">1.1.4</a><span> </span><span style="font-size: 75%;">2011-09-01</span><a class="headerlink" href="#1.1.4" title="Permalink to this headline">¶</a></h2>
<li>[<span style="color: #A04040;">Bug</span>]<span> </span><a class="reference external" href="https://github.com/fabric/fabric/issues/303">#303</a><span>:</span> Updated terminal size detection to correctly skip over non-tty
stdout, such as when running <tt class="docutils literal"><span class="pre">fab</span> <span class="pre">taskname</span> <span class="pre">|</span> <span class="pre">other_command</span></tt>.</li>
<li>[<span style="color: #A04040;">Bug</span>]<span> </span><a class="reference external" href="https://github.com/fabric/fabric/issues/373">#373</a><span>:</span> Re-added missing functionality preventing <a class="reference internal" href="usage/execution.html#excluding-hosts"><em>host exclusion</em></a> from working correctly.</li>
<li>[<span style="color: #A04040;">Bug</span>]<span> </span><a class="reference external" href="https://github.com/fabric/fabric/issues/396">#396</a><span>:</span> <a class="reference internal" href="usage/fab.html#cmdoption--shortlist"><em class="xref std std-option">--shortlist</em></a> broke after the addition of
<a class="reference internal" href="usage/fab.html#cmdoption-F"><em class="xref std std-option">--list-format</em></a> and no longer displayed the short list format
correctly. This has been fixed.</li>
<li>[<span style="color: #4070A0;">Support</span>]<span> </span><a class="reference external" href="https://github.com/fabric/fabric/issues/393">#393</a><span>:</span> Fixed a typo in an example code snippet in the task
docs.  Thanks to Hugo Garza for the catch.</li>
<li>[<span style="color: #A04040;">Bug</span>]<span> </span><a class="reference external" href="https://github.com/fabric/fabric/issues/252">#252</a><span>:</span> <a class="reference internal" href="api/core/context_managers.html#fabric.context_managers.settings" title="fabric.context_managers.settings"><tt class="xref py py-obj docutils literal"><span class="pre">settings</span></tt></a> would silently fail to set
<tt class="docutils literal"><span class="pre">env</span></tt> values for keys which did not exist outside the context manager
block.  It now works as expected. Thanks to Will Maier for the catch and
suggested solution.</li>
</div>
<div class="section" id="1.0.4">
<h2><a class="reference external" href="https://github.com/fabric/fabric/tree/1.0.4">1.0.4</a><span> </span><span style="font-size: 75%;">2011-09-01</span><a class="headerlink" href="#1.0.4" title="Permalink to this headline">¶</a></h2>
<li>[<span style="color: #A04040;">Bug</span>]<span> </span><a class="reference external" href="https://github.com/fabric/fabric/issues/303">#303</a><span>:</span> Updated terminal size detection to correctly skip over non-tty
stdout, such as when running <tt class="docutils literal"><span class="pre">fab</span> <span class="pre">taskname</span> <span class="pre">|</span> <span class="pre">other_command</span></tt>.</li>
<li>[<span style="color: #A04040;">Bug</span>]<span> </span><a class="reference external" href="https://github.com/fabric/fabric/issues/373">#373</a><span>:</span> Re-added missing functionality preventing <a class="reference internal" href="usage/execution.html#excluding-hosts"><em>host exclusion</em></a> from working correctly.</li>
<li>[<span style="color: #A04040;">Bug</span>]<span> </span><a class="reference external" href="https://github.com/fabric/fabric/issues/396">#396</a><span>:</span> <a class="reference internal" href="usage/fab.html#cmdoption--shortlist"><em class="xref std std-option">--shortlist</em></a> broke after the addition of
<a class="reference internal" href="usage/fab.html#cmdoption-F"><em class="xref std std-option">--list-format</em></a> and no longer displayed the short list format
correctly. This has been fixed.</li>
<li>[<span style="color: #4070A0;">Support</span>]<span> </span><a class="reference external" href="https://github.com/fabric/fabric/issues/393">#393</a><span>:</span> Fixed a typo in an example code snippet in the task
docs.  Thanks to Hugo Garza for the catch.</li>
<li>[<span style="color: #A04040;">Bug</span>]<span> </span><a class="reference external" href="https://github.com/fabric/fabric/issues/252">#252</a><span>:</span> <a class="reference internal" href="api/core/context_managers.html#fabric.context_managers.settings" title="fabric.context_managers.settings"><tt class="xref py py-obj docutils literal"><span class="pre">settings</span></tt></a> would silently fail to set
<tt class="docutils literal"><span class="pre">env</span></tt> values for keys which did not exist outside the context manager
block.  It now works as expected. Thanks to Will Maier for the catch and
suggested solution.</li>
</div>
<div class="section" id="1.2.1">
<h2><a class="reference external" href="https://github.com/fabric/fabric/tree/1.2.1">1.2.1</a><span> </span><span style="font-size: 75%;">2011-08-21</span><a class="headerlink" href="#1.2.1" title="Permalink to this headline">¶</a></h2>
<li>[<span style="color: #A04040;">Bug</span>]<span> </span><a class="reference external" href="https://github.com/fabric/fabric/issues/389">#389</a><span>:</span> Fixed/improved error handling when Paramiko import fails. Thanks
to Brian Luft for the catch.</li>
<li>[<span style="color: #4070A0;">Support</span>]<span> </span><a class="reference external" href="https://github.com/fabric/fabric/issues/416">#416</a><span>:</span> Updated documentation to reflect move from Redmine
to Github.</li>
<li>[<span style="color: #A04040;">Bug</span>]<span> </span><a class="reference external" href="https://github.com/fabric/fabric/issues/417">#417</a><span>:</span> <a class="reference internal" href="usage/env.html#abort-on-prompts"><em>abort_on_prompts</em></a> would incorrectly abort when set to True,
even if both password and host were defined. This has been fixed. Thanks to
Valerie Ishida for the report.</li>
</div>
<div class="section" id="1.1.3">
<h2><a class="reference external" href="https://github.com/fabric/fabric/tree/1.1.3">1.1.3</a><span> </span><span style="font-size: 75%;">2011-08-21</span><a class="headerlink" href="#1.1.3" title="Permalink to this headline">¶</a></h2>
<li>[<span style="color: #A04040;">Bug</span>]<span> </span><a class="reference external" href="https://github.com/fabric/fabric/issues/380">#380</a><span>:</span> Improved unicode support when testing objects for being
string-like. Thanks to Jiri Barton for catch &amp; patch.</li>
<li>[<span style="color: #A04040;">Bug</span>]<span> </span><a class="reference external" href="https://github.com/fabric/fabric/issues/389">#389</a><span>:</span> Fixed/improved error handling when Paramiko import fails. Thanks
to Brian Luft for the catch.</li>
<li>[<span style="color: #4070A0;">Support</span>]<span> </span><a class="reference external" href="https://github.com/fabric/fabric/issues/416">#416</a><span>:</span> Updated documentation to reflect move from Redmine
to Github.</li>
<li>[<span style="color: #A04040;">Bug</span>]<span> </span><a class="reference external" href="https://github.com/fabric/fabric/issues/417">#417</a><span>:</span> <a class="reference internal" href="usage/env.html#abort-on-prompts"><em>abort_on_prompts</em></a> would incorrectly abort when set to True,
even if both password and host were defined. This has been fixed. Thanks to
Valerie Ishida for the report.</li>
</div>
<div class="section" id="1.0.3">
<h2><a class="reference external" href="https://github.com/fabric/fabric/tree/1.0.3">1.0.3</a><span> </span><span style="font-size: 75%;">2011-08-21</span><a class="headerlink" href="#1.0.3" title="Permalink to this headline">¶</a></h2>
<li>[<span style="color: #A04040;">Bug</span>]<span> </span><a class="reference external" href="https://github.com/fabric/fabric/issues/380">#380</a><span>:</span> Improved unicode support when testing objects for being
string-like. Thanks to Jiri Barton for catch &amp; patch.</li>
<li>[<span style="color: #A04040;">Bug</span>]<span> </span><a class="reference external" href="https://github.com/fabric/fabric/issues/389">#389</a><span>:</span> Fixed/improved error handling when Paramiko import fails. Thanks
to Brian Luft for the catch.</li>
<li>[<span style="color: #4070A0;">Support</span>]<span> </span><a class="reference external" href="https://github.com/fabric/fabric/issues/416">#416</a><span>:</span> Updated documentation to reflect move from Redmine
to Github.</li>
<li>[<span style="color: #A04040;">Bug</span>]<span> </span><a class="reference external" href="https://github.com/fabric/fabric/issues/417">#417</a><span>:</span> <a class="reference internal" href="usage/env.html#abort-on-prompts"><em>abort_on_prompts</em></a> would incorrectly abort when set to True,
even if both password and host were defined. This has been fixed. Thanks to
Valerie Ishida for the report.</li>
</div>
<div class="section" id="1.2.0">
<h2><a class="reference external" href="https://github.com/fabric/fabric/tree/1.2.0">1.2.0</a><span> </span><span style="font-size: 75%;">2011-07-12</span><a class="headerlink" href="#1.2.0" title="Permalink to this headline">¶</a></h2>
<li>[<span style="color: #4070A0;">Support</span>]<span> </span><a class="reference external" href="https://github.com/fabric/fabric/issues/382">#382</a><span>:</span> Experimental overhaul of changelog formatting &amp; process to
make supporting multiple lines of development less of a hassle.</li>
<li>[<span style="color: #40A056;">Feature</span>]<span> </span><a class="reference external" href="https://github.com/fabric/fabric/issues/22">#22</a><span>:</span> Enhanced <a class="reference internal" href="api/core/decorators.html#fabric.decorators.task" title="fabric.decorators.task"><tt class="xref py py-obj docutils literal"><span class="pre">&#64;task</span></tt></a> to add <a class="reference internal" href="usage/tasks.html#task-aliases"><em>aliasing</em></a>, <a class="reference internal" href="usage/tasks.html#default-tasks"><em>per-module default tasks</em></a>, and
<a class="reference internal" href="usage/tasks.html#task-decorator-and-classes"><em>control over the wrapping task class</em></a>.
Thanks to Travis Swicegood for the initial work and collaboration.</li>
</div>
<div class="section" id="prehistory">
<h2>Prehistory<a class="headerlink" href="#prehistory" title="Permalink to this headline">¶</a></h2>
<p>The content below this section comes from older versions of Fabric which wrote
out changelogs to individual, undated files. They have been concatenated and
preserved here for historical reasons, and may not be in strict chronological
order.</p>
</div>
<hr class="docutils" />
<div class="section" id="changes-in-version-1-1-2-2011-07-07">
<h2>Changes in version 1.1.2 (2011-07-07)<a class="headerlink" href="#changes-in-version-1-1-2-2011-07-07" title="Permalink to this headline">¶</a></h2>
<div class="section" id="bugfixes">
<h3>Bugfixes<a class="headerlink" href="#bugfixes" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><a class="reference external" href="https://github.com/fabric/fabric/issues/375">#375</a>: The logic used to separate tasks from modules when running
<tt class="docutils literal"><span class="pre">fab</span> <span class="pre">--list</span></tt> incorrectly considered task classes implementing the mapping
interface to be modules, not individual tasks. This has been corrected.
Thanks to Vladimir Mihailenco for the catch.</li>
</ul>
</div>
</div>
<div class="section" id="changes-in-version-1-1-1-2011-06-29">
<h2>Changes in version 1.1.1 (2011-06-29)<a class="headerlink" href="#changes-in-version-1-1-1-2011-06-29" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id1">
<h3>Bugfixes<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h3>
<ul>
<li><p class="first">The public API for <a class="reference internal" href="api/core/tasks.html#fabric.tasks.Task" title="fabric.tasks.Task"><tt class="xref py py-obj docutils literal"><span class="pre">Task</span></tt></a> mentioned use of the <tt class="docutils literal"><span class="pre">run()</span></tt>
method, but Fabric&#8217;s main execution loop had not been updated to look for and
call it, forcing users who subclassed <a class="reference internal" href="api/core/tasks.html#fabric.tasks.Task" title="fabric.tasks.Task"><tt class="xref py py-obj docutils literal"><span class="pre">Task</span></tt></a> to define
<tt class="docutils literal"><span class="pre">__call__()</span></tt> instead. This was an oversight and has been corrected.</p>
<div class="admonition-see-also admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="usage/tasks.html#task-subclasses"><em>Task subclasses</em></a></p>
</div>
</li>
</ul>
</div>
</div>
<div class="section" id="changes-in-version-1-1-2011-06-24">
<h2>Changes in version 1.1 (2011-06-24)<a class="headerlink" href="#changes-in-version-1-1-2011-06-24" title="Permalink to this headline">¶</a></h2>
<p>This page lists all changes made to Fabric in its 1.1.0 release.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This release also includes all applicable changes from the 1.0.2 release.</p>
</div>
<div class="section" id="highlights">
<h3>Highlights<a class="headerlink" href="#highlights" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><a class="reference external" href="https://github.com/fabric/fabric/issues/76">#76</a>: <a class="reference internal" href="usage/tasks.html#new-style-tasks"><em>New-style tasks</em></a> have been added. With
the addition of the <a class="reference internal" href="api/core/decorators.html#fabric.decorators.task" title="fabric.decorators.task"><tt class="xref py py-obj docutils literal"><span class="pre">task</span></tt></a> decorator and the
<a class="reference internal" href="api/core/tasks.html#fabric.tasks.Task" title="fabric.tasks.Task"><tt class="xref py py-obj docutils literal"><span class="pre">Task</span></tt></a> class, you can now &#8220;opt-in&#8221; and explicitly mark task
functions as tasks, and Fabric will ignore the rest. The original behavior
(now referred to as <a class="reference internal" href="usage/tasks.html#classic-tasks"><em>&#8220;classic&#8221; tasks</em></a>) will still take
effect if no new-style tasks are found. Major thanks to Travis Swicegood for
the original implementation.</li>
<li><a class="reference external" href="https://github.com/fabric/fabric/issues/56">#56</a>: Namespacing is now possible: Fabric will crawl imported module
objects looking for new-style task objects and build a dotted hierarchy
(tasks named e.g. <tt class="docutils literal"><span class="pre">web.deploy</span></tt> or <tt class="docutils literal"><span class="pre">db.migrations.run</span></tt>), allowing for
greater organization. See <a class="reference internal" href="usage/tasks.html#namespaces"><em>Namespaces</em></a> for details. Thanks again to
Travis Swicegood.</li>
</ul>
</div>
<div class="section" id="feature-additions">
<h3>Feature additions<a class="headerlink" href="#feature-additions" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><a class="reference external" href="https://github.com/fabric/fabric/issues/10">#10</a>: <tt class="xref py py-obj docutils literal"><span class="pre">upload_project</span></tt> now allows control over the
local and remote directory paths, and has improved error handling. Thanks to
Rodrigue Alcazar for the patch.</li>
<li>As part of <a class="reference external" href="https://github.com/fabric/fabric/issues/56">#56</a> (highlighted above), added <a class="reference internal" href="usage/fab.html#cmdoption-F"><em class="xref std std-option">--list-format</em></a> to allow specification of a nested output format from <a class="reference internal" href="usage/fab.html#cmdoption-l"><em class="xref std std-option">--list</em></a>.</li>
<li><a class="reference external" href="https://github.com/fabric/fabric/issues/107">#107</a>: <a class="reference internal" href="api/core/operations.html#fabric.operations.require" title="fabric.operations.require"><tt class="xref py py-obj docutils literal"><span class="pre">require</span></tt></a>&#8216;s <tt class="docutils literal"><span class="pre">provided_by</span></tt> kwarg now
accepts iterables in addition to single values. Thanks to Thomas Ballinger
for the patch.</li>
<li><a class="reference external" href="https://github.com/fabric/fabric/issues/117">#117</a>: <a class="reference internal" href="api/contrib/files.html#fabric.contrib.files.upload_template" title="fabric.contrib.files.upload_template"><tt class="xref py py-obj docutils literal"><span class="pre">upload_template</span></tt></a> now supports the
<a class="reference internal" href="api/core/operations.html#fabric.operations.put" title="fabric.operations.put"><tt class="xref py py-obj docutils literal"><span class="pre">put</span></tt></a> flags <tt class="docutils literal"><span class="pre">mirror_local_mode</span></tt> and <tt class="docutils literal"><span class="pre">mode</span></tt>. Thanks to
Joe Stump for the suggestion and Thomas Ballinger for the patch.</li>
<li><a class="reference external" href="https://github.com/fabric/fabric/issues/154">#154</a>: <a class="reference internal" href="api/contrib/files.html#fabric.contrib.files.sed" title="fabric.contrib.files.sed"><tt class="xref py py-obj docutils literal"><span class="pre">sed</span></tt></a> now allows customized regex flags
to be specified via a new <tt class="docutils literal"><span class="pre">flags</span></tt> parameter. Thanks to Nick Trew for the
suggestion and Morgan Goose for initial implementation.</li>
<li><a class="reference external" href="https://github.com/fabric/fabric/issues/170">#170</a>: Allow <a class="reference internal" href="usage/execution.html#excluding-hosts"><em>exclusion</em></a> of specific hosts from
the final run list. Thanks to Casey Banner for the suggestion and patch.</li>
<li><a class="reference external" href="https://github.com/fabric/fabric/issues/189">#189</a>: Added <a class="reference internal" href="usage/fab.html#cmdoption--abort-on-prompts"><em class="xref std std-option">--abort-on-prompts</em></a>/<a class="reference internal" href="usage/env.html#abort-on-prompts"><em>env.abort_on_prompts</em></a> to allow a more non-interactive behavior,
aborting/exiting instead of trying to prompt the running user. Thanks to
Jeremy Avnet and Matt Chisholm for the initial patch.</li>
<li><a class="reference external" href="https://github.com/fabric/fabric/issues/273">#273</a>: <a class="reference internal" href="api/contrib/files.html#fabric.contrib.files.upload_template" title="fabric.contrib.files.upload_template"><tt class="xref py py-obj docutils literal"><span class="pre">upload_template</span></tt></a> now offers control over
whether it attempts to create backups of pre-existing destination files.
Thanks to Ales Zoulek for the suggestion and initial patch.</li>
<li><a class="reference external" href="https://github.com/fabric/fabric/issues/283">#283</a>: Added the <a class="reference internal" href="api/core/decorators.html#fabric.decorators.with_settings" title="fabric.decorators.with_settings"><tt class="xref py py-obj docutils literal"><span class="pre">with_settings</span></tt></a> decorator to allow
application of env var settings to an entire function, as an alternative to
using the <a class="reference internal" href="api/core/context_managers.html#fabric.context_managers.settings" title="fabric.context_managers.settings"><tt class="xref py py-obj docutils literal"><span class="pre">settings</span></tt></a> context manager. Thanks to
Travis Swicegood for the patch.</li>
<li><a class="reference external" href="https://github.com/fabric/fabric/issues/353">#353</a>: Added <a class="reference internal" href="usage/fab.html#cmdoption--keepalive"><em class="xref std std-option">--keepalive</em></a>/<a class="reference internal" href="usage/env.html#keepalive"><em>env.keepalive</em></a> to
allow specification of an SSH keepalive parameter for troublesome network
connections. Thanks to Mark Merritt for catch &amp; patch.</li>
</ul>
</div>
<div class="section" id="id2">
<h3>Bugfixes<a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><a class="reference external" href="https://github.com/fabric/fabric/issues/115">#115</a>: An implementation detail causing host lists to lose order
when deduped by the <tt class="docutils literal"><span class="pre">fab</span></tt> execution loop, has been patched to preserve
order instead. So e.g. <tt class="docutils literal"><span class="pre">fab</span> <span class="pre">-H</span> <span class="pre">a,b,c</span></tt> (or setting <tt class="docutils literal"><span class="pre">env.hosts</span> <span class="pre">=</span> <span class="pre">['a',</span> <span class="pre">'b',</span>
<span class="pre">'c']</span></tt>) will now always run on <tt class="docutils literal"><span class="pre">a</span></tt>, then <tt class="docutils literal"><span class="pre">b</span></tt>, then <tt class="docutils literal"><span class="pre">c</span></tt>. Previously,
there was a chance the order could get mixed up during deduplication. Thanks
to Rohit Aggarwal for the report.</li>
<li><a class="reference external" href="https://github.com/fabric/fabric/issues/345">#345</a>: <a class="reference internal" href="api/contrib/files.html#fabric.contrib.files.contains" title="fabric.contrib.files.contains"><tt class="xref py py-obj docutils literal"><span class="pre">contains</span></tt></a> returned the stdout of its
internal <tt class="docutils literal"><span class="pre">grep</span></tt> command instead of success/failure, causing incorrect
behavior when stderr exists and is combined with stdout. This has been
corrected. Thanks to Szymon Reichmann for catch and patch.</li>
</ul>
</div>
<div class="section" id="documentation-updates">
<h3>Documentation updates<a class="headerlink" href="#documentation-updates" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Documentation for task declaration has been moved from
<a class="reference internal" href="usage/execution.html"><em>Execution model</em></a> into its own docs page, <a class="reference internal" href="usage/tasks.html"><em>Defining tasks</em></a>, as a
result of the changes added in <a class="reference external" href="https://github.com/fabric/fabric/issues/76">#76</a> and <a class="reference external" href="https://github.com/fabric/fabric/issues/56">#56</a>.</li>
<li><a class="reference external" href="https://github.com/fabric/fabric/issues/184">#184</a>: Make the usage of <a class="reference internal" href="api/contrib/project.html#fabric.contrib.project.rsync_project" title="fabric.contrib.project.rsync_project"><tt class="xref py py-obj docutils literal"><span class="pre">rsync_project</span></tt></a>&#8216;s
<tt class="docutils literal"><span class="pre">local_dir</span></tt> argument more obvious, regarding its use in the <tt class="docutils literal"><span class="pre">rsync</span></tt> call.
(Specifically, so users know they can pass in multiple, space-joined
directory names instead of just one single directory.)</li>
</ul>
</div>
<div class="section" id="internals">
<h3>Internals<a class="headerlink" href="#internals" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><a class="reference external" href="https://github.com/fabric/fabric/issues/307">#307</a>: A whole pile of minor PEP8 tweaks. Thanks to Markus Gattol for
highlighting the <tt class="docutils literal"><span class="pre">pep8</span></tt> tool and to Rick Harding for the patch.</li>
<li><a class="reference external" href="https://github.com/fabric/fabric/issues/314">#314</a>: Test utility decorator improvements. Thanks to Rick Harding for
initial catch &amp; patch.</li>
</ul>
</div>
</div>
<div class="section" id="changes-in-version-1-0-2-2011-06-24">
<h2>Changes in version 1.0.2 (2011-06-24)<a class="headerlink" href="#changes-in-version-1-0-2-2011-06-24" title="Permalink to this headline">¶</a></h2>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This release also includes all applicable changes from the 0.9.7 release.</p>
</div>
<div class="section" id="id3">
<h3>Bugfixes<a class="headerlink" href="#id3" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><a class="reference external" href="https://github.com/fabric/fabric/issues/258">#258</a>: Bugfix to a previous, incorrectly applied fix regarding
<a class="reference internal" href="api/core/operations.html#fabric.operations.local" title="fabric.operations.local"><tt class="xref py py-obj docutils literal"><span class="pre">local</span></tt></a> on Windows platforms.</li>
<li><a class="reference external" href="https://github.com/fabric/fabric/issues/324">#324</a>: Update <a class="reference internal" href="api/core/operations.html#fabric.operations.run" title="fabric.operations.run"><tt class="xref py py-obj docutils literal"><span class="pre">run</span></tt></a>/<a class="reference internal" href="api/core/operations.html#fabric.operations.sudo" title="fabric.operations.sudo"><tt class="xref py py-obj docutils literal"><span class="pre">sudo</span></tt></a>&#8216;s
<tt class="docutils literal"><span class="pre">combine_stderr</span></tt> kwarg so that it correctly overrides the global setting in
all cases. This required changing its default value to <tt class="docutils literal"><span class="pre">None</span></tt>, but the
default behavior (behaving as if the setting were <tt class="docutils literal"><span class="pre">True</span></tt>) has not changed.
Thanks to Matthew Woodcraft and Connor Smith for the catch.</li>
<li><a class="reference external" href="https://github.com/fabric/fabric/issues/337">#337</a>: Fix logic bug in <a class="reference internal" href="api/core/operations.html#fabric.operations.put" title="fabric.operations.put"><tt class="xref py py-obj docutils literal"><span class="pre">put</span></tt></a> preventing use of
<tt class="docutils literal"><span class="pre">mirror_local_mode</span></tt>. Thanks to Roman Imankulov for catch &amp; patch.</li>
<li><a class="reference external" href="https://github.com/fabric/fabric/issues/352">#352</a> (also <a class="reference external" href="https://github.com/fabric/fabric/issues/320">#320</a>): Seemingly random issues with output lockup
and input problems (e.g. sudo prompts incorrectly rejecting passwords) appear
to have been caused by an I/O race condition. This has been fixed. Thanks to
Max Arnold and Paul Oswald for the detailed reports and to Max for the
diagnosis and patch.</li>
</ul>
</div>
<div class="section" id="documentation">
<h3>Documentation<a class="headerlink" href="#documentation" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Updated the API documentation for <a class="reference internal" href="api/core/context_managers.html#fabric.context_managers.cd" title="fabric.context_managers.cd"><tt class="xref py py-obj docutils literal"><span class="pre">cd</span></tt></a> to explicitly
point users to <a class="reference internal" href="api/core/context_managers.html#fabric.context_managers.lcd" title="fabric.context_managers.lcd"><tt class="xref py py-obj docutils literal"><span class="pre">lcd</span></tt></a> for modifying local paths.</li>
<li>Clarified the behavior of <a class="reference internal" href="api/contrib/project.html#fabric.contrib.project.rsync_project" title="fabric.contrib.project.rsync_project"><tt class="xref py py-obj docutils literal"><span class="pre">rsync_project</span></tt></a> re: how
trailing slashes in <tt class="docutils literal"><span class="pre">local_dir</span></tt> affect <tt class="docutils literal"><span class="pre">remote_dir</span></tt>. Thanks to Mark
Merritt for the catch.</li>
</ul>
</div>
</div>
<div class="section" id="changes-in-version-1-0-1-2011-03-27">
<h2>Changes in version 1.0.1 (2011-03-27)<a class="headerlink" href="#changes-in-version-1-0-1-2011-03-27" title="Permalink to this headline">¶</a></h2>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This release also includes all applicable changes from the 0.9.5 release.</p>
</div>
<div class="section" id="id4">
<h3>Bugfixes<a class="headerlink" href="#id4" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><a class="reference external" href="https://github.com/fabric/fabric/issues/301">#301</a>: Fixed a bug in <a class="reference internal" href="api/core/operations.html#fabric.operations.local" title="fabric.operations.local"><tt class="xref py py-obj docutils literal"><span class="pre">local</span></tt></a>&#8216;s behavior when
<tt class="docutils literal"><span class="pre">capture=False</span></tt> and <tt class="docutils literal"><span class="pre">output.stdout</span></tt> (or <tt class="docutils literal"><span class="pre">.stderr</span></tt>) was also <tt class="docutils literal"><span class="pre">False</span></tt>.
Thanks to Chris Rose for the catch.</li>
<li><a class="reference external" href="https://github.com/fabric/fabric/issues/310">#310</a>: Update edge case in <a class="reference internal" href="api/core/operations.html#fabric.operations.put" title="fabric.operations.put"><tt class="xref py py-obj docutils literal"><span class="pre">put</span></tt></a> where using the
<tt class="docutils literal"><span class="pre">mode</span></tt> kwarg alongside <tt class="docutils literal"><span class="pre">use_sudo=True</span></tt> runs a hidden
<a class="reference internal" href="api/core/operations.html#fabric.operations.sudo" title="fabric.operations.sudo"><tt class="xref py py-obj docutils literal"><span class="pre">sudo</span></tt></a> command. The <tt class="docutils literal"><span class="pre">mode</span></tt> kwarg needs to be octal but
was being interpolated in the <tt class="docutils literal"><span class="pre">sudo</span></tt> call as a string/integer. Thanks to
Adam Ernst for the catch and suggested fix.</li>
<li><a class="reference external" href="https://github.com/fabric/fabric/issues/311">#311</a>: <a class="reference internal" href="api/contrib/files.html#fabric.contrib.files.append" title="fabric.contrib.files.append"><tt class="xref py py-obj docutils literal"><span class="pre">append</span></tt></a> was supposed to have its
<tt class="docutils literal"><span class="pre">partial</span></tt> kwarg&#8217;s default flipped from <tt class="docutils literal"><span class="pre">True</span></tt> to <tt class="docutils literal"><span class="pre">False</span></tt>. However, only
the documentation was altered. This has been fixed. Thanks to Adam Ernst for
bringing it to our attention.</li>
<li><a class="reference external" href="https://github.com/fabric/fabric/issues/312">#312</a>: Tweak internal I/O related loops to prevent high CPU usage and
poor screen-printing behavior on some systems. Thanks to Kirill Pinchuk for
the initial patch.</li>
<li><a class="reference external" href="https://github.com/fabric/fabric/issues/320">#320</a>: Some users reported problems with dropped input, particularly
while entering <a class="reference internal" href="api/core/operations.html#fabric.operations.sudo" title="fabric.operations.sudo"><tt class="xref py py-obj docutils literal"><span class="pre">sudo</span></tt></a> passwords. This was fixed via the
same change as for <a class="reference external" href="https://github.com/fabric/fabric/issues/312">#312</a>.</li>
</ul>
</div>
<div class="section" id="id5">
<h3>Documentation<a class="headerlink" href="#id5" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Added a missing entry for <a class="reference internal" href="usage/env.html#env-path"><em>env.path</em></a> in the usage
documentation.</li>
</ul>
</div>
</div>
<div class="section" id="changes-in-version-1-0-2011-03-04">
<h2>Changes in version 1.0 (2011-03-04)<a class="headerlink" href="#changes-in-version-1-0-2011-03-04" title="Permalink to this headline">¶</a></h2>
<p>This page lists all changes made to Fabric in its 1.0.0 release.</p>
<div class="section" id="id6">
<h3>Highlights<a class="headerlink" href="#id6" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><a class="reference external" href="https://github.com/fabric/fabric/issues/7">#7</a>: <a class="reference internal" href="api/core/operations.html#fabric.operations.run" title="fabric.operations.run"><tt class="xref py py-obj docutils literal"><span class="pre">run</span></tt></a>/<a class="reference internal" href="api/core/operations.html#fabric.operations.sudo" title="fabric.operations.sudo"><tt class="xref py py-obj docutils literal"><span class="pre">sudo</span></tt></a> now allow full
interactivity with the remote end. You can interact with remote prompts and
similar interfaces, making certain tasks much easier, and freeing you from
the need to find noninteractive solutions if you don&#8217;t want to. See
<a class="reference internal" href="usage/interactivity.html"><em>Interaction with remote programs</em></a> for more on these changes.</li>
<li><a class="reference internal" href="api/core/operations.html#fabric.operations.put" title="fabric.operations.put"><tt class="xref py py-obj docutils literal"><span class="pre">put</span></tt></a> and <a class="reference internal" href="api/core/operations.html#fabric.operations.get" title="fabric.operations.get"><tt class="xref py py-obj docutils literal"><span class="pre">get</span></tt></a> received many updates,
including but not limited to: recursion, globbing, inline <tt class="docutils literal"><span class="pre">sudo</span></tt>
capability, and increased control over local file paths. See the individual
ticket line-items below for details. Erich Heine (<tt class="docutils literal"><span class="pre">sophacles</span></tt> on IRC)
played a large part in implementing and/or collecting these changes and
deserves much of the credit.</li>
<li>Added functionality for loading fabfiles which are Python packages
(directories) instead of just modules (single files). This allows for easier
organization of nontrivial fabfiles and paves the way for task namespacing
in the near future. See <a class="reference internal" href="usage/fabfiles.html#fabfile-discovery"><em>Fabfile discovery</em></a> for details.</li>
<li><a class="reference external" href="https://github.com/fabric/fabric/issues/185">#185</a>: Mostly of interest to those contributing to Fabric itself,
Fabric now leverages Paramiko to provide a stub SSH and SFTP server for use
during runs of our test suite. This makes quick, configurable full-stack
testing of Fabric (and, to an extent, user fabfiles) possible.</li>
</ul>
</div>
<div class="section" id="backwards-incompatible-changes">
<h3>Backwards-incompatible changes<a class="headerlink" href="#backwards-incompatible-changes" title="Permalink to this headline">¶</a></h3>
<p>The below changes are <strong>backwards incompatible</strong> and have the potential to
break your 0.9.x based fabfiles!</p>
<ul class="simple">
<li><a class="reference internal" href="api/contrib/files.html#fabric.contrib.files.contains" title="fabric.contrib.files.contains"><tt class="xref py py-obj docutils literal"><span class="pre">contains</span></tt></a> and <a class="reference internal" href="api/contrib/files.html#fabric.contrib.files.append" title="fabric.contrib.files.append"><tt class="xref py py-obj docutils literal"><span class="pre">append</span></tt></a>
previously had the <tt class="docutils literal"><span class="pre">filename</span></tt> argument in the second position, whereas all
other functions in the <a class="reference internal" href="api/contrib/files.html#module-fabric.contrib.files" title="fabric.contrib.files"><tt class="xref py py-obj docutils literal"><span class="pre">contrib.files</span></tt></a> module had
<tt class="docutils literal"><span class="pre">filename</span></tt> as the first argument.  These two functions have been brought in
line with the rest of the module.</li>
<li><a class="reference internal" href="api/contrib/files.html#fabric.contrib.files.sed" title="fabric.contrib.files.sed"><tt class="xref py py-obj docutils literal"><span class="pre">sed</span></tt></a> now escapes single-quotes and parentheses in
addition to forward slashes, in its <tt class="docutils literal"><span class="pre">before</span></tt> and <tt class="docutils literal"><span class="pre">after</span></tt> kwargs. Related
to, but not entirely contained within, <a class="reference external" href="https://github.com/fabric/fabric/issues/159">#159</a>.</li>
<li>The <tt class="docutils literal"><span class="pre">user</span></tt> and <tt class="docutils literal"><span class="pre">pty</span></tt> kwargs in <a class="reference internal" href="api/core/operations.html#fabric.operations.sudo" title="fabric.operations.sudo"><tt class="xref py py-obj docutils literal"><span class="pre">sudo</span></tt></a>&#8216;s signature have
had their order swapped around to more closely match
<a class="reference internal" href="api/core/operations.html#fabric.operations.run" title="fabric.operations.run"><tt class="xref py py-obj docutils literal"><span class="pre">run</span></tt></a>.</li>
<li>As part of the changes made in <a class="reference external" href="https://github.com/fabric/fabric/issues/7">#7</a>, <a class="reference internal" href="api/core/operations.html#fabric.operations.run" title="fabric.operations.run"><tt class="xref py py-obj docutils literal"><span class="pre">run</span></tt></a> and
<a class="reference internal" href="api/core/operations.html#fabric.operations.sudo" title="fabric.operations.sudo"><tt class="xref py py-obj docutils literal"><span class="pre">sudo</span></tt></a> have had the default value of their <tt class="docutils literal"><span class="pre">pty</span></tt> kwargs
changed from <tt class="docutils literal"><span class="pre">False</span></tt> to <tt class="docutils literal"><span class="pre">True</span></tt>. This, plus the addition of the
<a class="reference internal" href="usage/env.html#combine-stderr"><em>combine_stderr</em></a> kwarg/env var, may result in significant behavioral
changes in remote programs which operate differently when attached to a tty.</li>
<li><a class="reference external" href="https://github.com/fabric/fabric/issues/61">#61</a>: <a class="reference internal" href="api/core/operations.html#fabric.operations.put" title="fabric.operations.put"><tt class="xref py py-obj docutils literal"><span class="pre">put</span></tt></a> and <a class="reference internal" href="api/core/operations.html#fabric.operations.get" title="fabric.operations.get"><tt class="xref py py-obj docutils literal"><span class="pre">get</span></tt></a> now honor
the remote current-working-directory changes applied by
<a class="reference internal" href="api/core/context_managers.html#fabric.context_managers.cd" title="fabric.context_managers.cd"><tt class="xref py py-obj docutils literal"><span class="pre">cd</span></tt></a>. Previously they would always treat relative
remote paths as being relative to the remote home directory.</li>
<li><a class="reference external" href="https://github.com/fabric/fabric/issues/79">#79</a>: <a class="reference internal" href="api/core/operations.html#fabric.operations.get" title="fabric.operations.get"><tt class="xref py py-obj docutils literal"><span class="pre">get</span></tt></a> now allows increased control over local
filenames when downloading single or multiple files. This is backwards
incompatible because the default path/filename for downloaded files has
changed.  Thanks to Juha Mustonen, Erich Heine and Max Arnold for
brainstorming solutions.</li>
<li><a class="reference external" href="https://github.com/fabric/fabric/issues/88">#88</a>: <a class="reference internal" href="api/core/operations.html#fabric.operations.local" title="fabric.operations.local"><tt class="xref py py-obj docutils literal"><span class="pre">local</span></tt></a> has changed the default value of its
<tt class="docutils literal"><span class="pre">capture</span></tt> kwarg, from <tt class="docutils literal"><span class="pre">True</span></tt> to <tt class="docutils literal"><span class="pre">False</span></tt>. This was changed in order to
be more intuitive, at the cost of no longer defaulting to the same rich
return value as in <a class="reference internal" href="api/core/operations.html#fabric.operations.run" title="fabric.operations.run"><tt class="xref py py-obj docutils literal"><span class="pre">run</span></tt></a>/<a class="reference internal" href="api/core/operations.html#fabric.operations.sudo" title="fabric.operations.sudo"><tt class="xref py py-obj docutils literal"><span class="pre">sudo</span></tt></a> (which
is still available by specifying <tt class="docutils literal"><span class="pre">capture=True</span></tt>.)</li>
<li><a class="reference external" href="https://github.com/fabric/fabric/issues/121">#121</a>: <a class="reference internal" href="api/core/operations.html#fabric.operations.put" title="fabric.operations.put"><tt class="xref py py-obj docutils literal"><span class="pre">put</span></tt></a> will no longer automatically attempt
to mirror local file modes. Instead, you&#8217;ll need to specify
<tt class="docutils literal"><span class="pre">mirror_local_mode=True</span></tt> to get this behavior. Thanks to Paul Smith for a
patch covering part of this change.</li>
<li><a class="reference external" href="https://github.com/fabric/fabric/issues/172">#172</a>: <a class="reference internal" href="api/contrib/files.html#fabric.contrib.files.append" title="fabric.contrib.files.append"><tt class="xref py py-obj docutils literal"><span class="pre">append</span></tt></a> has changed the default value of
its <tt class="docutils literal"><span class="pre">partial</span></tt> kwarg from <tt class="docutils literal"><span class="pre">True</span></tt> to <tt class="docutils literal"><span class="pre">False</span></tt> in order to be safer/more
intuitive.</li>
<li><a class="reference external" href="https://github.com/fabric/fabric/issues/221">#221</a>: <a class="reference internal" href="api/core/decorators.html#fabric.decorators.runs_once" title="fabric.decorators.runs_once"><tt class="xref py py-obj docutils literal"><span class="pre">runs_once</span></tt></a> now memoizes the wrapped task&#8217;s
return value and returns that value on subsequent invocations, instead of
returning None. Thanks to Jacob Kaplan-Moss and Travis Swicegood for catch +
patch.</li>
</ul>
</div>
<div class="section" id="id7">
<h3>Feature additions<a class="headerlink" href="#id7" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Prerelease versions of Fabric (starting with the 1.0 prereleases) will now
print the Git SHA1 hash of the current checkout, if the user is working off
of a Git clone of the Fabric source code repository.</li>
<li>Added <a class="reference internal" href="api/core/context_managers.html#fabric.context_managers.path" title="fabric.context_managers.path"><tt class="xref py py-obj docutils literal"><span class="pre">path</span></tt></a> context manager for modifying commands&#8217;
effective <tt class="docutils literal"><span class="pre">$PATH</span></tt>.</li>
<li>Added convenience <tt class="docutils literal"><span class="pre">.succeeded</span></tt> attribute to the return values of
<a class="reference internal" href="api/core/operations.html#fabric.operations.run" title="fabric.operations.run"><tt class="xref py py-obj docutils literal"><span class="pre">run</span></tt></a>/<a class="reference internal" href="api/core/operations.html#fabric.operations.sudo" title="fabric.operations.sudo"><tt class="xref py py-obj docutils literal"><span class="pre">sudo</span></tt></a>/<a class="reference internal" href="api/core/operations.html#fabric.operations.local" title="fabric.operations.local"><tt class="xref py py-obj docutils literal"><span class="pre">local</span></tt></a>
which is simply the opposite of the <tt class="docutils literal"><span class="pre">.failed</span></tt> attribute. (This addition has
also been backported to Fabric&#8217;s 0.9 series.)</li>
<li>Refactored SSH disconnection code out of the main <tt class="docutils literal"><span class="pre">fab</span></tt> loop into
<a class="reference internal" href="api/core/network.html#fabric.network.disconnect_all" title="fabric.network.disconnect_all"><tt class="xref py py-obj docutils literal"><span class="pre">disconnect_all</span></tt></a>, allowing library users to avoid problems
with non-fabfile Python scripts hanging after execution finishes.</li>
<li><a class="reference external" href="https://github.com/fabric/fabric/issues/2">#2</a>: Added <tt class="docutils literal"><span class="pre">use_sudo</span></tt> kwarg to <a class="reference internal" href="api/core/operations.html#fabric.operations.put" title="fabric.operations.put"><tt class="xref py py-obj docutils literal"><span class="pre">put</span></tt></a> to allow
uploading of files to privileged locations. Thanks to Erich Heine and IRC
user <tt class="docutils literal"><span class="pre">npmap</span></tt> for suggestions and patches.</li>
<li><a class="reference external" href="https://github.com/fabric/fabric/issues/23">#23</a>: Added <a class="reference internal" href="api/core/context_managers.html#fabric.context_managers.prefix" title="fabric.context_managers.prefix"><tt class="xref py py-obj docutils literal"><span class="pre">prefix</span></tt></a> context manager for
easier management of persistent state across commands.</li>
<li><a class="reference external" href="https://github.com/fabric/fabric/issues/27">#27</a>: Added environment variable (<a class="reference internal" href="usage/env.html#always-use-pty"><em>always_use_pty</em></a>) and
command-line flag (<a class="reference internal" href="usage/fab.html#cmdoption--no-pty"><em class="xref std std-option">--no-pty</em></a>) for global control over the
<a class="reference internal" href="api/core/operations.html#fabric.operations.run" title="fabric.operations.run"><tt class="xref py py-obj docutils literal"><span class="pre">run</span></tt></a>/<a class="reference internal" href="api/core/operations.html#fabric.operations.sudo" title="fabric.operations.sudo"><tt class="xref py py-obj docutils literal"><span class="pre">sudo</span></tt></a> <tt class="docutils literal"><span class="pre">pty</span></tt> argument.</li>
<li><a class="reference external" href="https://github.com/fabric/fabric/issues/28">#28</a>: Allow shell-style globbing in <a class="reference internal" href="api/core/operations.html#fabric.operations.get" title="fabric.operations.get"><tt class="xref py py-obj docutils literal"><span class="pre">get</span></tt></a>. Thanks
to Erich Heine and Max Arnold.</li>
<li><a class="reference external" href="https://github.com/fabric/fabric/issues/55">#55</a>: <a class="reference internal" href="api/core/operations.html#fabric.operations.run" title="fabric.operations.run"><tt class="xref py py-obj docutils literal"><span class="pre">run</span></tt></a>, <a class="reference internal" href="api/core/operations.html#fabric.operations.sudo" title="fabric.operations.sudo"><tt class="xref py py-obj docutils literal"><span class="pre">sudo</span></tt></a> and
<a class="reference internal" href="api/core/operations.html#fabric.operations.local" title="fabric.operations.local"><tt class="xref py py-obj docutils literal"><span class="pre">local</span></tt></a> now provide access to their standard error
(stderr) as an attribute on the return value, alongside e.g. <tt class="docutils literal"><span class="pre">.failed</span></tt>.</li>
<li><a class="reference external" href="https://github.com/fabric/fabric/issues/148">#148</a>: <a class="reference internal" href="api/core/operations.html#fabric.operations.local" title="fabric.operations.local"><tt class="xref py py-obj docutils literal"><span class="pre">local</span></tt></a> now returns the same &#8220;rich&#8221; string
object as <a class="reference internal" href="api/core/operations.html#fabric.operations.run" title="fabric.operations.run"><tt class="xref py py-obj docutils literal"><span class="pre">run</span></tt></a>/<a class="reference internal" href="api/core/operations.html#fabric.operations.sudo" title="fabric.operations.sudo"><tt class="xref py py-obj docutils literal"><span class="pre">sudo</span></tt></a> do, so that it
is a string containing the command&#8217;s stdout (if <tt class="docutils literal"><span class="pre">capture=True</span></tt>) or the
empty string (if <tt class="docutils literal"><span class="pre">capture=False</span></tt>) which exposes the <tt class="docutils literal"><span class="pre">.failed</span></tt> and
<tt class="docutils literal"><span class="pre">.return_code</span></tt> attributes, and so forth.</li>
<li><a class="reference external" href="https://github.com/fabric/fabric/issues/151">#151</a>: Added a <a class="reference internal" href="api/core/utils.html#fabric.utils.puts" title="fabric.utils.puts"><tt class="xref py py-obj docutils literal"><span class="pre">puts</span></tt></a> utility function, which allows
greater control over fabfile-generated (as opposed to Fabric-generated)
output. Also added <a class="reference internal" href="api/core/utils.html#fabric.utils.fastprint" title="fabric.utils.fastprint"><tt class="xref py py-obj docutils literal"><span class="pre">fastprint</span></tt></a>, an alias to
<a class="reference internal" href="api/core/utils.html#fabric.utils.puts" title="fabric.utils.puts"><tt class="xref py py-obj docutils literal"><span class="pre">puts</span></tt></a> allowing for convenient unbuffered,
non-newline-terminated printing.</li>
<li><a class="reference external" href="https://github.com/fabric/fabric/issues/192">#192</a>: Added per-user/host password cache to assist in
multi-connection scenarios.</li>
<li><a class="reference external" href="https://github.com/fabric/fabric/issues/193">#193</a>: When requesting a remote pseudo-terminal, use the invoking
terminal&#8217;s dimensions instead of going with the default.</li>
<li><a class="reference external" href="https://github.com/fabric/fabric/issues/217">#217</a>: <a class="reference internal" href="api/core/operations.html#fabric.operations.get" title="fabric.operations.get"><tt class="xref py py-obj docutils literal"><span class="pre">get</span></tt></a>/<a class="reference internal" href="api/core/operations.html#fabric.operations.put" title="fabric.operations.put"><tt class="xref py py-obj docutils literal"><span class="pre">put</span></tt></a> now accept
file-like objects as well as local file paths for their <tt class="docutils literal"><span class="pre">local_path</span></tt>
arguments.</li>
<li><a class="reference external" href="https://github.com/fabric/fabric/issues/245">#245</a>: Added the <a class="reference internal" href="api/core/context_managers.html#fabric.context_managers.lcd" title="fabric.context_managers.lcd"><tt class="xref py py-obj docutils literal"><span class="pre">lcd</span></tt></a> context manager for
controlling <a class="reference internal" href="api/core/operations.html#fabric.operations.local" title="fabric.operations.local"><tt class="xref py py-obj docutils literal"><span class="pre">local</span></tt></a>&#8216;s current working directory and
<a class="reference internal" href="api/core/operations.html#fabric.operations.put" title="fabric.operations.put"><tt class="xref py py-obj docutils literal"><span class="pre">put</span></tt></a>/<a class="reference internal" href="api/core/operations.html#fabric.operations.get" title="fabric.operations.get"><tt class="xref py py-obj docutils literal"><span class="pre">get</span></tt></a>&#8216;s local working
directories.</li>
<li><a class="reference external" href="https://github.com/fabric/fabric/issues/274">#274</a>: <a class="reference internal" href="api/core/operations.html#fabric.operations.put" title="fabric.operations.put"><tt class="xref py py-obj docutils literal"><span class="pre">put</span></tt></a>/<a class="reference internal" href="api/core/operations.html#fabric.operations.get" title="fabric.operations.get"><tt class="xref py py-obj docutils literal"><span class="pre">get</span></tt></a> now have
return values which may be iterated over to access the paths of files
uploaded remotely or downloaded locally, respectively. These return values
also allow access to <tt class="docutils literal"><span class="pre">.failed</span></tt> and <tt class="docutils literal"><span class="pre">.succeeded</span></tt> attributes, just like
<a class="reference internal" href="api/core/operations.html#fabric.operations.run" title="fabric.operations.run"><tt class="xref py py-obj docutils literal"><span class="pre">run</span></tt></a> and friends. (In this case, <tt class="docutils literal"><span class="pre">.failed</span></tt> is actually
a list itself containing any paths which failed to transfer, which naturally
acts as a boolean as well.)</li>
</ul>
</div>
<div class="section" id="id8">
<h3>Documentation updates<a class="headerlink" href="#id8" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>API, tutorial and usage docs updated with the above new features.</li>
<li>README now makes the Python 2.5+ requirement up front and explicit; some
folks were still assuming it would run on Python 2.4.</li>
<li>Added a link to Python&#8217;s documentation for string interpolation in
<a class="reference internal" href="api/contrib/files.html#fabric.contrib.files.upload_template" title="fabric.contrib.files.upload_template"><tt class="xref py py-obj docutils literal"><span class="pre">upload_template</span></tt></a>&#8216;s docstring.</li>
</ul>
</div>
</div>
<div class="section" id="changes-in-version-0-9-7-2011-06-23">
<h2>Changes in version 0.9.7 (2011-06-23)<a class="headerlink" href="#changes-in-version-0-9-7-2011-06-23" title="Permalink to this headline">¶</a></h2>
<p>The following changes were implemented in Fabric 0.9.7:</p>
<div class="section" id="id9">
<h3>Bugfixes<a class="headerlink" href="#id9" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><a class="reference external" href="https://github.com/fabric/fabric/issues/329">#329</a>: <a class="reference internal" href="api/core/operations.html#fabric.operations.reboot" title="fabric.operations.reboot"><tt class="xref py py-obj docutils literal"><span class="pre">reboot</span></tt></a> would have problems reconnecting post-reboot (resulting in a traceback) if <tt class="docutils literal"><span class="pre">env.host_string</span></tt> was not fully-formed (did not contain user and port specifiers.) This has been fixed.</li>
</ul>
</div>
</div>
<div class="section" id="changes-in-version-0-9-6-2011-04-29">
<h2>Changes in version 0.9.6 (2011-04-29)<a class="headerlink" href="#changes-in-version-0-9-6-2011-04-29" title="Permalink to this headline">¶</a></h2>
<p>The following changes were implemented in Fabric 0.9.6:</p>
<div class="section" id="id10">
<h3>Bugfixes<a class="headerlink" href="#id10" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><a class="reference external" href="https://github.com/fabric/fabric/issues/347">#347</a>: <a class="reference internal" href="api/contrib/files.html#fabric.contrib.files.append" title="fabric.contrib.files.append"><tt class="xref py py-obj docutils literal"><span class="pre">append</span></tt></a> incorrectly tested for <tt class="docutils literal"><span class="pre">str</span></tt>
instead of <tt class="docutils literal"><span class="pre">types.StringTypes</span></tt>, causing it to split up Unicode strings as
if they were one character per line. This has been fixed.</li>
</ul>
</div>
</div>
<div class="section" id="changes-in-version-0-9-5-2011-03-21">
<h2>Changes in version 0.9.5 (2011-03-21)<a class="headerlink" href="#changes-in-version-0-9-5-2011-03-21" title="Permalink to this headline">¶</a></h2>
<p>The following changes were implemented in Fabric 0.9.5:</p>
<div class="section" id="id11">
<h3>Bugfixes<a class="headerlink" href="#id11" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><a class="reference external" href="https://github.com/fabric/fabric/issues/37">#37</a>: Internal refactoring of a Paramiko call from <tt class="docutils literal"><span class="pre">_transport</span></tt> to
<tt class="docutils literal"><span class="pre">get_transport()</span></tt>.</li>
<li><a class="reference external" href="https://github.com/fabric/fabric/issues/258">#258</a>: Modify subprocess call on Windows platforms to avoid
space/quote problems in <a class="reference internal" href="api/core/operations.html#fabric.operations.local" title="fabric.operations.local"><tt class="xref py py-obj docutils literal"><span class="pre">local</span></tt></a>. Thanks to Henrik
Heimbuerger and Raymond Cote for catch + suggested fixes.</li>
<li><a class="reference external" href="https://github.com/fabric/fabric/issues/261">#261</a>: Fix bug in <a class="reference internal" href="api/contrib/files.html#fabric.contrib.files.comment" title="fabric.contrib.files.comment"><tt class="xref py py-obj docutils literal"><span class="pre">comment</span></tt></a> which truncated
regexen ending with <tt class="docutils literal"><span class="pre">$</span></tt>. Thanks to Antti Kaihola for the catch.</li>
<li><a class="reference external" href="https://github.com/fabric/fabric/issues/264">#264</a>: Fix edge case in <a class="reference internal" href="api/core/operations.html#fabric.operations.reboot" title="fabric.operations.reboot"><tt class="xref py py-obj docutils literal"><span class="pre">reboot</span></tt></a> by gracefully
clearing connection cache. Thanks to Jason Gerry for the report &amp;
troubleshooting.</li>
<li><a class="reference external" href="https://github.com/fabric/fabric/issues/268">#268</a>: Allow for <tt class="docutils literal"><span class="pre">&#64;</span></tt> symbols in usernames, which is valid on some
systems. Fabric&#8217;s host-string parser now splits username and hostname at the
last <tt class="docutils literal"><span class="pre">&#64;</span></tt> found instead of the first. Thanks to Thadeus Burgess for the
report.</li>
<li><a class="reference external" href="https://github.com/fabric/fabric/issues/287">#287</a>: Fix bug in password prompt causing occasional tracebacks.
Thanks to Antti Kaihola for the catch and Rick Harding for testing the
proposed solution.</li>
<li><a class="reference external" href="https://github.com/fabric/fabric/issues/288">#288</a>: Use temporary files to work around the lack of a <tt class="docutils literal"><span class="pre">-i</span></tt> flag in
OpenBSD and NetBSD <a class="reference internal" href="api/contrib/files.html#fabric.contrib.files.sed" title="fabric.contrib.files.sed"><tt class="xref py py-obj docutils literal"><span class="pre">sed</span></tt></a>. Thanks to Morgan Lefieux for
catch + patches.</li>
<li><a class="reference external" href="https://github.com/fabric/fabric/issues/305">#305</a>: Strip whitespace from hostnames to help prevent user error.
Thanks to Michael Bravo for the report and Rick Harding for the patch.</li>
<li><a class="reference external" href="https://github.com/fabric/fabric/issues/316">#316</a>: Use of <a class="reference internal" href="api/core/context_managers.html#fabric.context_managers.settings" title="fabric.context_managers.settings"><tt class="xref py py-obj docutils literal"><span class="pre">settings</span></tt></a> with key names not
previously set in <tt class="docutils literal"><span class="pre">env</span></tt> no longer raises KeyErrors. Whoops. Thanks to Adam
Ernst for the catch.</li>
</ul>
</div>
<div class="section" id="id12">
<h3>Documentation updates<a class="headerlink" href="#id12" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><a class="reference external" href="https://github.com/fabric/fabric/issues/228">#228</a>: Added description of the PyCrypto + pip + Python 2.5 problem to
the documentation and removed the Python 2.5 check from <tt class="docutils literal"><span class="pre">setup.py</span></tt>.</li>
<li><a class="reference external" href="https://github.com/fabric/fabric/issues/291">#291</a>: Updated the PyPM-related install docs re: recent changes in
PyPM and its download URLs. Thanks to Sridhar Ratnakumar for the patch.</li>
</ul>
</div>
</div>
<div class="section" id="changes-in-version-0-9-4-2011-02-18">
<h2>Changes in version 0.9.4 (2011-02-18)<a class="headerlink" href="#changes-in-version-0-9-4-2011-02-18" title="Permalink to this headline">¶</a></h2>
<p>The following changes were implemented in Fabric 0.9.4:</p>
<div class="section" id="id13">
<h3>Feature additions<a class="headerlink" href="#id13" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Added <a class="reference internal" href="usage/library.html"><em>documentation</em></a> for using Fabric as a library.</li>
<li>Mentioned our <a class="reference external" href="https://twitter.com/pyfabric">Twitter account</a> on the main
docs page.</li>
<li><a class="reference external" href="https://github.com/fabric/fabric/issues/290">#290</a>: Added <tt class="docutils literal"><span class="pre">escape</span></tt> kwarg to <a class="reference internal" href="api/contrib/files.html#fabric.contrib.files.append" title="fabric.contrib.files.append"><tt class="xref py py-obj docutils literal"><span class="pre">append</span></tt></a> to
allow control over previously automatic single-quote escaping.</li>
</ul>
</div>
</div>
<div class="section" id="changes-in-version-0-9-3-2010-11-12">
<h2>Changes in version 0.9.3 (2010-11-12)<a class="headerlink" href="#changes-in-version-0-9-3-2010-11-12" title="Permalink to this headline">¶</a></h2>
<p>The following changes were implemented in Fabric 0.9.3:</p>
<div class="section" id="id14">
<h3>Feature additions<a class="headerlink" href="#id14" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><a class="reference external" href="https://github.com/fabric/fabric/issues/255">#255</a>: Added <tt class="docutils literal"><span class="pre">stderr</span></tt> and <tt class="docutils literal"><span class="pre">succeeded</span></tt> attributes to
<a class="reference internal" href="api/core/operations.html#fabric.operations.local" title="fabric.operations.local"><tt class="xref py py-obj docutils literal"><span class="pre">local</span></tt></a>.</li>
<li><a class="reference external" href="https://github.com/fabric/fabric/issues/254">#254</a>: Backported the <tt class="docutils literal"><span class="pre">.stderr</span></tt> and <tt class="docutils literal"><span class="pre">.succeeded</span></tt> attributes on
<a class="reference internal" href="api/core/operations.html#fabric.operations.run" title="fabric.operations.run"><tt class="xref py py-obj docutils literal"><span class="pre">run</span></tt></a>/<a class="reference internal" href="api/core/operations.html#fabric.operations.sudo" title="fabric.operations.sudo"><tt class="xref py py-obj docutils literal"><span class="pre">sudo</span></tt></a> return values, from the
Git master/pre-1.0 branch. Please see those functions&#8217; API docs for details.</li>
</ul>
</div>
<div class="section" id="id15">
<h3>Bugfixes<a class="headerlink" href="#id15" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><a class="reference external" href="https://github.com/fabric/fabric/issues/228">#228</a>: We discovered that the pip + PyCrypto installation problem was
limited to Python 2.5 only, and have updated our <tt class="docutils literal"><span class="pre">setup.py</span></tt> accordingly.</li>
<li><a class="reference external" href="https://github.com/fabric/fabric/issues/230">#230</a>: Arbitrary or remainder commands (<tt class="docutils literal"><span class="pre">fab</span> <span class="pre">&lt;opts&gt;</span> <span class="pre">--</span> <span class="pre">&lt;run</span> <span class="pre">command</span>
<span class="pre">here&gt;</span></tt>) will no longer blow up when invoked with no fabfile present. Thanks
to IRC user <tt class="docutils literal"><span class="pre">orkaa</span></tt> for the report.</li>
<li><a class="reference external" href="https://github.com/fabric/fabric/issues/242">#242</a>: Empty string values in task CLI args now parse correctly.
Thanks to Aaron Levy for the catch + patch.</li>
</ul>
</div>
<div class="section" id="id16">
<h3>Documentation updates<a class="headerlink" href="#id16" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><a class="reference external" href="https://github.com/fabric/fabric/issues/239">#239</a>: Fixed typo in execution usage docs. Thanks to Pradeep Gowda and
Turicas for the catch.</li>
</ul>
</div>
</div>
<div class="section" id="changes-in-version-0-9-2-2010-09-06">
<h2>Changes in version 0.9.2 (2010-09-06)<a class="headerlink" href="#changes-in-version-0-9-2-2010-09-06" title="Permalink to this headline">¶</a></h2>
<p>The following changes were implemented in Fabric 0.9.2:</p>
<div class="section" id="id17">
<h3>Feature additions<a class="headerlink" href="#id17" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>The <a class="reference internal" href="api/core/operations.html#fabric.operations.reboot" title="fabric.operations.reboot"><tt class="xref py py-obj docutils literal"><span class="pre">reboot</span></tt></a> operation has been added, providing a way for
Fabric to issue a reboot command and then reconnect after the system has
restarted.</li>
<li><tt class="docutils literal"><span class="pre">python</span> <span class="pre">setup.py</span> <span class="pre">test</span></tt> now runs Fabric&#8217;s test suite (provided you have all
the prerequisites from the <tt class="docutils literal"><span class="pre">requirements.txt</span></tt> installed). Thanks to Eric
Holscher for the patch.</li>
<li>Added functionality for loading fabfiles which are Python packages
(directories) instead of just modules (single files.) See
<a class="reference internal" href="usage/fabfiles.html#fabfile-discovery"><em>Fabfile discovery</em></a>.</li>
<li>Added output lines informing the user of which tasks are being executed (e.g.
<tt class="docutils literal"><span class="pre">[myserver]</span> <span class="pre">Executing</span> <span class="pre">task</span> <span class="pre">'foo'</span></tt>.)</li>
<li>Added support for lazy (callable) role definition values in <tt class="docutils literal"><span class="pre">env.roledefs</span></tt>.</li>
<li>Added <a class="reference internal" href="api/contrib/django.html#module-fabric.contrib.django" title="fabric.contrib.django"><tt class="xref py py-obj docutils literal"><span class="pre">contrib.django</span></tt></a> module with basic Django
integration.</li>
<li><a class="reference internal" href="usage/env.html#local-user"><em>env.local_user</em></a> was added, providing easy and permanent
access to the local system username, even if an alternate remote username has
been specified.</li>
<li><a class="reference external" href="https://github.com/fabric/fabric/issues/29">#29</a>: Added support for arbitrary command-line-driven anonymous tasks
via <tt class="docutils literal"><span class="pre">fab</span> <span class="pre">[options]</span> <span class="pre">--</span> <span class="pre">[shell</span> <span class="pre">command]</span></tt>. See <a class="reference internal" href="usage/fab.html#arbitrary-commands"><em>Arbitrary remote shell commands</em></a>.</li>
<li><a class="reference external" href="https://github.com/fabric/fabric/issues/52">#52</a>: Full tracebacks during aborts are now displayed if the user has
opted to see debug-level output.</li>
<li><a class="reference external" href="https://github.com/fabric/fabric/issues/101">#101</a>: Added <a class="reference internal" href="api/core/colors.html#module-fabric.colors" title="fabric.colors"><tt class="xref py py-obj docutils literal"><span class="pre">colors</span></tt></a> module with basic color output support.
(<a class="reference external" href="https://github.com/fabric/fabric/issues/101">#101</a> is still open: we plan to leverage the new module in Fabric&#8217;s
own output in the future.)</li>
<li><a class="reference external" href="https://github.com/fabric/fabric/issues/137">#137</a>: Commas used to separate per-task arguments may now be escaped
with a backslash. Thanks to Erich Heine for the patch.</li>
<li><a class="reference external" href="https://github.com/fabric/fabric/issues/144">#144</a>: <a class="reference internal" href="api/core/decorators.html#fabric.decorators.hosts" title="fabric.decorators.hosts"><tt class="xref py py-obj docutils literal"><span class="pre">hosts</span></tt></a> (and <a class="reference internal" href="api/core/decorators.html#fabric.decorators.roles" title="fabric.decorators.roles"><tt class="xref py py-obj docutils literal"><span class="pre">roles</span></tt></a>)
will now expand a single, iterable argument instead of requiring one to use
e.g.  <tt class="docutils literal"><span class="pre">&#64;hosts(*iterable)</span></tt>.</li>
<li><a class="reference external" href="https://github.com/fabric/fabric/issues/151">#151</a>: Added a <a class="reference internal" href="api/core/utils.html#fabric.utils.puts" title="fabric.utils.puts"><tt class="xref py py-obj docutils literal"><span class="pre">puts</span></tt></a> utility function, which allows
greater control over fabfile-generated (as opposed to Fabric-generated)
output. Also added <a class="reference internal" href="api/core/utils.html#fabric.utils.fastprint" title="fabric.utils.fastprint"><tt class="xref py py-obj docutils literal"><span class="pre">fastprint</span></tt></a>, an alias to
<a class="reference internal" href="api/core/utils.html#fabric.utils.puts" title="fabric.utils.puts"><tt class="xref py py-obj docutils literal"><span class="pre">puts</span></tt></a> allowing for convenient unbuffered,
non-newline-terminated printing.</li>
<li><a class="reference external" href="https://github.com/fabric/fabric/issues/208">#208</a>: Users rolling their own shell completion or who otherwise find
themselves performing text manipulation on the output of <a class="reference internal" href="usage/fab.html#cmdoption-l"><em class="xref std std-option">--list</em></a> may now use <a class="reference internal" href="usage/fab.html#cmdoption--shortlist"><em class="xref std std-option">--shortlist</em></a> to get a plain, newline-separated
list of task names.</li>
</ul>
</div>
<div class="section" id="id18">
<h3>Bugfixes<a class="headerlink" href="#id18" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>The interactive &#8220;what host to connect to?&#8221; prompt now correctly updates the
appropriate environment variables (hostname, username, port) based on user
input.</li>
<li>Fixed a bug where Fabric&#8217;s own internal fabfile would pre-empt the user&#8217;s
fabfile due to a PYTHONPATH order issue. User fabfiles are now always loaded
at the front of the PYTHONPATH during import.</li>
<li>Disabled some DeprecationWarnings thrown by Paramiko when that library is
imported into Fabric under Python 2.6.</li>
<li><a class="reference external" href="https://github.com/fabric/fabric/issues/44">#44</a>, <a class="reference external" href="https://github.com/fabric/fabric/issues/63">#63</a>: Modified <a class="reference internal" href="api/contrib/project.html#fabric.contrib.project.rsync_project" title="fabric.contrib.project.rsync_project"><tt class="xref py py-obj docutils literal"><span class="pre">rsync_project</span></tt></a> to
honor the SSH port and identity file settings. Thanks to Mitch Matuson
and Morgan Goose.</li>
<li><a class="reference external" href="https://github.com/fabric/fabric/issues/123">#123</a>: Removed Cygwin from the &#8220;are we on Windows&#8221; test; now, only
Python installs whose <tt class="docutils literal"><span class="pre">sys.platform</span></tt> says <tt class="docutils literal"><span class="pre">'win32'</span></tt> will use Windows-only
code paths (e.g. importing of <tt class="docutils literal"><span class="pre">pywin32</span></tt>).</li>
</ul>
</div>
<div class="section" id="id19">
<h3>Documentation updates<a class="headerlink" href="#id19" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Added a few new items to the <a class="reference internal" href="faq.html"><em>FAQ</em></a>.</li>
<li><a class="reference external" href="https://github.com/fabric/fabric/issues/173">#173</a>: Simple but rather embarrassing typo fix in README. Thanks to
Ted Nyman for the catch.</li>
<li><a class="reference external" href="https://github.com/fabric/fabric/issues/194">#194</a>: Added a note to <a class="reference internal" href="installation.html"><em>the install docs</em></a> about a
possible edge case some Windows 64-bit Python users may encounter.</li>
<li><a class="reference external" href="https://github.com/fabric/fabric/issues/216">#216</a>: Overhauled the <a class="reference internal" href="faq.html#faq-daemonize"><em>process backgrounding FAQ</em></a>
to include additional techniques and be more holistic.</li>
</ul>
</div>
<div class="section" id="packaging-updates">
<h3>Packaging updates<a class="headerlink" href="#packaging-updates" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><a class="reference external" href="https://github.com/fabric/fabric/issues/86">#86</a>, <a class="reference external" href="https://github.com/fabric/fabric/issues/158">#158</a>: Removed the bundled Paramiko 1.7.4 and updated the
<tt class="docutils literal"><span class="pre">setup.py</span></tt> to require Paramiko &gt;=1.7.6. This lets us skip the known-buggy
Paramiko 1.7.5 while getting some much needed bugfixes in Paramiko 1.7.6.</li>
</ul>
</div>
</div>
<div class="section" id="changes-in-version-0-9-1-2010-05-28">
<h2>Changes in version 0.9.1 (2010-05-28)<a class="headerlink" href="#changes-in-version-0-9-1-2010-05-28" title="Permalink to this headline">¶</a></h2>
<p>The following changes were implemented in Fabric 0.9.1:</p>
<div class="section" id="id20">
<h3>Feature additions<a class="headerlink" href="#id20" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><a class="reference external" href="https://github.com/fabric/fabric/issues/82">#82</a>: <a class="reference internal" href="api/contrib/files.html#fabric.contrib.files.append" title="fabric.contrib.files.append"><tt class="xref py py-obj docutils literal"><span class="pre">append</span></tt></a> now offers a <tt class="docutils literal"><span class="pre">partial</span></tt> kwarg
allowing control over whether the &#8220;don&#8217;t append if given text already exists&#8221;
test looks for exact matches or not. Thanks to Jonas Nockert for the catch
and discussion.</li>
<li><a class="reference external" href="https://github.com/fabric/fabric/issues/112">#112</a>: <tt class="docutils literal"><span class="pre">fab</span> <span class="pre">--list</span></tt> now prints out the fabfile&#8217;s module-level
docstring as a header, if there is one.</li>
<li><a class="reference external" href="https://github.com/fabric/fabric/issues/141">#141</a>: Added some more CLI args/env vars to allow user configuration
of the Paramiko <tt class="docutils literal"><span class="pre">connect</span></tt> call &#8211; specifically <a class="reference internal" href="usage/env.html#no-agent"><em>no_agent</em></a> and
<a class="reference internal" href="usage/env.html#no-keys"><em>no_keys</em></a>.</li>
</ul>
</div>
<div class="section" id="id21">
<h3>Bugfixes<a class="headerlink" href="#id21" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><a class="reference external" href="https://github.com/fabric/fabric/issues/75">#75</a>: <tt class="docutils literal"><span class="pre">fab</span></tt>, when called with no arguments or (useful) options, now
prints help, even when no fabfile can be found. Previously, calling <tt class="docutils literal"><span class="pre">fab</span></tt>
in a location with no fabfile would complain about the lack of fabfile
instead of displaying help.</li>
<li><a class="reference external" href="https://github.com/fabric/fabric/issues/130">#130</a>: Context managers now correctly clean up <tt class="docutils literal"><span class="pre">env</span></tt> if they
encounter an exception. Thanks to Carl Meyer for catch + patch.</li>
<li><a class="reference external" href="https://github.com/fabric/fabric/issues/132">#132</a>: <a class="reference internal" href="api/core/operations.html#fabric.operations.local" title="fabric.operations.local"><tt class="xref py py-obj docutils literal"><span class="pre">local</span></tt></a> now calls <tt class="docutils literal"><span class="pre">strip</span></tt> on its stdout,
matching the behavior of <a class="reference internal" href="api/core/operations.html#fabric.operations.run" title="fabric.operations.run"><tt class="xref py py-obj docutils literal"><span class="pre">run</span></tt></a>/<a class="reference internal" href="api/core/operations.html#fabric.operations.sudo" title="fabric.operations.sudo"><tt class="xref py py-obj docutils literal"><span class="pre">sudo</span></tt></a>.
Thanks to Carl Meyer again on this one.</li>
<li><a class="reference external" href="https://github.com/fabric/fabric/issues/166">#166</a>: <a class="reference internal" href="api/core/context_managers.html#fabric.context_managers.cd" title="fabric.context_managers.cd"><tt class="xref py py-obj docutils literal"><span class="pre">cd</span></tt></a> now correctly overwrites
<tt class="docutils literal"><span class="pre">env.cwd</span></tt> when given an absolute path, instead of naively appending its
argument to <tt class="docutils literal"><span class="pre">env.cwd</span></tt>&#8216;s previous value.</li>
</ul>
</div>
<div class="section" id="id22">
<h3>Documentation updates<a class="headerlink" href="#id22" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>A number of small to medium documentation tweaks were made which had no
specific Redmine ticket. The largest of these is the addition of <a class="reference internal" href="faq.html"><em>the
FAQ</em></a> to the Sphinx documentation instead of storing it as a
source-only text file. (Said FAQ was also slightly expanded with new FAQs.)</li>
<li><a class="reference external" href="https://github.com/fabric/fabric/issues/17">#17</a>: Added <a class="reference internal" href="faq.html#faq-daemonize"><em>note to FAQ</em></a> re: use of <tt class="docutils literal"><span class="pre">dtach</span></tt> as
alternative to <tt class="docutils literal"><span class="pre">screen</span></tt>. Thanks to Erich Heine for the tip.</li>
<li><a class="reference external" href="https://github.com/fabric/fabric/issues/64">#64</a>: Updated <a class="reference internal" href="installation.html#downloads"><em>installation docs</em></a> to clarify where
package maintainers should be downloading tarballs from. Thanks to James
Pearson for providing the necessary perspective.</li>
<li><a class="reference external" href="https://github.com/fabric/fabric/issues/95">#95</a>: Added a link to a given version&#8217;s changelog on the PyPI page
(technically, to the <tt class="docutils literal"><span class="pre">setup.py</span></tt> <tt class="docutils literal"><span class="pre">long_description</span></tt> field).</li>
<li><a class="reference external" href="https://github.com/fabric/fabric/issues/110">#110</a>: Alphabetized <a class="reference internal" href="usage/fab.html#command-line-options"><em>the CLI argument command reference</em></a>. Thanks to Erich Heine.</li>
<li><a class="reference external" href="https://github.com/fabric/fabric/issues/120">#120</a>: Tweaked documentation, help strings to make it more obvious
that fabfiles are simply Python modules.</li>
<li><a class="reference external" href="https://github.com/fabric/fabric/issues/127">#127</a>: Added <a class="reference internal" href="installation.html#pypm"><em>note to install docs</em></a> re: ActiveState&#8217;s
PyPM. Thanks to Sridhar Ratnakumar for the tip.</li>
</ul>
</div>
</div>
<div class="section" id="changes-in-version-0-9-2009-11-08">
<h2>Changes in version 0.9 (2009-11-08)<a class="headerlink" href="#changes-in-version-0-9-2009-11-08" title="Permalink to this headline">¶</a></h2>
<p>This document details the various backwards-incompatible changes made during
Fabric&#8217;s rewrite between versions 0.1 and 0.9. The codebase has been almost
completely rewritten and reorganized and an attempt has been made to remove
&#8220;magical&#8221; behavior and make things more simple and Pythonic; the <tt class="docutils literal"><span class="pre">fab</span></tt>
command-line component has also been redone to behave more like a typical Unix
program.</p>
<div class="section" id="major-changes">
<h3>Major changes<a class="headerlink" href="#major-changes" title="Permalink to this headline">¶</a></h3>
<p>You&#8217;ll want to at least skim the entire document, but the primary changes that
will need to be made to one&#8217;s fabfiles are as follows:</p>
<div class="section" id="imports">
<h4>Imports<a class="headerlink" href="#imports" title="Permalink to this headline">¶</a></h4>
<p>You will need to <strong>explicitly import any and all methods or decorators used</strong>,
at the top of your fabfile; they are no longer magically available. Here&#8217;s a
sample fabfile that worked with 0.1 and earlier:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="nd">@hosts</span><span class="p">(</span><span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;b&#39;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">my_task</span><span class="p">():</span>
    <span class="n">run</span><span class="p">(</span><span class="s">&#39;ls /var/www&#39;</span><span class="p">)</span>
    <span class="n">sudo</span><span class="p">(</span><span class="s">&#39;mkdir /var/www/newsite&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>The above fabfile uses <tt class="xref py py-obj docutils literal"><span class="pre">hosts</span></tt>, <tt class="xref py py-obj docutils literal"><span class="pre">run</span></tt> and <tt class="xref py py-obj docutils literal"><span class="pre">sudo</span></tt>, and so in Fabric 0.9 one
simply needs to import those objects from the new API module <tt class="docutils literal"><span class="pre">fabric.api</span></tt>:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">fabric.api</span> <span class="kn">import</span> <span class="n">hosts</span><span class="p">,</span> <span class="n">run</span><span class="p">,</span> <span class="n">sudo</span>

<span class="nd">@hosts</span><span class="p">(</span><span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;b&#39;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">my_task</span><span class="p">():</span>
    <span class="n">run</span><span class="p">(</span><span class="s">&#39;ls /var/www&#39;</span><span class="p">)</span>
    <span class="n">sudo</span><span class="p">(</span><span class="s">&#39;mkdir /var/www/newsite&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>You may, if you wish, use <tt class="docutils literal"><span class="pre">from</span> <span class="pre">fabric.api</span> <span class="pre">import</span> <span class="pre">*</span></tt>, though this is
technically not Python best practices; or you may import directly from the
Fabric submodules (e.g. <tt class="docutils literal"><span class="pre">from</span> <span class="pre">fabric.decorators</span> <span class="pre">import</span> <span class="pre">hosts</span></tt>.)
See <a class="reference internal" href="usage/fabfiles.html"><em>Fabfile construction and use</em></a> for more information.</p>
</div>
<div class="section" id="python-version">
<h4>Python version<a class="headerlink" href="#python-version" title="Permalink to this headline">¶</a></h4>
<p>Fabric started out Python 2.5-only, but became largely 2.4 compatible at one
point during its lifetime. Fabric is once again <strong>only compatible with Python
2.5 or newer</strong>, in order to take advantage of the various new features and
functions available in that version.</p>
<p>With this change we&#8217;re setting an official policy to support the two most
recent stable releases of the Python 2.x line, which at time of writing is 2.5
and 2.6. We feel this is a decent compromise between new features and the
reality of operating system packaging concerns. Given that most users use
Fabric from their workstations, which are typically more up-to-date than
servers, we&#8217;re hoping this doesn&#8217;t cut out too many folks.</p>
<p>Finally, note that while we will not officially support a 2.4-compatible
version or fork, we may provide a link to such a project if one arises.</p>
</div>
<div class="section" id="environment-config-variables">
<h4>Environment/config variables<a class="headerlink" href="#environment-config-variables" title="Permalink to this headline">¶</a></h4>
<p>The <tt class="docutils literal"><span class="pre">config</span></tt> object previously used to access and set internal state
(including Fabric config options) <strong>has been renamed</strong> to <tt class="xref py py-data docutils literal"><span class="pre">env</span></tt>, but
otherwise remains mostly the same (it allows both dictionary and
object-attribute style access to its data.) <tt class="xref py py-data docutils literal"><span class="pre">env</span></tt> resides in the
<tt class="xref py py-mod docutils literal"><span class="pre">state</span></tt> submodule and is importable via <tt class="docutils literal"><span class="pre">fabric.api</span></tt>, so where before
one might have seen fabfiles like this:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">def</span> <span class="nf">my_task</span><span class="p">():</span>
    <span class="n">config</span><span class="o">.</span><span class="n">foo</span> <span class="o">=</span> <span class="s">&#39;bar&#39;</span>
</pre></div>
</div>
<p>one will now be explicitly importing the object like so:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">fabric.api</span> <span class="kn">import</span> <span class="n">env</span>

<span class="k">def</span> <span class="nf">my_task</span><span class="p">():</span>
    <span class="n">env</span><span class="o">.</span><span class="n">foo</span> <span class="o">=</span> <span class="s">&#39;bar&#39;</span>
</pre></div>
</div>
</div>
<div class="section" id="execution-mode">
<h4>Execution mode<a class="headerlink" href="#execution-mode" title="Permalink to this headline">¶</a></h4>
<p>Fabric&#8217;s default mode of use, in prior versions, was what we called &#8220;broad
mode&#8221;: your tasks, as Python code, ran only once, and any calls to functions
that made connections (such as <tt class="xref py py-obj docutils literal"><span class="pre">run</span></tt> or <tt class="xref py py-obj docutils literal"><span class="pre">sudo</span></tt>) would run once per host in the
current host list. We also offered &#8220;deep mode&#8221;, in which your entire task
function would run once per host.</p>
<p>In Fabric 0.9, this dichotomy has been removed, and <strong>&#8220;deep mode&#8221; is the
method Fabric uses to perform all operations</strong>. This allows you to treat your
Fabfiles much more like regular Python code, including the use of <tt class="docutils literal"><span class="pre">if</span></tt>
statements and so forth, and allows operations like <tt class="xref py py-obj docutils literal"><span class="pre">run</span></tt> to unambiguously
return the output from the server.</p>
<p>Other modes of execution such as the old &#8220;broad mode&#8221; may return as Fabric&#8217;s
internals are refactored and expanded, but for now we&#8217;ve simplified things, and
deep mode made the most sense as the primary mode of use.</p>
</div>
<div class="section" id="lazy-string-interpolation">
<h4>&#8220;Lazy&#8221; string interpolation<a class="headerlink" href="#lazy-string-interpolation" title="Permalink to this headline">¶</a></h4>
<p>Because of how Fabric used to run in &#8220;broad mode&#8221; (see previous section) a
special string formatting technique &#8211; the use of a bash-like dollar sign
notation, e.g. <tt class="docutils literal"><span class="pre">&quot;hostname:</span> <span class="pre">$(fab_host)&quot;</span></tt> &#8211; had to be used to allow the
current state of execution to be represented in one&#8217;s operations. <strong>This is no
longer necessary and has been removed</strong>. Because your tasks are executed once
per host, you may build strings normally (e.g. with the <tt class="docutils literal"><span class="pre">%</span></tt> operator) and
refer to <tt class="docutils literal"><span class="pre">env.host_string</span></tt>, <tt class="docutils literal"><span class="pre">env.user</span></tt> and so forth.</p>
<p>For example, Fabric 0.1 had to insert the current username like so:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">print</span><span class="p">(</span><span class="s">&quot;Your current username is $(fab_user)&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>Fabric 0.9 and up simply reference <tt class="docutils literal"><span class="pre">env</span></tt> variables as normal:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">print</span><span class="p">(</span><span class="s">&quot;Your current username is </span><span class="si">%s</span><span class="s">&quot;</span> <span class="o">%</span> <span class="n">env</span><span class="o">.</span><span class="n">user</span><span class="p">)</span>
</pre></div>
</div>
<p>As with the execution modes, a special string interpolation function or method
that automatically makes use of <tt class="docutils literal"><span class="pre">env</span></tt> values may find its way back into
Fabric at some point if a need becomes apparent.</p>
</div>
<div class="section" id="other-backwards-incompatible-changes">
<h4>Other backwards-incompatible changes<a class="headerlink" href="#other-backwards-incompatible-changes" title="Permalink to this headline">¶</a></h4>
<p>In no particular order:</p>
<ul>
<li><p class="first">The Fabric config file location used to be <tt class="docutils literal"><span class="pre">~/.fabric</span></tt>; in the interests
of honoring Unix filename conventions, it&#8217;s now <tt class="docutils literal"><span class="pre">~/.fabricrc</span></tt>.</p>
</li>
<li><p class="first">The old <tt class="docutils literal"><span class="pre">config</span></tt> object (now <tt class="xref py py-data docutils literal"><span class="pre">env</span></tt>) had a <tt class="docutils literal"><span class="pre">getAny</span></tt> method which
took one or more key strings as arguments, and returned the value attached
to the first valid key. This method still exists but has been renamed to
<tt class="xref py py-obj docutils literal"><span class="pre">first</span></tt>.</p>
</li>
<li><p class="first">Environment variables such as <tt class="docutils literal"><span class="pre">fab_host</span></tt> have been renamed to simply e.g.
<tt class="docutils literal"><span class="pre">host</span></tt>. This looks cleaner and feels more natural, and requires less
typing. Users will naturally need to be careful not to override these
variables, but the same holds true for e.g. Python&#8217;s builtin methods and
types already, so we felt it was worth the tradeoff.</p>
</li>
<li><p class="first">Fabric&#8217;s version header is no longer printed every time the program runs;
you should now use the standard <tt class="docutils literal"><span class="pre">--version</span></tt>/<tt class="docutils literal"><span class="pre">-V</span></tt> command-line options to
print version and exit.</p>
</li>
<li><p class="first">The old <tt class="docutils literal"><span class="pre">about</span></tt> command has been removed; other Unix programs don&#8217;t
typically offer this. Users can always view the license and warranty info in
their respective text files distributed with the software.</p>
</li>
<li><p class="first">The old <tt class="docutils literal"><span class="pre">help</span></tt> command is now the typical Unix options <tt class="docutils literal"><span class="pre">-h</span></tt>/<tt class="docutils literal"><span class="pre">--help</span></tt>.</p>
<blockquote>
<div><ul class="simple">
<li>Furthermore, there is no longer a listing of Fabric&#8217;s programming API
available through the command line &#8211; those topics impact fabfile
authors, not fab users (even though the former is a subset of the
latter) and should stay in the documentation only.</li>
</ul>
</div></blockquote>
</li>
<li><p class="first"><tt class="xref py py-obj docutils literal"><span class="pre">prompt</span></tt>&#8216;s primary function is now to return a value to the caller, although
it may still optionally store the entered value in <tt class="xref py py-obj docutils literal"><span class="pre">env</span></tt> as well.</p>
</li>
<li><p class="first"><tt class="xref py py-obj docutils literal"><span class="pre">prompt</span></tt> now considers the empty string to be valid input; this allows other
functions to wrap <tt class="xref py py-obj docutils literal"><span class="pre">prompt</span></tt> and handle &#8220;empty&#8221; input on their own terms.</p>
</li>
<li><p class="first">In addition to the above changes, <tt class="xref py py-obj docutils literal"><span class="pre">prompt</span></tt> has been updated to behave more
obviously, as its previous behavior was confusing in a few ways:</p>
<blockquote>
<div><ul class="simple">
<li>It will now overwrite pre-existing values in the environment dict, but
will print a warning to the user if it does so.</li>
<li>Additionally, (and this appeared to be undocumented) the <tt class="docutils literal"><span class="pre">default</span></tt>
argument could take a callable as well as a string, and would simply set
the default message to the return value if a callable was given. This
seemed to add unnecessary complexity (given that users may call e.g.
<tt class="docutils literal"><span class="pre">prompt(blah,</span> <span class="pre">msg,</span> <span class="pre">default=my_callable()</span></tt>) so it has been removed.</li>
</ul>
</div></blockquote>
</li>
<li><p class="first">When connecting, Fabric used to use the undocumented <tt class="docutils literal"><span class="pre">fab_pkey</span></tt> env
variable as a method of passing in a Paramiko <tt class="docutils literal"><span class="pre">PKey</span></tt> object to the SSH
client&#8217;s <tt class="docutils literal"><span class="pre">connect</span></tt> method. This has been removed in favor of an
<tt class="docutils literal"><span class="pre">ssh</span></tt>-like <tt class="docutils literal"><span class="pre">-i</span></tt> option, which allows one to specify a private key file
to use; that should generally be enough for most users.</p>
</li>
<li><p class="first"><tt class="docutils literal"><span class="pre">download</span></tt> is now <tt class="xref py py-obj docutils literal"><span class="pre">get</span></tt> in order to match up with <tt class="xref py py-obj docutils literal"><span class="pre">put</span></tt> (the name mismatch
was due to <tt class="xref py py-obj docutils literal"><span class="pre">get</span></tt> being the old method of getting env vars.)</p>
</li>
<li><p class="first">The <tt class="docutils literal"><span class="pre">noshell</span></tt> argument to <tt class="xref py py-obj docutils literal"><span class="pre">sudo</span></tt> (added late in its life to previous
Fabric versions) has been renamed to <tt class="docutils literal"><span class="pre">shell</span></tt> (defaults to True, so the
effective behavior remains the same) and has also been extended to the <tt class="xref py py-obj docutils literal"><span class="pre">run</span></tt>
operation.</p>
<blockquote>
<div><ul class="simple">
<li>Additionally, the global <tt class="docutils literal"><span class="pre">sudo_noshell</span></tt> option has been renamed to
<tt class="docutils literal"><span class="pre">use_shell</span></tt> and also applies to both <tt class="xref py py-obj docutils literal"><span class="pre">run</span></tt> and <tt class="xref py py-obj docutils literal"><span class="pre">sudo</span></tt>.</li>
</ul>
</div></blockquote>
</li>
<li><p class="first"><tt class="docutils literal"><span class="pre">local_per_host</span></tt> has been removed, as it only applied to the now-removed
&#8220;broad mode&#8221;.</p>
</li>
<li><p class="first"><tt class="docutils literal"><span class="pre">load</span></tt> has been removed; Fabric is now &#8220;just Python&#8221;, so use Python&#8217;s
import mechanisms in order to stitch multiple fabfiles together.</p>
</li>
<li><p class="first"><tt class="docutils literal"><span class="pre">abort</span></tt> is no longer an &#8220;operation&#8221; <em>per se</em> and has been moved to
<a class="reference internal" href="api/core/utils.html#module-fabric.utils" title="fabric.utils"><tt class="xref py py-mod docutils literal"><span class="pre">fabric.utils</span></tt></a>. It is otherwise the same as before, taking a single
string message, printing it to the user and then calling <tt class="docutils literal"><span class="pre">sys.exit(1)</span></tt>.</p>
</li>
<li><p class="first"><tt class="docutils literal"><span class="pre">rsyncproject</span></tt> and <tt class="docutils literal"><span class="pre">upload_project</span></tt> have been moved into
<tt class="xref py py-mod docutils literal"><span class="pre">fabric.contrib</span></tt> (specifically, <a class="reference internal" href="api/contrib/project.html#module-fabric.contrib.project" title="fabric.contrib.project"><tt class="xref py py-mod docutils literal"><span class="pre">fabric.contrib.project</span></tt></a>), which
is intended to be a new tree of submodules for housing &#8220;extra&#8221; code which
may build on top of the core Fabric operations.</p>
</li>
<li><p class="first"><tt class="docutils literal"><span class="pre">invoke</span></tt> has been turned on its head, and is now the <tt class="xref py py-obj docutils literal"><span class="pre">runs_once</span></tt> decorator
(living in <a class="reference internal" href="api/core/decorators.html#module-fabric.decorators" title="fabric.decorators"><tt class="xref py py-mod docutils literal"><span class="pre">fabric.decorators</span></tt></a>). When used to decorate a function, that
function will only execute one time during the lifetime of a <tt class="docutils literal"><span class="pre">fab</span></tt> run.
Thus, where you might have used <tt class="docutils literal"><span class="pre">invoke</span></tt> multiple times to ensure a given
command only runs once, you may now use <tt class="xref py py-obj docutils literal"><span class="pre">runs_once</span></tt> to decorate the function
and then call it multiple times in a normal fashion.</p>
</li>
<li><p class="first">It looks like the regex behavior of the <tt class="docutils literal"><span class="pre">validate</span></tt> argument to <tt class="xref py py-obj docutils literal"><span class="pre">prompt</span></tt>
was never actually implemented. It now works as advertised.</p>
</li>
<li><p class="first">Couldn&#8217;t think of a good reason for <tt class="xref py py-obj docutils literal"><span class="pre">require</span></tt> to be a decorator <em>and</em> a
function, and the function is more versatile in terms of where it may be
used, so the decorator has been removed.</p>
</li>
<li><p class="first">As things currently stand with the execution model, the <tt class="docutils literal"><span class="pre">depends</span></tt>
decorator doesn&#8217;t make a lot of sense: instead, it&#8217;s safest/best to simply
make &#8220;meta&#8221; commands that just call whatever chain of &#8220;real&#8221; commands you
need performed for a given overarching task.</p>
<p>For example, instead of having command A say
that it &#8220;depends on&#8221; command B, create a command C which calls A and B in the
right order, e.g.:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">def</span> <span class="nf">build</span><span class="p">():</span>
    <span class="n">local</span><span class="p">(</span><span class="s">&#39;make clean all&#39;</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">upload</span><span class="p">():</span>
    <span class="n">put</span><span class="p">(</span><span class="s">&#39;app.tgz&#39;</span><span class="p">,</span> <span class="s">&#39;/tmp/app.tgz&#39;</span><span class="p">)</span>
    <span class="n">run</span><span class="p">(</span><span class="s">&#39;tar xzf /tmp/app.tgz&#39;</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">symlink</span><span class="p">():</span>
    <span class="n">run</span><span class="p">(</span><span class="s">&#39;ln -s /srv/media/photos /var/www/app/photos&#39;</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">deploy</span><span class="p">():</span>
    <span class="n">build</span><span class="p">()</span>
    <span class="n">upload</span><span class="p">()</span>
    <span class="n">symlink</span><span class="p">()</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The execution model is still subject to change as Fabric evolves. Please
don&#8217;t hesitate to email the list or the developers if you have a use case
that needs something Fabric doesn&#8217;t provide right now!</p>
</div>
</li>
<li><p class="first">Removed the old <tt class="docutils literal"><span class="pre">fab</span> <span class="pre">shell</span></tt> functionality, since the move to &#8220;just Python&#8221;
should make vanilla <tt class="docutils literal"><span class="pre">python</span></tt>/<tt class="docutils literal"><span class="pre">ipython</span></tt> usage of Fabric much easier.</p>
<blockquote>
<div><ul class="simple">
<li>We may add it back in later as a convenient shortcut to what basically
amounts to running <tt class="docutils literal"><span class="pre">ipython</span></tt> and performing a handful of <tt class="docutils literal"><span class="pre">from</span>
<span class="pre">fabric.foo</span> <span class="pre">import</span> <span class="pre">bar</span></tt> calls.</li>
</ul>
</div></blockquote>
</li>
<li><p class="first">The undocumented <tt class="xref py py-obj docutils literal"><span class="pre">fab_quiet</span></tt> option has been replaced by a much more granular
set of output controls. For more info, see <a class="reference internal" href="usage/output_controls.html"><em>Managing output</em></a>.</p>
</li>
</ul>
</div>
</div>
<div class="section" id="changes-from-alpha-1-to-alpha-2">
<h3>Changes from alpha 1 to alpha 2<a class="headerlink" href="#changes-from-alpha-1-to-alpha-2" title="Permalink to this headline">¶</a></h3>
<p>The below list was generated by running <tt class="docutils literal"><span class="pre">git</span> <span class="pre">shortlog</span> <span class="pre">0.9a1..0.9a2</span></tt> and then
manually sifting through and editing the resulting commit messages. This will
probably occur for the rest of the alphas and betas; we hope to use
Sphinx-specific methods of documenting changes once the final release is out
the door.</p>
<ul class="simple">
<li>Various minor tweaks to the (still in-progress) documentation, including one
thanks to Curt Micol.</li>
<li>Added a number of TODO items based on user feedback (thanks!)</li>
<li>Host information now available in granular form (user, host, port) in the
env dict, alongside the full <tt class="docutils literal"><span class="pre">user&#64;host:port</span></tt> host string.</li>
<li>Parsing of host strings is now more lenient when examining the username
(e.g. hyphens.)</li>
<li>User/host info no longer cleared out between commands.</li>
<li>Tweaked <tt class="docutils literal"><span class="pre">setup.py</span></tt> to use <tt class="docutils literal"><span class="pre">find_packages</span></tt>. Thanks to Pat McNerthney.</li>
<li>Added &#8216;capture&#8217; argument to <a class="reference internal" href="api/core/operations.html#fabric.operations.local" title="fabric.operations.local"><tt class="xref py py-obj docutils literal"><span class="pre">local</span></tt></a> to allow local
interactive tasks.</li>
<li>Reversed default value of <a class="reference internal" href="api/core/operations.html#fabric.operations.local" title="fabric.operations.local"><tt class="xref py py-obj docutils literal"><span class="pre">local</span></tt></a>&#8216;s <tt class="docutils literal"><span class="pre">show_stderr</span></tt>
kwarg; local stderr now prints by default instead of being hidden by
default.</li>
<li>Various internal fabfile tweaks.</li>
</ul>
</div>
<div class="section" id="changes-from-alpha-2-to-alpha-3">
<h3>Changes from alpha 2 to alpha 3<a class="headerlink" href="#changes-from-alpha-2-to-alpha-3" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Lots of updates to the documentation and TODO</li>
<li>Added contrib.files with a handful of file-centric subroutines</li>
<li>Added contrib.console for console UI stuff (so far, just <tt class="xref py py-obj docutils literal"><span class="pre">confirm</span></tt>)</li>
<li>Reworked config file mechanisms a bit, added CLI flag for setting it.</li>
<li>Output controls (including CLI args, documentation) have been added</li>
<li>Test coverage tweaked and grown a small amount (thanks in part to Peter
Ellis)</li>
<li>Roles overhauled/fixed (more like hosts now)</li>
<li>Changed <tt class="docutils literal"><span class="pre">--list</span></tt> linewrap behavior to truncate instead.</li>
<li>Make private key passphrase prompting more obvious to users.</li>
<li>Add <tt class="docutils literal"><span class="pre">pty</span></tt> option to <tt class="xref py py-obj docutils literal"><span class="pre">sudo</span></tt>. Thanks to José Muanis for the tip-off re: get_pty()</li>
<li>Add CLI argument for setting the shell used in commands (thanks to Steve Steiner)</li>
<li>Only load host keys when <tt class="docutils literal"><span class="pre">env.reject_unknown_keys</span></tt> is True. Thanks to Pat
McNerthney.</li>
<li>And many, many additional bugfixes and behavioral tweaks too small to merit
cluttering up this list! Thanks as always to everyone who contributed
bugfixes, feedback and/or patches.</li>
</ul>
</div>
<div class="section" id="changes-from-alpha-3-to-beta-1">
<h3>Changes from alpha 3 to beta 1<a class="headerlink" href="#changes-from-alpha-3-to-beta-1" title="Permalink to this headline">¶</a></h3>
<p>This is closer to being a straight dump of the Git changelog than the previous
sections; apologies for the overall change in tense.</p>
<ul class="simple">
<li>Add autodocs for fabric.contrib.console.</li>
<li>Minor cleanup to package init and setup.py.</li>
<li>Handle exceptions with strerror attributes that are None instead of strings.</li>
<li>contrib.files.append may now take a list of strings if desired.</li>
<li>Straighten out how prompt() deals with trailing whitespace</li>
<li>Add &#8216;cd&#8217; context manager.</li>
<li>Update upload_template to correctly handle backing up target directories.</li>
<li>upload_template() can now use Jinja2 if it&#8217;s installed and user asks for it.</li>
<li>Handle case where remote host SSH key doesn&#8217;t match known_hosts.</li>
<li>Fix race condition in run/sudo.</li>
<li>Start fledgling FAQ; extended pty option to run(); related doc tweaks.</li>
<li>Bring local() in line with run()/sudo() in terms of .failed attribute.</li>
<li>Add dollar-sign backslash escaping to run/sudo.</li>
<li>Add FAQ question re: backgrounding processes.</li>
<li>Extend some of put()&#8217;s niceties to get(), plus docstring/comment updates</li>
<li>Add debug output of chosen fabfile for troubleshooting fabfile discovery.</li>
<li>Fix Python path bug which sometimes caused Fabric&#8217;s internal fabfile to
pre-empt user&#8217;s fabfile during load phase.</li>
<li>Gracefully handle &#8220;display&#8221; for tasks with no docstring.</li>
<li>Fix edge case that comes up during some auth/prompt situations.</li>
<li>Handle carriage returns in output_thread correctly. Thanks to Brian Rosner.</li>
</ul>
</div>
<div class="section" id="changes-from-beta-1-to-release-candidate-1">
<h3>Changes from beta 1 to release candidate 1<a class="headerlink" href="#changes-from-beta-1-to-release-candidate-1" title="Permalink to this headline">¶</a></h3>
<p>As with the previous changelog, this is also mostly a dump of the Git log. We
promise that future changelogs will be more verbose :)</p>
<ul class="simple">
<li>Near-total overhaul and expansion of documentation (this is the big one!)
Other mentions of documentation in this list are items deserving their own
mention, e.g. FAQ updates.</li>
<li>Add FAQ question re: passphrase/password prompt</li>
<li>Vendorized Paramiko: it is now included in our distribution and is no longer
an external dependency, at least until upstream fixes a nasty 1.7.5 bug.</li>
<li>Fix #34: switch upload_template to use mkstemp (also removes Python 2.5.2+
dependency &#8211; now works on 2.5.0 and up)</li>
<li>Fix #62 by escaping backticks.</li>
<li>Replace &#8220;ls&#8221; with &#8220;test&#8221; in exists()</li>
<li>Fixes #50. Thanks to Alex Koshelev for the patch.</li>
<li><tt class="docutils literal"><span class="pre">local</span></tt>&#8216;s return value now exhibits <tt class="docutils literal"><span class="pre">.return_code</span></tt>.</li>
<li>Abort on bad role names instead of blowing up.</li>
<li>Turn off DeprecationWarning when importing paramiko.</li>
<li>Attempted fix re #32 (dropped output)</li>
<li>Update role/host initialization logic (was missing some edge cases)</li>
<li>Add note to install docs re: PyCrypto on win32.</li>
<li>Add FAQ item re: changing env.shell.</li>
<li>Rest of TODO migrated to tickets.</li>
<li><tt class="docutils literal"><span class="pre">fab</span> <span class="pre">test</span></tt> (when in source tree) now uses doctests.</li>
<li>Add note to compatibility page re: fab_quiet.</li>
<li>Update local() to honor context_managers.cd()</li>
</ul>
</div>
<div class="section" id="changes-from-release-candidate-1-to-final-release">
<h3>Changes from release candidate 1 to final release<a class="headerlink" href="#changes-from-release-candidate-1-to-final-release" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Fixed the <a class="reference internal" href="api/contrib/files.html#fabric.contrib.files.sed" title="fabric.contrib.files.sed"><tt class="xref py py-obj docutils literal"><span class="pre">sed</span></tt></a> docstring to accurately reflect which
<tt class="docutils literal"><span class="pre">sed</span></tt> options it uses.</li>
<li>Various changes to internal fabfile, version mechanisms, and other
non-user-facing things.</li>
</ul>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">


<h3>Project Versions</h3>
<ul id="sidebar_versions">
    
    
    <li><a href="/en/1.8.0/">1.8.0</a></li>
    
    
    
    <li><a href="/en/1.7.0/">1.7.0</a></li>
    
    
    
    <li><a href="/en/1.6.2/">1.6.2</a></li>
    
    
    
    <li><a href="/en/1.6.1/">1.6.1</a></li>
    
    
    
    <li><a href="/en/1.6.0/">1.6.0</a></li>
    
    
    
    <li><a href="/en/1.5.4/">1.5.4</a></li>
    
    
    
    <li><a href="/en/1.5.3/">1.5.3</a></li>
    
    
    
    <li><a href="/en/1.5.2/">1.5.2</a></li>
    
    
    
    <li><a href="/en/1.5.1/">1.5.1</a></li>
    
    
    
    <li><a href="/en/1.5.0/">1.5.0</a></li>
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
</ul>


  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Changelog</a><ul>
<li><a class="reference internal" href="#prehistory">Prehistory</a></li>
<li><a class="reference internal" href="#changes-in-version-1-1-2-2011-07-07">Changes in version 1.1.2 (2011-07-07)</a><ul>
<li><a class="reference internal" href="#bugfixes">Bugfixes</a></li>
</ul>
</li>
<li><a class="reference internal" href="#changes-in-version-1-1-1-2011-06-29">Changes in version 1.1.1 (2011-06-29)</a><ul>
<li><a class="reference internal" href="#id1">Bugfixes</a></li>
</ul>
</li>
<li><a class="reference internal" href="#changes-in-version-1-1-2011-06-24">Changes in version 1.1 (2011-06-24)</a><ul>
<li><a class="reference internal" href="#highlights">Highlights</a></li>
<li><a class="reference internal" href="#feature-additions">Feature additions</a></li>
<li><a class="reference internal" href="#id2">Bugfixes</a></li>
<li><a class="reference internal" href="#documentation-updates">Documentation updates</a></li>
<li><a class="reference internal" href="#internals">Internals</a></li>
</ul>
</li>
<li><a class="reference internal" href="#changes-in-version-1-0-2-2011-06-24">Changes in version 1.0.2 (2011-06-24)</a><ul>
<li><a class="reference internal" href="#id3">Bugfixes</a></li>
<li><a class="reference internal" href="#documentation">Documentation</a></li>
</ul>
</li>
<li><a class="reference internal" href="#changes-in-version-1-0-1-2011-03-27">Changes in version 1.0.1 (2011-03-27)</a><ul>
<li><a class="reference internal" href="#id4">Bugfixes</a></li>
<li><a class="reference internal" href="#id5">Documentation</a></li>
</ul>
</li>
<li><a class="reference internal" href="#changes-in-version-1-0-2011-03-04">Changes in version 1.0 (2011-03-04)</a><ul>
<li><a class="reference internal" href="#id6">Highlights</a></li>
<li><a class="reference internal" href="#backwards-incompatible-changes">Backwards-incompatible changes</a></li>
<li><a class="reference internal" href="#id7">Feature additions</a></li>
<li><a class="reference internal" href="#id8">Documentation updates</a></li>
</ul>
</li>
<li><a class="reference internal" href="#changes-in-version-0-9-7-2011-06-23">Changes in version 0.9.7 (2011-06-23)</a><ul>
<li><a class="reference internal" href="#id9">Bugfixes</a></li>
</ul>
</li>
<li><a class="reference internal" href="#changes-in-version-0-9-6-2011-04-29">Changes in version 0.9.6 (2011-04-29)</a><ul>
<li><a class="reference internal" href="#id10">Bugfixes</a></li>
</ul>
</li>
<li><a class="reference internal" href="#changes-in-version-0-9-5-2011-03-21">Changes in version 0.9.5 (2011-03-21)</a><ul>
<li><a class="reference internal" href="#id11">Bugfixes</a></li>
<li><a class="reference internal" href="#id12">Documentation updates</a></li>
</ul>
</li>
<li><a class="reference internal" href="#changes-in-version-0-9-4-2011-02-18">Changes in version 0.9.4 (2011-02-18)</a><ul>
<li><a class="reference internal" href="#id13">Feature additions</a></li>
</ul>
</li>
<li><a class="reference internal" href="#changes-in-version-0-9-3-2010-11-12">Changes in version 0.9.3 (2010-11-12)</a><ul>
<li><a class="reference internal" href="#id14">Feature additions</a></li>
<li><a class="reference internal" href="#id15">Bugfixes</a></li>
<li><a class="reference internal" href="#id16">Documentation updates</a></li>
</ul>
</li>
<li><a class="reference internal" href="#changes-in-version-0-9-2-2010-09-06">Changes in version 0.9.2 (2010-09-06)</a><ul>
<li><a class="reference internal" href="#id17">Feature additions</a></li>
<li><a class="reference internal" href="#id18">Bugfixes</a></li>
<li><a class="reference internal" href="#id19">Documentation updates</a></li>
<li><a class="reference internal" href="#packaging-updates">Packaging updates</a></li>
</ul>
</li>
<li><a class="reference internal" href="#changes-in-version-0-9-1-2010-05-28">Changes in version 0.9.1 (2010-05-28)</a><ul>
<li><a class="reference internal" href="#id20">Feature additions</a></li>
<li><a class="reference internal" href="#id21">Bugfixes</a></li>
<li><a class="reference internal" href="#id22">Documentation updates</a></li>
</ul>
</li>
<li><a class="reference internal" href="#changes-in-version-0-9-2009-11-08">Changes in version 0.9 (2009-11-08)</a><ul>
<li><a class="reference internal" href="#major-changes">Major changes</a><ul>
<li><a class="reference internal" href="#imports">Imports</a></li>
<li><a class="reference internal" href="#python-version">Python version</a></li>
<li><a class="reference internal" href="#environment-config-variables">Environment/config variables</a></li>
<li><a class="reference internal" href="#execution-mode">Execution mode</a></li>
<li><a class="reference internal" href="#lazy-string-interpolation">&#8220;Lazy&#8221; string interpolation</a></li>
<li><a class="reference internal" href="#other-backwards-incompatible-changes">Other backwards-incompatible changes</a></li>
</ul>
</li>
<li><a class="reference internal" href="#changes-from-alpha-1-to-alpha-2">Changes from alpha 1 to alpha 2</a></li>
<li><a class="reference internal" href="#changes-from-alpha-2-to-alpha-3">Changes from alpha 2 to alpha 3</a></li>
<li><a class="reference internal" href="#changes-from-alpha-3-to-beta-1">Changes from alpha 3 to beta 1</a></li>
<li><a class="reference internal" href="#changes-from-beta-1-to-release-candidate-1">Changes from beta 1 to release candidate 1</a></li>
<li><a class="reference internal" href="#changes-from-release-candidate-1-to-final-release">Changes from release candidate 1 to final release</a></li>
</ul>
</li>
</ul>
</li>
</ul>

  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="_sources/changelog.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li><a href="index.html">Fabric 1.8 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2013, Christian Vest Hansen and Jeffrey E. Forcier.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.3.
    </div>
  </body>
</html>